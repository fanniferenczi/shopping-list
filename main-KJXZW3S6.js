var Nj=Object.defineProperty,kj=Object.defineProperties;var Oj=Object.getOwnPropertyDescriptors;var G0=Object.getOwnPropertySymbols,Pj=Object.getPrototypeOf,Fj=Object.prototype.hasOwnProperty,Lj=Object.prototype.propertyIsEnumerable,Vj=Reflect.get;var W0=(n,e,t)=>e in n?Nj(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})Fj.call(e,t)&&W0(n,t,e[t]);if(G0)for(var t of G0(e))Lj.call(e,t)&&W0(n,t,e[t]);return n},oe=(n,e)=>kj(n,Oj(e));var Ui=(n,e,t)=>Vj(Pj(n),t,e);var y=(n,e,t)=>new Promise((r,i)=>{var o=c=>{try{a(t.next(c))}catch(u){i(u)}},s=c=>{try{a(t.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((t=t.apply(n,e)).next())});var Wv;function ch(){return Wv}function wr(n){let e=Wv;return Wv=n,e}var K0=Symbol("NotFound");function ya(n){return n===K0||n?.name==="\u0275NotFound"}function fh(n,e){return Object.is(n,e)}var tn=null,lh=!1,Kv=1,jj=null,Nt=Symbol("SIGNAL");function se(n){let e=tn;return tn=n,e}function ph(){return tn}var Xo={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Jo(n){if(lh)throw new Error("");if(tn===null)return;tn.consumerOnSignalRead(n);let e=tn.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=tn.recomputing;if(r&&(t=e!==void 0?e.nextProducer:tn.producers,t!==void 0&&t.producer===n)){tn.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===tn&&(!r||Uj(i,tn)))return;let o=ba(tn),s={producer:n,consumer:tn,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};tn.producersTail=s,e!==void 0?e.nextProducer=s:tn.producers=s,o&&X0(n,s)}function Y0(){Kv++}function mh(n){if(!(ba(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Kv)){if(!n.producerMustRecompute(n)&&!ts(n)){hh(n);return}n.producerRecomputeValue(n),hh(n)}}function Yv(n){if(n.consumers===void 0)return;let e=lh;lh=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||Bj(r)}}finally{lh=e}}function Qv(){return tn?.consumerAllowSignalWrites!==!1}function Bj(n){n.dirty=!0,Yv(n),n.consumerMarkedDirty?.(n)}function hh(n){n.dirty=!1,n.lastCleanEpoch=Kv}function $i(n){return n&&Q0(n),se(n)}function Q0(n){n.producersTail=void 0,n.recomputing=!0}function es(n,e){se(e),n&&Z0(n)}function Z0(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(ba(n))do t=Zv(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function ts(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(mh(t),r!==t.version))return!0}return!1}function zi(n){if(ba(n)){let e=n.producers;for(;e!==void 0;)e=Zv(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function X0(n,e){let t=n.consumersTail,r=ba(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)X0(i.producer,i)}function Zv(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!ba(e)){let o=e.producers;for(;o!==void 0;)o=Zv(o)}return t}function ba(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function gh(n){jj?.(n)}function Uj(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function El(n,e){let t=Object.create($j);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(mh(t),Jo(t),t.value===bl)throw t.error;return t.value};return r[Nt]=t,gh(t),r}var uh=Symbol("UNSET"),dh=Symbol("COMPUTING"),bl=Symbol("ERRORED"),$j=oe(k({},Xo),{value:uh,dirty:!0,error:null,equal:fh,kind:"computed",producerMustRecompute(n){return n.value===uh||n.value===dh},producerRecomputeValue(n){if(n.value===dh)throw new Error("");let e=n.value;n.value=dh;let t=$i(n),r,i=!1;try{r=n.computation(),se(null),i=e!==uh&&e!==bl&&r!==bl&&n.equal(e,r)}catch(o){r=bl,n.error=o}finally{es(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function zj(){throw new Error}var J0=zj;function eS(n){J0(n)}function Xv(n){J0=n}var Hj=null;function Jv(n,e){let t=Object.create(wl);t.value=n,e!==void 0&&(t.equal=e);let r=()=>tS(t);return r[Nt]=t,gh(t),[r,s=>Ea(t,s),s=>e_(t,s)]}function tS(n){return Jo(n),n.value}function Ea(n,e){Qv()||eS(n),n.equal(n.value,e)||(n.value=e,qj(n))}function e_(n,e){Qv()||eS(n),Ea(n,e(n.value))}var wl=oe(k({},Xo),{equal:fh,value:void 0,kind:"signal"});function qj(n){n.version++,Y0(),Yv(n),Hj?.(n)}function he(n){return typeof n=="function"}function wa(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var vh=wa(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ns(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ie=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(he(r))try{r()}catch(o){e=o instanceof vh?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{nS(o)}catch(s){e=e??[],s instanceof vh?e=[...e,...s.errors]:e.push(s)}}if(e)throw new vh(e)}}add(e){var t;if(e&&e!==this)if(this.closed)nS(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ns(t,e)}remove(e){let{_finalizers:t}=this;t&&ns(t,e),e instanceof n&&e._removeParent(this)}};Ie.EMPTY=(()=>{let n=new Ie;return n.closed=!0,n})();var t_=Ie.EMPTY;function _h(n){return n instanceof Ie||n&&"closed"in n&&he(n.remove)&&he(n.add)&&he(n.unsubscribe)}function nS(n){he(n)?n():n.unsubscribe()}var ir={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Ia={setTimeout(n,e,...t){let{delegate:r}=Ia;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Ia;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function yh(n){Ia.setTimeout(()=>{let{onUnhandledError:e}=ir;if(e)e(n);else throw n})}function Il(){}var rS=n_("C",void 0,void 0);function iS(n){return n_("E",void 0,n)}function oS(n){return n_("N",n,void 0)}function n_(n,e,t){return{kind:n,value:e,error:t}}var rs=null;function Ca(n){if(ir.useDeprecatedSynchronousErrorHandling){let e=!rs;if(e&&(rs={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=rs;if(rs=null,t)throw r}}else n()}function sS(n){ir.useDeprecatedSynchronousErrorHandling&&rs&&(rs.errorThrown=!0,rs.error=n)}var is=class extends Ie{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,_h(e)&&e.add(this)):this.destination=Kj}static create(e,t,r){return new or(e,t,r)}next(e){this.isStopped?i_(oS(e),this):this._next(e)}error(e){this.isStopped?i_(iS(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?i_(rS,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Gj=Function.prototype.bind;function r_(n,e){return Gj.call(n,e)}var o_=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){bh(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){bh(r)}else bh(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){bh(t)}}},or=class extends is{constructor(e,t,r){super();let i;if(he(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&ir.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&r_(e.next,o),error:e.error&&r_(e.error,o),complete:e.complete&&r_(e.complete,o)}):i=e}this.destination=new o_(i)}};function bh(n){ir.useDeprecatedSynchronousErrorHandling?sS(n):yh(n)}function Wj(n){throw n}function i_(n,e){let{onStoppedNotification:t}=ir;t&&Ia.setTimeout(()=>t(n,e))}var Kj={closed:!0,next:Il,error:Wj,complete:Il};var Da=typeof Symbol=="function"&&Symbol.observable||"@@observable";function un(n){return n}function Eh(...n){return s_(n)}function s_(n){return n.length===0?un:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Q=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=Qj(t)?t:new or(t,r,i);return Ca(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=aS(r),new r((i,o)=>{let s=new or({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Da](){return this}pipe(...t){return s_(t)(this)}toPromise(t){return t=aS(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function aS(n){var e;return(e=n??ir.Promise)!==null&&e!==void 0?e:Promise}function Yj(n){return n&&he(n.next)&&he(n.error)&&he(n.complete)}function Qj(n){return n&&n instanceof is||Yj(n)&&_h(n)}function a_(n){return he(n?.lift)}function le(n){return e=>{if(a_(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,e,t,r,i){return new c_(n,e,t,r,i)}var c_=class extends is{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ta(){return le((n,e)=>{let t=null;n._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Sa=class extends Q{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,a_(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ie;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ie.EMPTY)}return e}refCount(){return Ta()(this)}};var cS=wa(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var G=(()=>{class n extends Q{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new wh(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new cS}next(t){Ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ca(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?t_:(this.currentObservers=null,o.push(t),new Ie(()=>{this.currentObservers=null,ns(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Q;return t.source=this,t}}return n.create=(e,t)=>new wh(e,t),n})(),wh=class extends G{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:t_}};var pt=class extends G{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cl={now(){return(Cl.delegate||Date).now()},delegate:void 0};var Hi=class extends G{constructor(e=1/0,t=1/0,r=Cl){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:s}=this;t||(r.push(e),!i&&r.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let s=0;s<o.length&&!e.closed;s+=r?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var Ih=class extends Ie{constructor(e,t){super()}schedule(e,t=0){return this}};var Dl={setInterval(n,e,...t){let{delegate:r}=Dl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Dl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Aa=class extends Ih{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Dl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Dl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ns(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var xa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};xa.now=Cl.now;var Ra=class extends xa{constructor(e,t=xa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var qi=new Ra(Aa),l_=qi;var Ch=class extends Aa{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Dh=class extends Ra{};var u_=new Dh(Ch);var nn=new Q(n=>n.complete());function Th(n){return n&&he(n.schedule)}function d_(n){return n[n.length-1]}function Sh(n){return he(d_(n))?n.pop():void 0}function Ir(n){return Th(d_(n))?n.pop():void 0}function lS(n,e){return typeof d_(n)=="number"?n.pop():e}function h_(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dS(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{u(r.next(d))}catch(p){s(p)}}function c(d){try{u(r.throw(d))}catch(p){s(p)}}function u(d){d.done?o(d.value):i(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}function uS(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function os(n){return this instanceof os?(this.v=n,this):new os(n)}function hS(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(g){return function(I){return Promise.resolve(I).then(g,p)}}function a(g,I){r[g]&&(i[g]=function(x){return new Promise(function(M,L){o.push([g,x,M,L])>1||c(g,x)})},I&&(i[g]=I(i[g])))}function c(g,I){try{u(r[g](I))}catch(x){m(o[0][3],x)}}function u(g){g.value instanceof os?Promise.resolve(g.value.v).then(d,p):m(o[0][2],g)}function d(g){c("next",g)}function p(g){c("throw",g)}function m(g,I){g(I),o.shift(),o.length&&c(o[0][0],o[0][1])}}function fS(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof uS=="function"?uS(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,c){s=n[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(u){o({value:u,done:a})},s)}}var Ah=n=>n&&typeof n.length=="number"&&typeof n!="function";function xh(n){return he(n?.then)}function Rh(n){return he(n[Da])}function Mh(n){return Symbol.asyncIterator&&he(n?.[Symbol.asyncIterator])}function Nh(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Zj(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var kh=Zj();function Oh(n){return he(n?.[kh])}function Ph(n){return hS(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield os(t.read());if(i)return yield os(void 0);yield yield os(r)}}finally{t.releaseLock()}})}function Fh(n){return he(n?.getReader)}function Ke(n){if(n instanceof Q)return n;if(n!=null){if(Rh(n))return Xj(n);if(Ah(n))return Jj(n);if(xh(n))return e2(n);if(Mh(n))return pS(n);if(Oh(n))return t2(n);if(Fh(n))return n2(n)}throw Nh(n)}function Xj(n){return new Q(e=>{let t=n[Da]();if(he(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Jj(n){return new Q(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function e2(n){return new Q(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,yh)})}function t2(n){return new Q(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function pS(n){return new Q(e=>{r2(n,e).catch(t=>e.error(t))})}function n2(n){return pS(Ph(n))}function r2(n,e){var t,r,i,o;return dS(this,void 0,void 0,function*(){try{for(t=fS(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function wn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Gi(n,e=0){return le((t,r)=>{t.subscribe(ae(r,i=>wn(r,n,()=>r.next(i),e),()=>wn(r,n,()=>r.complete(),e),i=>wn(r,n,()=>r.error(i),e)))})}function Wi(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function mS(n,e){return Ke(n).pipe(Wi(e),Gi(e))}function gS(n,e){return Ke(n).pipe(Wi(e),Gi(e))}function vS(n,e){return new Q(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function _S(n,e){return new Q(t=>{let r;return wn(t,e,()=>{r=n[kh](),wn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>he(r?.return)&&r.return()})}function Lh(n,e){if(!n)throw new Error("Iterable cannot be null");return new Q(t=>{wn(t,e,()=>{let r=n[Symbol.asyncIterator]();wn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function yS(n,e){return Lh(Ph(n),e)}function bS(n,e){if(n!=null){if(Rh(n))return mS(n,e);if(Ah(n))return vS(n,e);if(xh(n))return gS(n,e);if(Mh(n))return Lh(n,e);if(Oh(n))return _S(n,e);if(Fh(n))return yS(n,e)}throw Nh(n)}function Ze(n,e){return e?bS(n,e):Ke(n)}function W(...n){let e=Ir(n);return Ze(n,e)}function Ki(n,e){let t=he(n)?n:()=>n,r=i=>i.error(t());return new Q(e?i=>e.schedule(r,0,i):r)}function Vh(n){return!!n&&(n instanceof Q||he(n.lift)&&he(n.subscribe))}var sr=wa(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function f_(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=new or({next:s=>{r(s),o.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new sr)}});n.subscribe(o)})}function ES(n){return n instanceof Date&&!isNaN(n)}function q(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:i2}=Array;function o2(n,e){return i2(e)?n(...e):n(e)}function jh(n){return q(e=>o2(n,e))}var{isArray:s2}=Array,{getPrototypeOf:a2,prototype:c2,keys:l2}=Object;function Bh(n){if(n.length===1){let e=n[0];if(s2(e))return{args:e,keys:null};if(u2(e)){let t=l2(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function u2(n){return n&&typeof n=="object"&&a2(n)===c2}function Uh(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Ma(...n){let e=Ir(n),t=Sh(n),{args:r,keys:i}=Bh(n);if(r.length===0)return Ze([],e);let o=new Q(d2(r,e,i?s=>Uh(i,s):un));return t?o.pipe(jh(t)):o}function d2(n,e,t=un){return r=>{wS(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)wS(e,()=>{let u=Ze(n[c],e),d=!1;u.subscribe(ae(r,p=>{o[c]=p,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function wS(n,e,t){n?wn(t,n,e):e()}function IS(n,e,t,r,i,o,s,a){let c=[],u=0,d=0,p=!1,m=()=>{p&&!c.length&&!u&&e.complete()},g=x=>u<r?I(x):c.push(x),I=x=>{o&&e.next(x),u++;let M=!1;Ke(t(x,d++)).subscribe(ae(e,L=>{i?.(L),o?g(L):e.next(L)},()=>{M=!0},void 0,()=>{if(M)try{for(u--;c.length&&u<r;){let L=c.shift();s?wn(e,s,()=>I(L)):I(L)}m()}catch(L){e.error(L)}}))};return n.subscribe(ae(e,g,()=>{p=!0,m()})),()=>{a?.()}}function kt(n,e,t=1/0){return he(e)?kt((r,i)=>q((o,s)=>e(r,o,i,s))(Ke(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>IS(r,i,n,t)))}function $h(n=1/0){return kt(un,n)}function CS(){return $h(1)}function Yi(...n){return CS()(Ze(n,Ir(n)))}function ss(n){return new Q(e=>{Ke(n()).subscribe(e)})}function Tl(...n){let e=Sh(n),{args:t,keys:r}=Bh(n),i=new Q(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),c=s,u=s;for(let d=0;d<s;d++){let p=!1;Ke(t[d]).subscribe(ae(o,m=>{p||(p=!0,u--),a[d]=m},()=>c--,void 0,()=>{(!c||!p)&&(u||o.next(r?Uh(r,a):a),o.complete())}))}});return e?i.pipe(jh(e)):i}function DS(n=0,e,t=l_){let r=-1;return e!=null&&(Th(e)?t=e:r=e),new Q(i=>{let o=ES(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){i.closed||(i.next(s++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function as(...n){let e=Ir(n),t=lS(n,1/0),r=n;return r.length?r.length===1?Ke(r[0]):$h(t)(Ze(r,e)):nn}function Oe(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function TS(n){return le((e,t)=>{let r=!1,i=null,o=null,s=!1,a=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let u=i;i=null,t.next(u)}s&&t.complete()},c=()=>{o=null,s&&t.complete()};e.subscribe(ae(t,u=>{r=!0,i=u,o||Ke(n(u)).subscribe(o=ae(t,a,c))},()=>{s=!0,(!r||!o||o.closed)&&t.complete()}))})}function zh(n,e=qi){return TS(()=>DS(n,e))}function Cr(n){return le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ae(t,void 0,void 0,s=>{o=Ke(n(s,Cr(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function SS(n,e,t,r,i){return(o,s)=>{let a=t,c=e,u=0;o.subscribe(ae(s,d=>{let p=u++;c=a?n(c,d,p):(a=!0,d),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function Qi(n,e){return he(e)?kt(n,e,1):kt(n,1)}function Sl(n,e=qi){return le((t,r)=>{let i=null,o=null,s=null,a=()=>{if(i){i.unsubscribe(),i=null;let u=o;o=null,r.next(u)}};function c(){let u=s+n,d=e.now();if(d<u){i=this.schedule(void 0,u-d),r.add(i);return}a()}t.subscribe(ae(r,u=>{o=u,s=e.now(),i||(i=e.schedule(c,n),r.add(i))},()=>{a(),r.complete()},void 0,()=>{o=i=null}))})}function Zi(n){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function dn(n){return n<=0?()=>nn:le((e,t)=>{let r=0;e.subscribe(ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Al(n,e=un){return n=n??h2,le((t,r)=>{let i,o=!0;t.subscribe(ae(r,s=>{let a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}function h2(n,e){return n===e}function Hh(n=f2){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function f2(){return new sr}function Xi(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function ei(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Oe((i,o)=>n(i,o,r)):un,dn(1),t?Zi(e):Hh(()=>new sr))}function Na(n){return n<=0?()=>nn:le((e,t)=>{let r=[];e.subscribe(ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function p_(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Oe((i,o)=>n(i,o,r)):un,Na(1),t?Zi(e):Hh(()=>new sr))}function xl(){return le((n,e)=>{let t,r=!1;n.subscribe(ae(e,i=>{let o=t;t=i,r&&e.next([o,i]),r=!0}))})}function qh(n,e){return le(SS(n,e,arguments.length>=2,!0))}function Rl(n={}){let{connector:e=()=>new G,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,c,u=0,d=!1,p=!1,m=()=>{a?.unsubscribe(),a=void 0},g=()=>{m(),s=c=void 0,d=p=!1},I=()=>{let x=s;g(),x?.unsubscribe()};return le((x,M)=>{u++,!p&&!d&&m();let L=c=c??e();M.add(()=>{u--,u===0&&!p&&!d&&(a=m_(I,i))}),L.subscribe(M),!s&&u>0&&(s=new or({next:H=>L.next(H),error:H=>{p=!0,m(),a=m_(g,t,H),L.error(H)},complete:()=>{d=!0,m(),a=m_(g,r),L.complete()}}),Ke(x).subscribe(s))})(o)}}function m_(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new or({next:()=>{r.unsubscribe(),n()}});return Ke(e(...t)).subscribe(r)}function Gh(n,e,t){let r,i=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n:r=n??1/0,Rl({connector:()=>new Hi(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Ml(n){return Oe((e,t)=>n<=t)}function Bn(...n){let e=Ir(n);return le((t,r)=>{(e?Yi(n,t,e):Yi(n,t)).subscribe(r)})}function mt(n,e){return le((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ae(r,c=>{i?.unsubscribe();let u=0,d=o++;Ke(n(c,d)).subscribe(i=ae(r,p=>r.next(e?e(c,p,d,u++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ye(n){return le((e,t)=>{Ke(n).subscribe(ae(t,()=>t.complete(),Il)),!t.closed&&e.subscribe(t)})}function g_(n,e=!1){return le((t,r)=>{let i=0;t.subscribe(ae(r,o=>{let s=n(o,i++);(s||e)&&r.next(o),!s&&r.complete()}))})}function it(n,e,t){let r=he(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),o.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):un}function AS(n){let e=se(null);try{return n()}finally{se(e)}}var xS=oe(k({},Xo),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,hasRun:!1,kind:"effect"});function RS(n){if(n.dirty=!1,n.hasRun&&!ts(n))return;n.hasRun=!0;let e=$i(n);try{n.cleanup(),n.fn()}finally{es(n,e)}}var Ji=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},A_=new Ji("20.3.1");var Qh="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",B=class extends Error{code;constructor(e,t){super(Oa(e,t)),this.code=e}};function p2(n){return`NG0${Math.abs(n)}`}function Oa(n,e){return`${p2(n)}${e?": "+e:""}`}var Pa=globalThis;function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("")}function kS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ni(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(ni).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Zh(n,e){return n?e?`${n} ${e}`:n:e||""}var m2=Pe({__forward_ref__:Pe});function to(n){return n.__forward_ref__=to,n.toString=function(){return ni(this())},n}function zt(n){return x_(n)?n():n}function x_(n){return typeof n=="function"&&n.hasOwnProperty(m2)&&n.__forward_ref__===to}function P(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function fe(n){return{providers:n.providers||[],imports:n.imports||[]}}function Fl(n){return g2(n,Xh)}function R_(n){return Fl(n)!==null}function g2(n,e){return n.hasOwnProperty(e)&&n[e]||null}function v2(n){let e=n?.[Xh]??null;return e||null}function __(n){return n&&n.hasOwnProperty(Kh)?n[Kh]:null}var Xh=Pe({\u0275prov:Pe}),Kh=Pe({\u0275inj:Pe}),O=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=P({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function M_(n){return n&&!!n.\u0275providers}var N_=Pe({\u0275cmp:Pe}),k_=Pe({\u0275dir:Pe}),O_=Pe({\u0275pipe:Pe}),P_=Pe({\u0275mod:Pe}),kl=Pe({\u0275fac:Pe}),fs=Pe({__NG_ELEMENT_ID__:Pe}),MS=Pe({__NG_ENV_ID__:Pe});function Jh(n){return typeof n=="string"?n:n==null?"":String(n)}function OS(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Jh(n)}var PS=Pe({ngErrorCode:Pe}),_2=Pe({ngErrorMessage:Pe}),y2=Pe({ngTokenPath:Pe});function F_(n,e){return FS("",-200,e)}function ef(n,e){throw new B(-201,!1)}function FS(n,e,t){let r=new B(e,n);return r[PS]=e,r[_2]=n,t&&(r[y2]=t),r}function b2(n){return n[PS]}var y_;function LS(){return y_}function An(n){let e=y_;return y_=n,e}function L_(n,e,t){let r=Fl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;ef(n,"Injector")}var E2={},cs=E2,b_="__NG_DI_FLAG__",E_=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=ls(t)||0;try{return this.injector.get(e,r&8?null:cs,r)}catch(i){if(ya(i))return i;throw i}}};function w2(n,e=0){let t=ch();if(t===void 0)throw new B(-203,!1);if(t===null)return L_(n,void 0,e);{let r=I2(e),i=t.retrieve(n,r);if(ya(i)){if(r.optional)return null;throw i}return i}}function Z(n,e=0){return(LS()||w2)(zt(n),e)}function _(n,e){return Z(n,ls(e))}function ls(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function I2(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function w_(n){let e=[];for(let t=0;t<n.length;t++){let r=zt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],c=C2(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(Z(i,o))}else e.push(Z(r))}return e}function V_(n,e){return n[b_]=e,n.prototype[b_]=e,n}function C2(n){return n[b_]}function us(n,e){let t=n.hasOwnProperty(kl);return t?n[kl]:null}function VS(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function jS(n){return n.flat(Number.POSITIVE_INFINITY)}function tf(n,e){n.forEach(t=>Array.isArray(t)?tf(t,e):e(t))}function j_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ll(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function BS(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function US(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function nf(n,e,t){let r=Fa(n,e);return r>=0?n[r|1]=t:(r=~r,US(n,r,e,t)),r}function rf(n,e){let t=Fa(n,e);if(t>=0)return n[t|1]}function Fa(n,e){return D2(n,e,1)}function D2(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var no={},rn=[],Dr=new O(""),B_=new O("",-1),U_=new O(""),Ol=class{get(e,t=cs){if(t===cs){let i=FS("",-201);throw i.name="\u0275NotFound",i}return t}};function $_(n){return n[P_]||null}function ri(n){return n[N_]||null}function z_(n){return n[k_]||null}function $S(n){return n[O_]||null}function qt(n){return{\u0275providers:n}}function zS(n){return qt([{provide:Dr,multi:!0,useValue:n}])}function HS(...n){return{\u0275providers:H_(!0,n),\u0275fromNgModule:!0}}function H_(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return tf(e,s=>{let a=s;Yh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qS(i,o),t}function qS(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];q_(i,o=>{e(o,r)})}}function Yh(n,e,t,r){if(n=zt(n),!n)return!1;let i=null,o=__(n),s=!o&&ri(n);if(!o&&!s){let c=n.ngModule;if(o=__(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Yh(u,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{tf(o.imports,d=>{Yh(d,e,t,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&qS(u,e)}if(!a){let u=us(i)||(()=>new i);e({provide:i,useFactory:u,deps:rn},i),e({provide:U_,useValue:i,multi:!0},i),e({provide:Dr,useValue:()=>Z(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let u=n;q_(c,d=>{e(d,u)})}}else return!1;return i!==n&&n.providers!==void 0}function q_(n,e){for(let t of n)M_(t)&&(t=t.\u0275providers),Array.isArray(t)?q_(t,e):e(t)}var T2=Pe({provide:String,useValue:Pe});function GS(n){return n!==null&&typeof n=="object"&&T2 in n}function S2(n){return!!(n&&n.useExisting)}function A2(n){return!!(n&&n.useFactory)}function ds(n){return typeof n=="function"}function WS(n){return!!n.useClass}var Vl=new O(""),Wh={},NS={},v_;function La(){return v_===void 0&&(v_=new Ol),v_}var Xe=class{},hs=class extends Xe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,C_(e,s=>this.processProvider(s)),this.records.set(B_,ka(void 0,this)),i.has("environment")&&this.records.set(Xe,ka(void 0,this));let o=this.records.get(Vl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(U_,rn,{self:!0}))}retrieve(e,t){let r=ls(t)||0;try{return this.get(e,cs,r)}catch(i){if(ya(i))return i;throw i}}destroy(){Nl(this),this._destroyed=!0;let e=se(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(e)}}onDestroy(e){return Nl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Nl(this);let t=wr(this),r=An(void 0),i;try{return e()}finally{wr(t),An(r)}}get(e,t=cs,r){if(Nl(this),e.hasOwnProperty(MS))return e[MS](this);let i=ls(r),o,s=wr(this),a=An(void 0);try{if(!(i&4)){let u=this.records.get(e);if(u===void 0){let d=k2(e)&&Fl(e);d&&this.injectableDefInScope(d)?u=ka(I_(e),Wh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u,i)}let c=i&2?La():this.parent;return t=i&8&&t===cs?null:t,c.get(e,t)}catch(c){let u=b2(c);throw u===-200||u===-201?new B(u,null):c}finally{An(a),wr(s)}}resolveInjectorInitializers(){let e=se(null),t=wr(this),r=An(void 0),i;try{let o=this.get(Dr,rn,{self:!0});for(let s of o)s()}finally{wr(t),An(r),se(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ni(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=zt(e);let t=ds(e)?e:zt(e&&e.provide),r=R2(e);if(!ds(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ka(void 0,Wh,!0),i.factory=()=>w_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=se(null);try{if(t.value===NS)throw F_(ni(e));return t.value===Wh&&(t.value=NS,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&N2(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{se(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=zt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function I_(n){let e=Fl(n),t=e!==null?e.factory:us(n);if(t!==null)return t;if(n instanceof O)throw new B(204,!1);if(n instanceof Function)return x2(n);throw new B(204,!1)}function x2(n){if(n.length>0)throw new B(204,!1);let t=v2(n);return t!==null?()=>t.factory(n):()=>new n}function R2(n){if(GS(n))return ka(void 0,n.useValue);{let e=G_(n);return ka(e,Wh)}}function G_(n,e,t){let r;if(ds(n)){let i=zt(n);return us(i)||I_(i)}else if(GS(n))r=()=>zt(n.useValue);else if(A2(n))r=()=>n.useFactory(...w_(n.deps||[]));else if(S2(n))r=(i,o)=>Z(zt(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=zt(n&&(n.useClass||n.provide));if(M2(n))r=()=>new i(...w_(n.deps));else return us(i)||I_(i)}return r}function Nl(n){if(n.destroyed)throw new B(205,!1)}function ka(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function M2(n){return!!n.deps}function N2(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function k2(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function C_(n,e){for(let t of n)Array.isArray(t)?C_(t,e):t&&M_(t)?C_(t.\u0275providers,e):e(t)}function It(n,e){let t;n instanceof hs?(Nl(n),t=n):t=new E_(n);let r,i=wr(t),o=An(void 0);try{return e()}finally{wr(i),An(o)}}function KS(){return LS()!==void 0||ch()!=null}var ar=0,te=1,re=2,Ot=3,$n=4,hn=5,ps=6,Va=7,gt=8,ja=9,ii=10,nt=11,Ba=12,W_=13,ms=14,fn=15,ro=16,gs=17,Tr=18,jl=19,K_=20,ti=21,of=22,oi=23,xn=24,vs=25,Gt=26,vt=27,YS=1,Y_=6,io=7,Bl=8,_s=9,Ct=10;function Sr(n){return Array.isArray(n)&&typeof n[YS]=="object"}function cr(n){return Array.isArray(n)&&n[YS]===!0}function Q_(n){return(n.flags&4)!==0}function si(n){return n.componentOffset>-1}function Ul(n){return(n.flags&1)===1}function Ar(n){return!!n.template}function Ua(n){return(n[re]&512)!==0}function ys(n){return(n[re]&256)===256}var Z_="svg",QS="math";function zn(n){for(;Array.isArray(n);)n=n[ar];return n}function X_(n,e){return zn(e[n])}function Hn(n,e){return zn(e[n.index])}function $l(n,e){return n.data[e]}function ZS(n,e){return n[e]}function qn(n,e){let t=e[n];return Sr(t)?t:t[ar]}function XS(n){return(n[re]&4)===4}function sf(n){return(n[re]&128)===128}function JS(n){return cr(n[Ot])}function Gn(n,e){return e==null?null:n[e]}function J_(n){n[gs]=0}function ey(n){n[re]&1024||(n[re]|=1024,sf(n)&&oo(n))}function eA(n,e){for(;n>0;)e=e[ms],n--;return e}function zl(n){return!!(n[re]&9216||n[xn]?.dirty)}function af(n){n[ii].changeDetectionScheduler?.notify(8),n[re]&64&&(n[re]|=1024),zl(n)&&oo(n)}function oo(n){n[ii].changeDetectionScheduler?.notify(0);let e=eo(n);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!sf(e)));)e=eo(e)}function ty(n,e){if(ys(n))throw new B(911,!1);n[ti]===null&&(n[ti]=[]),n[ti].push(e)}function tA(n,e){if(n[ti]===null)return;let t=n[ti].indexOf(e);t!==-1&&n[ti].splice(t,1)}function eo(n){let e=n[Ot];return cr(e)?e[Ot]:e}function ny(n){return n[Va]??=[]}function ry(n){return n.cleanup??=[]}function nA(n,e,t,r){let i=ny(e);i.push(t),n.firstCreatePass&&ry(n).push(r,i.length-1)}var _e={lFrame:fA(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var D_=!1;function rA(){return _e.lFrame.elementDepthCount}function iA(){_e.lFrame.elementDepthCount++}function iy(){_e.lFrame.elementDepthCount--}function oy(){return _e.bindingsEnabled}function sy(){return _e.skipHydrationRootTNode!==null}function ay(n){return _e.skipHydrationRootTNode===n}function cy(){_e.skipHydrationRootTNode=null}function me(){return _e.lFrame.lView}function _t(){return _e.lFrame.tView}function Je(n){return _e.lFrame.contextLView=n,n[gt]}function et(n){return _e.lFrame.contextLView=null,n}function Wt(){let n=ly();for(;n!==null&&n.type===64;)n=n.parent;return n}function ly(){return _e.lFrame.currentTNode}function oA(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function $a(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function uy(){return _e.lFrame.isParent}function dy(){_e.lFrame.isParent=!1}function sA(){return _e.lFrame.contextLView}function hy(){return D_}function za(n){let e=D_;return D_=n,e}function aA(n){return _e.lFrame.bindingIndex=n}function so(){return _e.lFrame.bindingIndex++}function fy(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function cA(){return _e.lFrame.inI18n}function lA(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,cf(e)}function uA(){return _e.lFrame.currentDirectiveIndex}function cf(n){_e.lFrame.currentDirectiveIndex=n}function dA(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function lf(){return _e.lFrame.currentQueryIndex}function Hl(n){_e.lFrame.currentQueryIndex=n}function O2(n){let e=n[te];return e.type===2?e.declTNode:e.type===1?n[hn]:null}function py(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=O2(o),i===null||(o=o[ms],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=_e.lFrame=hA();return r.currentTNode=e,r.lView=n,!0}function uf(n){let e=hA(),t=n[te];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function hA(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?fA(n):e}function fA(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function pA(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var my=pA;function df(){let n=pA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mA(n){return(_e.lFrame.contextLView=eA(n,_e.lFrame.contextLView))[gt]}function ai(){return _e.lFrame.selectedIndex}function ao(n){_e.lFrame.selectedIndex=n}function ql(){let n=_e.lFrame;return $l(n.tView,n.selectedIndex)}function ci(){_e.lFrame.currentNamespace=Z_}function hf(){P2()}function P2(){_e.lFrame.currentNamespace=null}function gA(){return _e.lFrame.currentNamespace}var vA=!0;function ff(){return vA}function pf(n){vA=n}function T_(n,e=null,t=null,r){let i=gy(n,e,t,r);return i.resolveInjectorInitializers(),i}function gy(n,e=null,t=null,r,i=new Set){let o=[t||rn,HS(n)];return r=r||(typeof n=="object"?void 0:ni(n)),new hs(o,e||La(),r||null,i)}var ee=class n{static THROW_IF_NOT_FOUND=cs;static NULL=new Ol;static create(e,t){if(Array.isArray(e))return T_({name:""},t,e,"");{let r=e.name??"";return T_({name:r},e.parent,e.providers,r)}}static \u0275prov=P({token:n,providedIn:"any",factory:()=>Z(B_)});static __NG_ELEMENT_ID__=-1},ce=new O(""),pn=(()=>{class n{static __NG_ELEMENT_ID__=F2;static __NG_ENV_ID__=t=>t}return n})(),Pl=class extends pn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return ys(this._lView)}onDestroy(e){let t=this._lView;return ty(t,e),()=>tA(t,e)}};function F2(){return new Pl(me())}var Ht=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Rn=new O("",{providedIn:"root",factory:()=>{let n=_(Xe),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(Ht),e.handleError(t))}}}),_A={provide:Dr,useValue:()=>void _(Ht),multi:!0},L2=new O("",{providedIn:"root",factory:()=>{let n=_(ce).defaultView;if(!n)return;let e=_(Rn),t=o=>{e(o.reason),o.preventDefault()},r=o=>{o.error?e(o.error):e(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{n.addEventListener("unhandledrejection",t),n.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),_(pn).onDestroy(()=>{n.removeEventListener("error",r),n.removeEventListener("unhandledrejection",t)})}});function vy(){return qt([zS(()=>void _(L2))])}function bs(n){return typeof n=="function"&&n[Nt]!==void 0}function $e(n,e){let[t,r,i]=Jv(n,e?.equal),o=t,s=o[Nt];return o.set=r,o.update=i,o.asReadonly=_y.bind(o),o}function _y(){let n=this[Nt];if(n.readonlyFn===void 0){let e=()=>this();e[Nt]=n,n.readonlyFn=e}return n.readonlyFn}var Un=class{},Ha=new O("",{providedIn:"root",factory:()=>!1});var yy=new O(""),by=new O("");var Es=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=V2}return n})();function V2(){return new Es(me(),Wt())}var xr=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new pt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Q(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),co=(()=>{class n{internalPendingTasks=_(xr);scheduler=_(Un);errorHandler=_(Rn);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})();function ws(...n){}var Gl=(()=>{class n{static \u0275prov=P({token:n,providedIn:"root",factory:()=>new S_})}return n})(),S_=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Za(n){return{toString:n}.toString()}var mf="__parameters__";function q2(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function ZA(n,e,t){return Za(()=>{let r=q2(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,u,d){let p=c.hasOwnProperty(mf)?c[mf]:Object.defineProperty(c,mf,{value:[]})[mf];for(;p.length<=d;)p.push(null);return(p[d]=p[d]||[]).push(s),c}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var yt=V_(ZA("Optional"),8);var Uf=V_(ZA("SkipSelf"),4);function G2(n){return typeof n=="function"}var If=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function XA(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Mn=(()=>{let n=()=>JA;return n.ngInherit=!0,n})();function JA(n){return n.type.prototype.ngOnChanges&&(n.setInput=K2),W2}function W2(){let n=tx(this),e=n?.current;if(e){let t=n.previous;if(t===no)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function K2(n,e,t,r,i){let o=this.declaredInputs[r],s=tx(n)||Y2(n,{previous:no,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[o];a[o]=new If(u&&u.currentValue,t,c===no),XA(n,e,i,t)}var ex="__ngSimpleChanges__";function tx(n){return n[ex]||null}function Y2(n,e){return n[ex]=e}var yA=[];var je=function(n,e=null,t){for(let r=0;r<yA.length;r++){let i=yA[r];i(n,e,t)}};function Q2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=JA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function nx(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),d!=null&&(n.destroyHooks??=[]).push(t,d)}}function yf(n,e,t){rx(n,e,3,t)}function bf(n,e,t,r){(n[re]&3)===t&&rx(n,e,t,r)}function Ey(n,e){let t=n[re];(t&3)===e&&(t&=16383,t+=1,n[re]=t)}function rx(n,e,t,r){let i=r!==void 0?n[gs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[gs]+=65536),(a<o||o==-1)&&(Z2(n,t,e,c),n[gs]=(n[gs]&4294901760)+c+2),c++}function bA(n,e){je(4,n,e);let t=se(null);try{e.call(n)}finally{se(t),je(5,n,e)}}function Z2(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[re]>>14<n[gs]>>16&&(n[re]&3)===e&&(n[re]+=16384,bA(a,o)):bA(a,o)}var Ga=-1,Cs=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function X2(n){return(n.flags&8)!==0}function J2(n){return(n.flags&16)!==0}function eB(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];tB(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function ix(n){return n===3||n===4||n===6}function tB(n){return n.charCodeAt(0)===64}function Wa(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?EA(n,t,i,null,e[++r]):EA(n,t,i,null,null))}}return n}function EA(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function ox(n){return n!==Ga}function Cf(n){return n&32767}function nB(n){return n>>16}function Df(n,e){let t=nB(n),r=e;for(;t>0;)r=r[ms],t--;return r}var ky=!0;function wA(n){let e=ky;return ky=n,e}var rB=256,sx=rB-1,ax=5,iB=0,Rr={};function oB(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(fs)&&(r=t[fs]),r==null&&(r=t[fs]=iB++);let i=r&sx,o=1<<i;e.data[n+(i>>ax)]|=o}function Tf(n,e){let t=cx(n,e);if(t!==-1)return t;let r=e[te];r.firstCreatePass&&(n.injectorIndex=e.length,wy(r.data,n),wy(e,null),wy(r.blueprint,null));let i=vb(n,e),o=n.injectorIndex;if(ox(i)){let s=Cf(i),a=Df(i,e),c=a[te].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|c[s+u]}return e[o+8]=i,o}function wy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function cx(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function vb(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=fx(i),r===null)return Ga;if(t++,i=i[ms],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ga}function Oy(n,e,t){oB(n,e,t)}function sB(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(ix(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function lx(n,e,t){if(t&8||n!==void 0)return n;ef(e,"NodeInjector")}function ux(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[ja],o=An(void 0);try{return i?i.get(e,r,t&8):L_(e,r,t&8)}finally{An(o)}}return lx(r,e,t)}function dx(n,e,t,r=0,i){if(n!==null){if(e[re]&2048&&!(r&2)){let s=uB(n,e,t,r,Rr);if(s!==Rr)return s}let o=hx(n,e,t,r,Rr);if(o!==Rr)return o}return ux(e,t,r,i)}function hx(n,e,t,r,i){let o=cB(t);if(typeof o=="function"){if(!py(e,n,r))return r&1?lx(i,t,r):ux(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))ef(t);else return s}finally{my()}}else if(typeof o=="number"){let s=null,a=cx(n,e),c=Ga,u=r&1?e[fn][hn]:null;for((a===-1||r&4)&&(c=a===-1?vb(n,e):e[a+8],c===Ga||!CA(r,!1)?a=-1:(s=e[te],a=Cf(c),e=Df(c,e)));a!==-1;){let d=e[te];if(IA(o,a,d.data)){let p=aB(a,e,t,s,r,u);if(p!==Rr)return p}c=e[a+8],c!==Ga&&CA(r,e[te].data[a+8]===u)&&IA(o,a,e)?(s=d,a=Cf(c),e=Df(c,e)):a=-1}}return i}function aB(n,e,t,r,i,o){let s=e[te],a=s.data[n+8],c=r==null?si(a)&&ky:r!=s&&(a.type&3)!==0,u=i&1&&o===a,d=Ef(a,s,t,c,u);return d!==null?Yl(e,s,d,a,i):Rr}function Ef(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,c=n.directiveStart,u=n.directiveEnd,d=o>>20,p=r?a:a+d,m=i?a+d:u;for(let g=p;g<m;g++){let I=s[g];if(g<c&&t===I||g>=c&&I.type===t)return g}if(i){let g=s[c];if(g&&Ar(g)&&g.type===t)return c}return null}function Yl(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Cs){let a=o;if(a.resolving){let g=OS(s[t]);throw F_(g)}let c=wA(a.canSeeViewProviders);a.resolving=!0;let u=s[t].type||s[t],d,p=a.injectImpl?An(a.injectImpl):null,m=py(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&Q2(t,s[t],e)}finally{p!==null&&An(p),wA(c),a.resolving=!1,my()}}return o}function cB(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(fs)?n[fs]:void 0;return typeof e=="number"?e>=0?e&sx:lB:e}function IA(n,e,t){let r=1<<n;return!!(t[e+(n>>ax)]&r)}function CA(n,e){return!(n&2)&&!(n&1&&e)}var Is=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return dx(this._tNode,this._lView,e,ls(r),t)}};function lB(){return new Is(Wt(),me())}function hi(n){return Za(()=>{let e=n.prototype.constructor,t=e[kl]||Py(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[kl]||Py(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Py(n){return x_(n)?()=>{let e=Py(zt(n));return e&&e()}:us(n)}function uB(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!Ua(s);){let a=hx(o,s,t,r|2,Rr);if(a!==Rr)return a;let c=o.parent;if(!c){let u=s[K_];if(u){let d=u.get(t,Rr,r);if(d!==Rr)return d}c=fx(s),s=s[ms]}o=c}return i}function fx(n){let e=n[te],t=e.type;return t===2?e.declTNode:t===1?n[hn]:null}function _b(n){return sB(Wt(),n)}function dB(){return Xa(Wt(),me())}function Xa(n,e){return new Ee(Hn(n,e))}var Ee=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=dB}return n})();function px(n){return n instanceof Ee?n.nativeElement:n}function hB(){return this._results[Symbol.iterator]()}var Ds=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new G}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=jS(e);(this._changesDetected=!VS(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hB};function mx(n){return(n.flags&128)===128}var yb=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(yb||{}),gx=new Map,fB=0;function pB(){return fB++}function mB(n){gx.set(n[jl],n)}function Fy(n){gx.delete(n[jl])}var DA="__ngContext__";function Ka(n,e){Sr(e)?(n[DA]=e[jl],mB(e)):n[DA]=e}function vx(n){return yx(n[Ba])}function _x(n){return yx(n[$n])}function yx(n){for(;n!==null&&!cr(n);)n=n[$n];return n}var Ly;function bb(n){Ly=n}function bx(){if(Ly!==void 0)return Ly;if(typeof document<"u")return document;throw new B(210,!1)}var ho=new O("",{providedIn:"root",factory:()=>gB}),gB="ng",$f=new O(""),Nn=new O("",{providedIn:"platform",factory:()=>"unknown"});var nu=new O(""),Ja=new O("",{providedIn:"root",factory:()=>bx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var vB="h",_B="b";var Ex="r";var wx="di";var Ix=!1,Cx=new O("",{providedIn:"root",factory:()=>Ix});var yB=(n,e,t,r)=>{};function bB(n,e,t,r){yB(n,e,t,r)}function zf(n){return(n.flags&32)===32}var EB=()=>null;function Dx(n,e,t=!1){return EB(n,e,t)}function Tx(n,e){let t=n.contentQueries;if(t!==null){let r=se(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Hl(o),a.contentQueries(2,e[s],s)}}}finally{se(r)}}}function Vy(n,e,t){Hl(0);let r=se(null);try{e(n,t)}finally{se(r)}}function Sx(n,e,t){if(Q_(e)){let r=se(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{se(r)}}}var li=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(li||{}),gf;function wB(){if(gf===void 0&&(gf=null,Pa.trustedTypes))try{gf=Pa.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return gf}function Hf(n){return wB()?.createHTML(n)||n}var ui=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qh})`}},jy=class extends ui{getTypeName(){return"HTML"}},By=class extends ui{getTypeName(){return"Style"}},Uy=class extends ui{getTypeName(){return"Script"}},$y=class extends ui{getTypeName(){return"URL"}},zy=class extends ui{getTypeName(){return"ResourceURL"}};function fi(n){return n instanceof ui?n.changingThisBreaksApplicationSecurity:n}function As(n,e){let t=Ax(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Qh})`)}return t===e}function Ax(n){return n instanceof ui&&n.getTypeName()||null}function Eb(n){return new jy(n)}function wb(n){return new By(n)}function Ib(n){return new Uy(n)}function Cb(n){return new $y(n)}function Db(n){return new zy(n)}function IB(n){let e=new qy(n);return CB()?new Hy(e):e}var Hy=class{inertDocumentHelper;constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{let t=new window.DOMParser().parseFromString(Hf(e),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(e):(t.firstChild?.remove(),t)}catch{return null}}},qy=class{defaultDoc;inertDocument;constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){let t=this.inertDocument.createElement("template");return t.innerHTML=Hf(e),t}};function CB(){try{return!!new window.DOMParser().parseFromString(Hf(""),"text/html")}catch{return!1}}var DB=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qf(n){return n=String(n),n.match(DB)?n:"unsafe:"+n}function pi(n){let e={};for(let t of n.split(","))e[t]=!0;return e}function ru(...n){let e={};for(let t of n)for(let r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}var xx=pi("area,br,col,hr,img,wbr"),Rx=pi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Mx=pi("rp,rt"),TB=ru(Mx,Rx),SB=ru(Rx,pi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),AB=ru(Mx,pi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),TA=ru(xx,SB,AB,TB),Nx=pi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xB=pi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),RB=pi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),MB=ru(Nx,xB,RB),NB=pi("script,style,template"),Gy=class{sanitizedSomething=!1;buf=[];sanitizeChildren(e){let t=e.firstChild,r=!0,i=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild){i.push(t),t=PB(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=OB(t);if(o){t=o;break}t=i.pop()}}return this.buf.join("")}startElement(e){let t=SA(e).toLowerCase();if(!TA.hasOwnProperty(t))return this.sanitizedSomething=!0,!NB.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let r=e.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),s=o.name,a=s.toLowerCase();if(!MB.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=o.value;Nx[a]&&(c=qf(c)),this.buf.push(" ",s,'="',AA(c),'"')}return this.buf.push(">"),!0}endElement(e){let t=SA(e).toLowerCase();TA.hasOwnProperty(t)&&!xx.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(AA(e))}};function kB(n,e){return(n.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function OB(n){let e=n.nextSibling;if(e&&n!==e.previousSibling)throw kx(e);return e}function PB(n){let e=n.firstChild;if(e&&kB(n,e))throw kx(e);return e}function SA(n){let e=n.nodeName;return typeof e=="string"?e:"FORM"}function kx(n){return new Error(`Failed to sanitize html because the element is clobbered: ${n.outerHTML}`)}var FB=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,LB=/([^\#-~ |!])/g;function AA(n){return n.replace(/&/g,"&amp;").replace(FB,function(e){let t=e.charCodeAt(0),r=e.charCodeAt(1);return"&#"+((t-55296)*1024+(r-56320)+65536)+";"}).replace(LB,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var vf;function Tb(n,e){let t=null;try{vf=vf||IB(n);let r=e?String(e):"";t=vf.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=t.innerHTML,t=vf.getInertBodyElement(r)}while(r!==o);let a=new Gy().sanitizeChildren(xA(t)||t);return Hf(a)}finally{if(t){let r=xA(t)||t;for(;r.firstChild;)r.firstChild.remove()}}}function xA(n){return"content"in n&&VB(n)?n.content:null}function VB(n){return n.nodeType===Node.ELEMENT_NODE&&n.nodeName==="TEMPLATE"}var mn=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(mn||{});function Ox(n){return n instanceof Function?n():n}function jB(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var Px="ng-template";function BB(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jB(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Sb(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Sb(n){return n.type===4&&n.value!==Px}function UB(n,e,t){let r=n.type===4&&!t?Px:n.value;return e===r}function $B(n,e,t){let r=4,i=n.attrs,o=i!==null?qB(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!lr(r)&&!lr(c))return!1;if(s&&lr(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!UB(n,c,t)||c===""&&e.length===1){if(lr(r))return!1;s=!0}}else if(r&8){if(i===null||!BB(n,i,c,t)){if(lr(r))return!1;s=!0}}else{let u=e[++a],d=zB(c,i,Sb(n),t);if(d===-1){if(lr(r))return!1;s=!0;continue}if(u!==""){let p;if(d>o?p="":p=i[d+1].toLowerCase(),r&2&&u!==p){if(lr(r))return!1;s=!0}}}}return lr(r)||s}function lr(n){return(n&1)===0}function zB(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return GB(e,n)}function Fx(n,e,t=!1){for(let r=0;r<e.length;r++)if($B(n,e[r],t))return!0;return!1}function HB(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if((t&1)===0)return e[t+1]}return null}function qB(n){for(let e=0;e<n.length;e++){let t=n[e];if(ix(t))return e}return n.length}function GB(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function WB(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function RA(n,e){return n?":not("+e.trim()+")":e}function KB(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!lr(s)&&(e+=RA(o,i),i=""),r=s,o=o||!lr(r);t++}return i!==""&&(e+=RA(o,i)),e}function YB(n){return n.map(KB).join(",")}function QB(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!lr(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var dr={};function ZB(n,e){return n.createText(e)}function XB(n,e,t){n.setValue(e,t)}function Lx(n,e,t){return n.createElement(e,t)}function Sf(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Vx(n,e,t){n.appendChild(e,t)}function MA(n,e,t,r,i){r!==null?Sf(n,e,t,r,i):Vx(n,e,t)}function jx(n,e,t){n.removeChild(null,e,t)}function JB(n,e,t){n.setAttribute(e,"style",t)}function eU(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Bx(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&eB(n,e,r),i!==null&&eU(n,e,i),o!==null&&JB(n,e,o)}function Ab(n,e,t,r,i,o,s,a,c,u,d){let p=vt+r,m=p+i,g=tU(p,m),I=typeof u=="function"?u():u;return g[te]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:I,incompleteFirstPass:!1,ssrId:d}}function tU(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:dr);return t}function nU(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ab(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function xb(n,e,t,r,i,o,s,a,c,u,d){let p=e.blueprint.slice();return p[ar]=i,p[re]=r|4|128|8|64|1024,(u!==null||n&&n[re]&2048)&&(p[re]|=2048),J_(p),p[Ot]=p[ms]=n,p[gt]=t,p[ii]=s||n&&n[ii],p[nt]=a||n&&n[nt],p[ja]=c||n&&n[ja]||null,p[hn]=o,p[jl]=pB(),p[ps]=d,p[K_]=u,p[fn]=e.type==2?n[fn]:p,p}function rU(n,e,t){let r=Hn(e,n),i=nU(t),o=n[ii].rendererFactory,s=Rb(n,xb(n,i,null,Ux(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function Ux(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function $x(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Rb(n,e){return n[Ba]?n[W_][$n]=e:n[Ba]=e,n[W_]=e,e}function Y(n=1){zx(_t(),me(),ai()+n,!1)}function zx(n,e,t,r){if(!r)if((e[re]&3)===3){let o=n.preOrderCheckHooks;o!==null&&yf(e,o,t)}else{let o=n.preOrderHooks;o!==null&&bf(e,o,0,t)}ao(t)}var Gf=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Gf||{});function Wy(n,e,t,r){let i=se(null);try{let[o,s,a]=n.inputs[t],c=null;(s&Gf.SignalBased)!==0&&(c=e[o][Nt]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,c,r,t,o):XA(e,c,o,r)}finally{se(i)}}var di=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(di||{}),iU;function Mb(n,e){return iU(n,e)}var Wf=new Set;function qa(n,e,t,r,i,o){if(r!=null){let s,a=!1;cr(r)?s=r:Sr(r)&&(a=!0,r=r[ar]);let c=zn(r);n===0&&t!==null?i==null?Vx(e,t,c):Sf(e,t,c,i||null,!0):n===1&&t!==null?Sf(e,t,c,i||null,!0):n===2?NA(o,()=>{jx(e,c,a)}):n===3&&NA(o,()=>{e.destroyNode(c)}),s!=null&&mU(e,n,s,t,i)}}function oU(n,e){Hx(n,e),e[ar]=null,e[hn]=null}function sU(n,e,t,r,i,o){r[ar]=i,r[hn]=e,Yf(n,r,t,1,i,o)}function Hx(n,e){e[ii].changeDetectionScheduler?.notify(9),Yf(n,e,e[nt],2,null,null)}function aU(n){let e=n[Ba];if(!e)return Iy(n[te],n);for(;e;){let t=null;if(Sr(e))t=e[Ba];else{let r=e[Ct];r&&(t=r)}if(!t){for(;e&&!e[$n]&&e!==n;)Sr(e)&&Iy(e[te],e),e=e[Ot];e===null&&(e=n),Sr(e)&&Iy(e[te],e),t=e&&e[$n]}e=t}}function Nb(n,e){let t=n[_s],r=t.indexOf(e);t.splice(r,1)}function Kf(n,e){if(ys(e))return;let t=e[nt];t.destroyNode&&Yf(n,e,t,3,null,null),aU(e)}function Iy(n,e){if(ys(e))return;let t=se(null);try{e[re]&=-129,e[re]|=256,e[xn]&&zi(e[xn]),uU(n,e),lU(n,e),e[te].type===1&&e[nt].destroy();let r=e[ro];if(r!==null&&cr(e[Ot])){r!==e[Ot]&&Nb(r,e);let i=e[Tr];i!==null&&i.detachView(n)}Fy(e)}finally{se(t)}}function NA(n,e){if(n&&n[Gt]&&n[Gt].leave)if(n[Gt].skipLeaveAnimations)n[Gt].skipLeaveAnimations=!1;else{let t=n[Gt].leave,r=[];for(let i=0;i<t.length;i++){let o=t[i];r.push(o())}n[Gt].running=Promise.allSettled(r),n[Gt].leave=void 0}cU(n,e)}function cU(n,e){if(n&&n[Gt]&&n[Gt].running){n[Gt].running.then(()=>{n[Gt]&&n[Gt].running&&(n[Gt].running=void 0),Wf.delete(n),e()});return}e()}function lU(n,e){let t=n.cleanup,r=e[Va];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Va]=null);let i=e[ti];if(i!==null){e[ti]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[oi];if(o!==null){e[oi]=null;for(let s of o)s.destroy()}}function uU(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Cs)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];je(4,a,c);try{c.call(a)}finally{je(5,a,c)}}else{je(4,i,o);try{o.call(i)}finally{je(5,i,o)}}}}}function qx(n,e,t){return dU(n,e.parent,t)}function dU(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ar];if(si(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===li.None||i===li.Emulated)return null}return Hn(r,t)}function Gx(n,e,t){return fU(n,e,t)}function hU(n,e,t){return n.type&40?Hn(n,t):null}var fU=hU,kA;function kb(n,e,t,r){let i=qx(n,r,e),o=e[nt],s=r.parent||e[hn],a=Gx(s,r,e);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)MA(o,i,t[c],a,!1);else MA(o,i,t,a,!1);kA!==void 0&&kA(o,r,e,t,i)}function Wl(n,e){if(e!==null){let t=e.type;if(t&3)return Hn(e,n);if(t&4)return Ky(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Wl(n,r);{let i=n[e.index];return cr(i)?Ky(-1,i):zn(i)}}else{if(t&128)return Wl(n,e.next);if(t&32)return Mb(e,n)()||zn(n[e.index]);{let r=Wx(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=eo(n[fn]);return Wl(i,r)}else return Wl(n,e.next)}}}return null}function Wx(n,e){if(e!==null){let r=n[fn][hn],i=e.projection;return r.projection[i]}return null}function Ky(n,e){let t=Ct+n+1;if(t<e.length){let r=e[t],i=r[te].firstChild;if(i!==null)return Wl(r,i)}return e[io]}function Ob(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&Ka(zn(a),r),t.flags|=2),!zf(t))if(c&8)Ob(n,e,t.child,r,i,o,!1),qa(e,n,i,a,o,r);else if(c&32){let u=Mb(t,r),d;for(;d=u();)qa(e,n,i,d,o,r);qa(e,n,i,a,o,r)}else c&16?Kx(n,e,r,t,i,o):qa(e,n,i,a,o,r);t=s?t.projectionNext:t.next}}function Yf(n,e,t,r,i,o){Ob(t,r,n.firstChild,e,i,o,!1)}function pU(n,e,t){let r=e[nt],i=qx(n,t,e),o=t.parent||e[hn],s=Gx(o,t,e);Kx(r,0,e,t,i,s)}function Kx(n,e,t,r,i,o){let s=t[fn],c=s[hn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let d=c[u];qa(e,n,i,d,o,t)}else{let u=c,d=s[Ot];mx(r)&&(u.flags|=128),Ob(n,e,u,d,i,o,!0)}}function mU(n,e,t,r,i){let o=t[io],s=zn(t);o!==s&&qa(e,n,r,o,i);for(let a=Ct;a<t.length;a++){let c=t[a];Yf(c[te],c,n,e,r,o)}}function gU(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:di.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=di.Important),n.setStyle(t,r,i,o))}}function Yx(n,e,t,r,i){let o=ai(),s=r&2;try{ao(-1),s&&e.length>vt&&zx(n,e,vt,!1),je(s?2:0,i,t),t(r,i)}finally{ao(o),je(s?3:1,i,t)}}function Pb(n,e,t){wU(n,e,t),(t.flags&64)===64&&IU(n,e,t)}function Qf(n,e,t=Hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function vU(n,e,t,r){let o=r.get(Cx,Ix)||t===li.ShadowDom,s=n.selectRootElement(e,o);return _U(s),s}function _U(n){yU(n)}var yU=()=>null;function bU(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function EU(n,e,t,r,i,o){let s=e[te];if(Zf(n,s,e,t,r)){si(n)&&Zx(e,n.index);return}n.type&3&&(t=bU(t)),Qx(n,e,t,r,i,o)}function Qx(n,e,t,r,i,o){if(n.type&3){let s=Hn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Zx(n,e){let t=qn(e,n);t[re]&16||(t[re]|=64)}function wU(n,e,t){let r=t.directiveStart,i=t.directiveEnd;si(t)&&rU(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Tf(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],c=Yl(e,n,s,t);if(Ka(c,e),o!==null&&TU(e,s-r,c,a,t,o),Ar(a)){let u=qn(t.index,e);u[gt]=Yl(e,n,s,t)}}}function IU(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=uA();try{ao(o);for(let a=r;a<i;a++){let c=n.data[a],u=e[a];cf(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&CU(c,u)}}finally{ao(-1),cf(s)}}function CU(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function Xx(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Fx(e,o.selectors,!1)&&(r??=[],Ar(o)?r.unshift(o):r.push(o))}return r}function DU(n,e,t,r,i,o){let s=Hn(n,e);Jx(e[nt],s,o,n.value,t,r,i)}function Jx(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Jh(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function TU(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let c=s[a],u=s[a+1];Wy(r,t,c,u)}}function eR(n,e,t,r,i){let o=vt+t,s=e[te],a=i(s,e,n,r,t);e[o]=a,$a(n,!0);let c=n.type===2;return c?(Bx(e[nt],a,n),(rA()===0||Ul(n))&&Ka(a,e),iA()):Ka(a,e),ff()&&(!c||!zf(n))&&kb(s,e,a,n),n}function tR(n){let e=n;return uy()?dy():(e=e.parent,$a(e,!1)),e}function SU(n,e){let t=n[ja];if(!t)return;let r;try{r=t.get(Rn,null)}catch{r=null}r?.(e)}function Zf(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let c=0;c<s.length;c+=2){let u=s[c],d=s[c+1],p=e.data[u];Wy(p,t[u],d,i),a=!0}if(o)for(let c of o){let u=t[c],d=e.data[c];Wy(d,u,r,i),a=!0}return a}function AU(n,e){let t=qn(e,n),r=t[te];xU(r,t);let i=t[ar];i!==null&&t[ps]===null&&(t[ps]=Dx(i,t[ja])),je(18),Fb(r,t,t[gt]),je(19,t[gt])}function xU(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Fb(n,e,t){uf(e);try{let r=n.viewQuery;r!==null&&Vy(1,r,t);let i=n.template;i!==null&&Yx(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Tr]?.finishViewCreation(n),n.staticContentQueries&&Tx(n,e),n.staticViewQueries&&Vy(2,n.viewQuery,t);let o=n.components;o!==null&&RU(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[re]&=-5,df()}}function RU(n,e){for(let t=0;t<e.length;t++)AU(n,e[t])}function iu(n,e,t,r){let i=se(null);try{let o=e.tView,a=n[re]&4096?4096:16,c=xb(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[ro]=u;let d=n[Tr];return d!==null&&(c[Tr]=d.createEmbeddedView(o)),Fb(o,c,t),c}finally{se(i)}}function Ya(n,e){return!e||e.firstChild===null||mx(n)}function Ql(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(zn(o)),cr(o)&&nR(o,r);let s=t.type;if(s&8)Ql(n,e,t.child,r);else if(s&32){let a=Mb(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Wx(e,t);if(Array.isArray(a))r.push(...a);else{let c=eo(e[fn]);Ql(c[te],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function nR(n,e){for(let t=Ct;t<n.length;t++){let r=n[t],i=r[te].firstChild;i!==null&&Ql(r[te],r,i,e)}n[io]!==n[ar]&&e.push(n[io])}function rR(n){if(n[vs]!==null){for(let e of n[vs])e.impl.addSequence(e);n[vs].length=0}}var iR=[];function MU(n){return n[xn]??NU(n)}function NU(n){let e=iR.pop()??Object.create(OU);return e.lView=n,e}function kU(n){n.lView[xn]!==n&&(n.lView=null,iR.push(n))}var OU=oe(k({},Xo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{oo(n.lView)},consumerOnSignalRead(){this.lView[xn]=this}});function PU(n){let e=n[xn]??Object.create(FU);return e.lView=n,e}var FU=oe(k({},Xo),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=eo(n.lView);for(;e&&!oR(e[te]);)e=eo(e);e&&ey(e)},consumerOnSignalRead(){this.lView[xn]=this}});function oR(n){return n.type!==2}function sR(n){if(n[oi]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[oi])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[re]&8192)}}var LU=100;function aR(n,e=0){let r=n[ii].rendererFactory,i=!1;i||r.begin?.();try{VU(n,e)}finally{i||r.end?.()}}function VU(n,e){let t=hy();try{za(!0),Yy(n,e);let r=0;for(;zl(n);){if(r===LU)throw new B(103,!1);r++,Yy(n,1)}}finally{za(t)}}function jU(n,e,t,r){if(ys(e))return;let i=e[re],o=!1,s=!1;uf(e);let a=!0,c=null,u=null;o||(oR(n)?(u=MU(e),c=$i(u)):ph()===null?(a=!1,u=PU(e),c=$i(u)):e[xn]&&(zi(e[xn]),e[xn]=null));try{J_(e),aA(n.bindingStartIndex),t!==null&&Yx(n,e,t,2,r),BU(e);let d=(i&3)===3;if(!o)if(d){let g=n.preOrderCheckHooks;g!==null&&yf(e,g,null)}else{let g=n.preOrderHooks;g!==null&&bf(e,g,0,null),Ey(e,0)}if(s||UU(e),sR(e),cR(e,0),n.contentQueries!==null&&Tx(n,e),!o)if(d){let g=n.contentCheckHooks;g!==null&&yf(e,g)}else{let g=n.contentHooks;g!==null&&bf(e,g,1),Ey(e,1)}zU(n,e);let p=n.components;p!==null&&uR(e,p,0);let m=n.viewQuery;if(m!==null&&Vy(2,m,r),!o)if(d){let g=n.viewCheckHooks;g!==null&&yf(e,g)}else{let g=n.viewHooks;g!==null&&bf(e,g,2),Ey(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[of]){for(let g of e[of])g();e[of]=null}o||(rR(e),e[re]&=-73)}catch(d){throw o||oo(e),d}finally{u!==null&&(es(u,c),a&&kU(u)),df()}}function BU(n){let e=n[Gt];if(e?.enter){for(let t of e.enter)t();e.enter=void 0}}function cR(n,e){for(let t=vx(n);t!==null;t=_x(t))for(let r=Ct;r<t.length;r++){let i=t[r];lR(i,e)}}function UU(n){for(let e=vx(n);e!==null;e=_x(e)){if(!(e[re]&2))continue;let t=e[_s];for(let r=0;r<t.length;r++){let i=t[r];ey(i)}}}function $U(n,e,t){je(18);let r=qn(e,n);lR(r,t),je(19,r[gt])}function lR(n,e){sf(n)&&Yy(n,e)}function Yy(n,e){let r=n[te],i=n[re],o=n[xn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ts(o)),s||=!1,o&&(o.dirty=!1),n[re]&=-9217,s)jU(r,n,r.template,n[gt]);else if(i&8192){let a=se(null);try{sR(n),cR(n,1);let c=r.components;c!==null&&uR(n,c,1),rR(n)}finally{se(a)}}}function uR(n,e,t){for(let r=0;r<e.length;r++)$U(n,e[r],t)}function zU(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ao(~i);else{let o=i,s=t[++r],a=t[++r];lA(s,o);let c=e[o];je(24,c),a(2,c),je(25,c)}}}finally{ao(-1)}}function Lb(n,e){let t=hy()?64:1088;for(n[ii].changeDetectionScheduler?.notify(e);n;){n[re]|=t;let r=eo(n);if(Ua(n)&&!r)return n;n=r}return null}function dR(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function hR(n,e){let t=Ct+e;if(t<n.length)return n[t]}function ou(n,e,t,r=!0){let i=e[te];if(HU(i,e,n,t),r){let s=Ky(t,n),a=e[nt],c=a.parentNode(n[io]);c!==null&&sU(i,n[hn],a,e,c,s)}let o=e[ps];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fR(n,e){let t=Zl(n,e);return t!==void 0&&Kf(t[te],t),t}function Zl(n,e){if(n.length<=Ct)return;let t=Ct+e,r=n[t];if(r){let i=r[ro];i!==null&&i!==n&&Nb(i,r),e>0&&(n[t-1][$n]=r[$n]);let o=Ll(n,Ct+e);oU(r[te],r);let s=o[Tr];s!==null&&s.detachView(o[te]),r[Ot]=null,r[$n]=null,r[re]&=-129}return r}function HU(n,e,t,r){let i=Ct+r,o=t.length;r>0&&(t[i-1][$n]=e),r<o-Ct?(e[$n]=t[i],j_(t,Ct+r,e)):(t.push(e),e[$n]=null),e[Ot]=t;let s=e[ro];s!==null&&t!==s&&pR(s,e);let a=e[Tr];a!==null&&a.insertView(n),af(e),e[re]|=128}function pR(n,e){let t=n[_s],r=e[Ot];if(Sr(r))n[re]|=2;else{let i=r[Ot][fn];e[fn]!==i&&(n[re]|=2)}t===null?n[_s]=[e]:t.push(e)}var lo=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[te];return Ql(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[gt]}set context(e){this._lView[gt]=e}get destroyed(){return ys(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ot];if(cr(e)){let t=e[Bl],r=t?t.indexOf(this):-1;r>-1&&(Zl(e,r),Ll(t,r))}this._attachedToViewContainer=!1}Kf(this._lView[te],this._lView)}onDestroy(e){ty(this._lView,e)}markForCheck(){Lb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){af(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,aR(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ua(this._lView),t=this._lView[ro];t!==null&&!e&&Nb(t,this._lView),Hx(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let t=Ua(this._lView),r=this._lView[ro];r!==null&&!t&&pR(r,this._lView),af(this._lView)}};var Mr=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=qU;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=iu(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new lo(o)}}return n})();function qU(){return Xf(Wt(),me())}function Xf(n,e){return n.type&4?new Mr(e,n,Xa(n,e)):null}function ec(n,e,t,r,i){let o=n.data[e];if(o===null)o=GU(n,e,t,r,i),cA()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=oA();o.injectorIndex=s===null?-1:s.injectorIndex}return $a(o,!0),o}function GU(n,e,t,r,i){let o=ly(),s=uy(),a=s?o:o&&o.parent,c=n.data[e]=KU(n,a,t,e,r,i);return WU(n,c,o,s),c}function WU(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function KU(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return sy()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var roe=new RegExp(`^(\\d+)*(${_B}|${vB})*(.*)`);function YU(n){let e=n[Y_]??[],r=n[Ot][nt],i=[];for(let o of e)o.data[wx]!==void 0?i.push(o):QU(o,r);n[Y_]=i}function QU(n,e){let t=0,r=n.firstChild;if(r){let i=n.data[Ex];for(;t<i;){let o=r.nextSibling;jx(e,r,!1),r=o,t++}}}var ZU=()=>null,XU=()=>null;function Af(n,e){return ZU(n,e)}function mR(n,e,t){return XU(n,e,t)}var gR=class{},Jf=class{},Qy=class{resolveComponentFactory(e){throw new B(917,!1)}},su=class{static NULL=new Qy},Pt=class{},kn=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>JU()}return n})();function JU(){let n=me(),e=Wt(),t=qn(e.index,n);return(Sr(t)?t:n)[nt]}var vR=(()=>{class n{static \u0275prov=P({token:n,providedIn:"root",factory:()=>null})}return n})();var wf={},Zy=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,wf,r);return i!==wf||t===wf?i:this.parentInjector.get(e,t,r)}};function xf(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Zh(i,a);else if(o==2){let c=a,u=e[++s];r=Zh(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ft(n,e=0){let t=me();if(t===null)return Z(n,e);let r=Wt();return dx(r,t,zt(n),e)}function _R(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,c=null,u=null;for(let d of s)if(d.resolveHostDirectives!==null){[a,c,u]=d.resolveHostDirectives(s);break}n$(n,e,t,a,o,c,u)}o!==null&&r!==null&&e$(t,r,o)}function e$(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}function t$(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function n$(n,e,t,r,i,o,s){let a=r.length,c=!1;for(let m=0;m<a;m++){let g=r[m];!c&&Ar(g)&&(c=!0,t$(n,t,m)),Oy(Tf(t,e),n,g.type)}c$(t,n.data.length,a);for(let m=0;m<a;m++){let g=r[m];g.providersResolver&&g.providersResolver(g)}let u=!1,d=!1,p=$x(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let g=r[m];if(t.mergedAttrs=Wa(t.mergedAttrs,g.hostAttrs),i$(n,t,e,p,g),a$(p,g,i),s!==null&&s.has(g)){let[x,M]=s.get(g);t.directiveToIndex.set(g.type,[p,x+t.directiveStart,M+t.directiveStart])}else(o===null||!o.has(g))&&t.directiveToIndex.set(g.type,p);g.contentQueries!==null&&(t.flags|=4),(g.hostBindings!==null||g.hostAttrs!==null||g.hostVars!==0)&&(t.flags|=64);let I=g.type.prototype;!u&&(I.ngOnChanges||I.ngOnInit||I.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),u=!0),!d&&(I.ngOnChanges||I.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),d=!0),p++}r$(n,t,o)}function r$(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))OA(0,e,i,r),OA(1,e,i,r),FA(e,r,!1);else{let o=t.get(i);PA(0,e,o,r),PA(1,e,o,r),FA(e,r,!0)}}}function OA(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),yR(e,o)}}function PA(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),yR(e,s)}}function yR(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function FA(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Sb(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let c=r[a];if(c===0){a+=4;continue}else if(c===5){a+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let u=i[c];for(let d of u)if(d===e){s??=[],s.push(c,r[a+1]);break}}else if(t&&o.hasOwnProperty(c)){let u=o[c];for(let d=0;d<u.length;d+=2)if(u[d]===e){s??=[],s.push(u[d+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function i$(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=us(i.type,!0)),s=new Cs(o,Ar(i),Ft,null);n.blueprint[r]=s,t[r]=s,o$(n,e,r,$x(n,t,i.hostVars,dr),i)}function o$(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;s$(s)!=a&&s.push(a),s.push(t,r,o)}}function s$(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function a$(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ar(e)&&(t[""]=n)}}function c$(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function bR(n,e,t,r,i,o,s,a){let c=e[te],u=c.consts,d=Gn(u,s),p=ec(c,n,t,r,d);return o&&_R(c,e,p,Gn(u,a),i),p.mergedAttrs=Wa(p.mergedAttrs,p.attrs),p.attrs!==null&&xf(p,p.attrs,!1),p.mergedAttrs!==null&&xf(p,p.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,p),p}function ER(n,e){nx(n,e),Q_(e)&&n.queries.elementEnd(e)}function l$(n,e,t,r,i,o){let s=e.consts,a=Gn(s,i),c=ec(e,n,t,r,a);if(c.mergedAttrs=Wa(c.mergedAttrs,c.attrs),o!=null){let u=Gn(s,o);c.localNames=[];for(let d=0;d<u.length;d+=2)c.localNames.push(u[d],-1)}return c.attrs!==null&&xf(c,c.attrs,!1),c.mergedAttrs!==null&&xf(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function mi(n,e,t){if(t===dr)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Cy(n,e,t){return function r(i){let o=si(n)?qn(n.index,e):e;Lb(o,5);let s=e[gt],a=LA(e,s,t,i),c=r.__ngNextListenerFn__;for(;c;)a=LA(e,s,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function LA(n,e,t,r){let i=se(null);try{return je(6,e,t),t(r)!==!1}catch(o){return SU(n,o),!1}finally{je(7,e,t),se(i)}}function u$(n,e,t,r,i,o,s,a){let c=Ul(n),u=!1,d=null;if(!r&&c&&(d=h$(e,t,o,n.index)),d!==null){let p=d.__ngLastListenerFn__||d;p.__ngNextListenerFn__=s,d.__ngLastListenerFn__=s,u=!0}else{let p=Hn(n,t),m=r?r(p):p;bB(t,m,o,a);let g=i.listen(m,o,a);if(!d$(o)){let I=r?x=>r(zn(x[n.index])):n.index;wR(I,e,t,o,a,g,!1)}}return u}function d$(n){return n.startsWith("animation")||n.startsWith("transition")}function h$(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Va],c=i[o+2];return a&&a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function wR(n,e,t,r,i,o,s){let a=e.firstCreatePass?ry(e):null,c=ny(t),u=c.length;c.push(i,o),a&&a.push(r,n,u,(u+1)*(s?-1:1))}function VA(n,e,t,r,i,o){let s=e[t],a=e[te],u=a.data[t].outputs[r],p=s[u].subscribe(o);wR(n.index,a,e,i,o,p,!0)}var Xy=Symbol("BINDING");var Rf=class extends su{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ri(e);return new Ts(t,this.ngModule)}};function f$(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Gf.SignalBased)!==0};return i&&(o.transform=i),o})}function p$(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function m$(n,e,t){let r=e instanceof Xe?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Zy(t,r):t}function g$(n){let e=n.get(Pt,null);if(e===null)throw new B(407,!1);let t=n.get(vR,null),r=n.get(Un,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function v$(n,e){let t=IR(n);return Lx(e,t,t==="svg"?Z_:t==="math"?QS:null)}function IR(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ts=class extends Jf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=f$(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=p$(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=YB(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){je(22);let a=se(null);try{let c=this.componentDef,u=_$(r,c,s,o),d=m$(c,i||this.ngModule,e),p=g$(d),m=p.rendererFactory.createRenderer(null,c),g=r?vU(m,r,c.encapsulation,d):v$(c,m),I=s?.some(jA)||o?.some(L=>typeof L!="function"&&L.bindings.some(jA)),x=xb(null,u,null,512|Ux(c),null,null,p,m,d,null,Dx(g,d,!0));x[vt]=g,uf(x);let M=null;try{let L=bR(vt,x,2,"#host",()=>u.directiveRegistry,!0,0);g&&(Bx(m,g,L),Ka(g,x)),Pb(u,x,L),Sx(u,L,x),ER(u,L),t!==void 0&&b$(L,this.ngContentSelectors,t),M=qn(L.index,x),x[gt]=M[gt],Fb(u,x,null)}catch(L){throw M!==null&&Fy(M),Fy(x),L}finally{je(23),df()}return new Mf(this.componentType,x,!!I)}finally{se(a)}}};function _$(n,e,t,r){let i=n?["ng-version","20.3.1"]:QB(e.selectors[0]),o=null,s=null,a=0;if(t)for(let d of t)a+=d[Xy].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(s??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let p=r[d];if(typeof p!="function")for(let m of p.bindings){a+=m[Xy].requiredVars;let g=d+1;m.create&&(m.targetIdx=g,(o??=[]).push(m)),m.update&&(m.targetIdx=g,(s??=[]).push(m))}}let c=[e];if(r)for(let d of r){let p=typeof d=="function"?d:d.type,m=z_(p);c.push(m)}return Ab(0,null,y$(o,s),1,a,c,null,null,null,[i],null)}function y$(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function jA(n){let e=n[Xy].kind;return e==="input"||e==="twoWay"}var Mf=class extends gR{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=$l(t[te],vt),this.location=Xa(this._tNode,t),this.instance=qn(this._tNode.index,t)[gt],this.hostView=this.changeDetectorRef=new lo(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Zf(r,i[te],i,e,t);this.previousInputValues.set(e,t);let s=qn(r.index,i);Lb(s,1)}get injector(){return new Is(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function b$(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var In=(()=>{class n{static __NG_ELEMENT_ID__=E$}return n})();function E$(){let n=Wt();return DR(n,me())}var w$=In,CR=class extends w${_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Xa(this._hostTNode,this._hostLView)}get injector(){return new Is(this._hostTNode,this._hostLView)}get parentInjector(){let e=vb(this._hostTNode,this._hostLView);if(ox(e)){let t=Df(e,this._hostLView),r=Cf(e),i=t[te].data[r+8];return new Is(i,t)}else return new Is(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=BA(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Ct}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Af(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Ya(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let c=e&&!G2(e),u;if(c)u=t;else{let M=t||{};u=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef,s=M.directives,a=M.bindings}let d=c?e:new Ts(ri(e)),p=r||this.parentInjector;if(!o&&d.ngModule==null){let L=(c?p:this.parentInjector).get(Xe,null);L&&(o=L)}let m=ri(d.componentType??{}),g=Af(this._lContainer,m?.id??null),I=g?.firstChild??null,x=d.create(p,i,I,o,s,a);return this.insertImpl(x.hostView,u,Ya(this._hostTNode,g)),x}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(JS(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Ot],u=new CR(c,c[hn],c[Ot]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return ou(s,i,o,r),e.attachToViewContainerRef(),j_(Dy(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=BA(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Zl(this._lContainer,t);r&&(Ll(Dy(this._lContainer),t),Kf(r[te],r))}detach(e){let t=this._adjustIndex(e,-1),r=Zl(this._lContainer,t);return r&&Ll(Dy(this._lContainer),t)!=null?new lo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function BA(n){return n[Bl]}function Dy(n){return n[Bl]||(n[Bl]=[])}function DR(n,e){let t,r=e[n.index];return cr(r)?t=r:(t=dR(r,e,null,n),e[n.index]=t,Rb(e,t)),C$(t,e,n,r),new CR(t,n,e)}function I$(n,e){let t=n[nt],r=t.createComment(""),i=Hn(e,n),o=t.parentNode(i);return Sf(t,o,r,t.nextSibling(i),!1),r}var C$=S$,D$=()=>!1;function T$(n,e,t){return D$(n,e,t)}function S$(n,e,t,r){if(n[io])return;let i;t.type&8?i=zn(r):i=I$(e,t),n[io]=i}var Jy=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},eb=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)jb(e,t).matches!==null&&this.queries[t].setDirty()}},Nf=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=N$(e):this.predicate=e}},tb=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},nb=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,A$(t,o)),this.matchTNodeWithReadOption(e,t,Ef(t,e,o,!1,!1))}else r===Mr?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Ef(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ee||i===In||i===Mr&&t.type&4)this.addMatch(t.index,-2);else{let o=Ef(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function A$(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function x$(n,e){return n.type&11?Xa(n,e):n.type&4?Xf(n,e):null}function R$(n,e,t,r){return t===-1?x$(e,n):t===-2?M$(n,e,r):Yl(n,n[te],t,e)}function M$(n,e,t){if(t===Ee)return Xa(e,n);if(t===Mr)return Xf(e,n);if(t===In)return DR(e,n)}function TR(n,e,t,r){let i=e[Tr].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let c=0;s!==null&&c<s.length;c+=2){let u=s[c];if(u<0)a.push(null);else{let d=o[u];a.push(R$(e,d,s[c+1],t.metadata.read))}}i.matches=a}return i.matches}function rb(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=TR(n,e,i,t);for(let a=0;a<o.length;a+=2){let c=o[a];if(c>0)r.push(s[a/2]);else{let u=o[a+1],d=e[-c];for(let p=Ct;p<d.length;p++){let m=d[p];m[ro]===m[Ot]&&rb(m[te],m,u,r)}if(d[_s]!==null){let p=d[_s];for(let m=0;m<p.length;m++){let g=p[m];rb(g[te],g,u,r)}}}}}return r}function Vb(n,e){return n[Tr].queries[e].queryList}function SR(n,e,t){let r=new Ds((t&4)===4);return nA(n,e,r,r.destroy),(e[Tr]??=new eb).queries.push(new Jy(r))-1}function AR(n,e,t){let r=_t();return r.firstCreatePass&&(RR(r,new Nf(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),SR(r,me(),e)}function xR(n,e,t,r){let i=_t();if(i.firstCreatePass){let o=Wt();RR(i,new Nf(e,t,r),o.index),k$(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return SR(i,me(),t)}function N$(n){return n.split(",").map(e=>e.trim())}function RR(n,e,t){n.queries===null&&(n.queries=new tb),n.queries.track(new nb(e,t))}function k$(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function jb(n,e){return n.queries.getByIndex(e)}function MR(n,e){let t=n[te],r=jb(t,e);return r.crossesNgTemplate?rb(t,n,e,[]):TR(t,n,r,e)}function NR(n,e,t){let r,i=El(()=>{r._dirtyCounter();let o=O$(r,n);if(e&&o===void 0)throw new B(-951,!1);return o});return r=i[Nt],r._dirtyCounter=$e(0),r._flatValue=void 0,i}function Bb(n){return NR(!0,!1,n)}function Ub(n){return NR(!0,!0,n)}function kR(n,e){let t=n[Nt];t._lView=me(),t._queryIndex=e,t._queryList=Vb(t._lView,e),t._queryList.onDirty(()=>t._dirtyCounter.update(r=>r+1))}function O$(n,e){let t=n._lView,r=n._queryIndex;if(t===void 0||r===void 0||t[re]&4)return e?void 0:rn;let i=Vb(t,r),o=MR(t,r);return i.reset(o,px),e?i.first:i._changesDetected||n._flatValue===void 0?n._flatValue=i.toArray():n._flatValue}var UA=new Set;function gi(n){UA.has(n)||(UA.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var uo=class{},ep=class{};var kf=class extends uo{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Rf(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=$_(e);this._bootstrapComponents=Ox(o.bootstrap),this._r3Injector=gy(e,t,[{provide:uo,useValue:this},{provide:su,useValue:this.componentFactoryResolver},...r],ni(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Of=class extends ep{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new kf(this.moduleType,e,[])}};var Xl=class extends uo{injector;componentFactoryResolver=new Rf(this);instance=null;constructor(e){super();let t=new hs([...e.providers,{provide:uo,useValue:this},{provide:su,useValue:this.componentFactoryResolver}],e.parent||La(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function au(n,e,t=null){return new Xl({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var P$=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=H_(!1,t.type),i=r.length>0?au([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=P({token:n,providedIn:"environment",factory:()=>new n(Z(Xe))})}return n})();function Te(n){return Za(()=>{let e=OR(n),t=oe(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===yb.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(P$).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||li.Emulated,styles:n.styles||rn,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&gi("NgStandalone"),PR(t);let r=n.dependencies;return t.directiveDefs=$A(r,F$),t.pipeDefs=$A(r,$S),t.id=j$(t),t})}function F$(n){return ri(n)||z_(n)}function ge(n){return Za(()=>({type:n.type,bootstrap:n.bootstrap||rn,declarations:n.declarations||rn,imports:n.imports||rn,exports:n.exports||rn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function L$(n,e){if(n==null)return no;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,c;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,c=i[3]||null):(o=i,s=i,a=Gf.None,c=null),t[o]=[r,a,c],e[o]=s}return t}function V$(n){if(n==null)return no;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function Ne(n){return Za(()=>{let e=OR(n);return PR(e),e})}function OR(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||no,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||rn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:L$(n.inputs,e),outputs:V$(n.outputs),debugInfo:null}}function PR(n){n.features?.forEach(e=>e(n))}function $A(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function j$(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function B$(n){return Object.getPrototypeOf(n.prototype).constructor}function Nr(n){let e=B$(n.type),t=!0,r=[n];for(;e;){let i;if(Ar(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Ty(n.inputs),s.declaredInputs=Ty(n.declaredInputs),s.outputs=Ty(n.outputs);let a=i.hostBindings;a&&q$(n,a);let c=i.viewQuery,u=i.contentQueries;if(c&&z$(n,c),u&&H$(n,u),U$(n,i),kS(n.outputs,i.outputs),Ar(i)&&i.data.animation){let d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Nr&&(t=!1)}}e=Object.getPrototypeOf(e)}$$(r)}function U$(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function $$(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Wa(i.hostAttrs,t=Wa(t,i.hostAttrs))}}function Ty(n){return n===no?{}:n===rn?[]:n}function z$(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function H$(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function q$(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function FR(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=Wa(n.mergedAttrs,n.attrs);let d=n.tView=Ab(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),d.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),$a(n,!1);let c=W$(t,e,n,r);ff()&&kb(t,e,c,n),Ka(c,e);let u=dR(c,e,c,n);e[r+vt]=u,Rb(e,u),T$(u,n,e)}function G$(n,e,t,r,i,o,s,a,c,u,d){let p=t+vt,m;return e.firstCreatePass?(m=ec(e,p,4,s||null,a||null),oy()&&_R(e,n,m,Gn(e.consts,u),Xx),nx(e,m)):m=e.data[p],FR(m,n,e,t,r,i,o,c),Ul(m)&&Pb(e,n,m),u!=null&&Qf(n,m,d),m}function Jl(n,e,t,r,i,o,s,a,c,u,d){let p=t+vt,m;if(e.firstCreatePass){if(m=ec(e,p,4,s||null,a||null),u!=null){let g=Gn(e.consts,u);m.localNames=[];for(let I=0;I<g.length;I+=2)m.localNames.push(g[I],-1)}}else m=e.data[p];return FR(m,n,e,t,r,i,o,c),u!=null&&Qf(n,m,d),m}function fo(n,e,t,r,i,o,s,a){let c=me(),u=_t(),d=Gn(u.consts,o);return G$(c,u,n,e,t,r,i,d,void 0,s,a),fo}var W$=K$;function K$(n,e,t,r){return pf(!0),e[nt].createComment("")}var tp=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(tp||{}),po=new O(""),LR=!1,ib=class extends G{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,KS()&&(this.destroyRef=_(pn,{optional:!0})??void 0,this.pendingTasks=_(xr,{optional:!0})??void 0)}emit(e){let t=se(null);try{super.next(e)}finally{se(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ie&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ye=ib;function VR(n){let e,t;function r(){n=ws;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function zA(n){return queueMicrotask(()=>n()),()=>{n=ws}}var $b="isAngularZone",Pf=$b+"_ID",Y$=0,$=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ye(!1);onMicrotaskEmpty=new ye(!1);onStable=new ye(!1);onError=new ye(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=LR}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,X$(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get($b)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new B(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Q$,ws,ws);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Q$={};function zb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Z$(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){VR(()=>{n.callbackScheduled=!1,ob(n),n.isCheckStableRunning=!0,zb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ob(n)}function X$(n){let e=()=>{Z$(n)},t=Y$++;n._inner=n._inner.fork({name:"angular",properties:{[$b]:!0,[Pf]:t,[Pf+t]:!0},onInvokeTask:(r,i,o,s,a,c)=>{if(J$(c))return r.invokeTask(o,s,a,c);try{return HA(n),r.invokeTask(o,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),qA(n)}},onInvoke:(r,i,o,s,a,c,u)=>{try{return HA(n),r.invoke(o,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ez(c)&&e(),qA(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ob(n),zb(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ob(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function HA(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function qA(n){n._nesting--,zb(n)}var Ff=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ye;onMicrotaskEmpty=new ye;onStable=new ye;onError=new ye;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function J$(n){return jR(n,"__ignore_ng_zone__")}function ez(n){return jR(n,"__scheduler_tick__")}function jR(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var np=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),Hb=[0,1,2,3],qb=(()=>{class n{ngZone=_($);scheduler=_(Un);errorHandler=_(Ht,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){_(po,{optional:!0})}execute(){let t=this.sequences.size>0;t&&je(16),this.executing=!0;for(let r of Hb)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&je(17)}register(t){let{view:r}=t;r!==void 0?((r[vs]??=[]).push(t),oo(r),r[re]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(tp.AFTER_NEXT_RENDER,t):t()}static \u0275prov=P({token:n,providedIn:"root",factory:()=>new n})}return n})(),eu=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[vs];e&&(this.view[vs]=e.filter(t=>t!==this))}};function hr(n,e){let t=e?.injector??_(ee);return gi("NgAfterNextRender"),nz(n,t,e,!0)}function tz(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function nz(n,e,t,r){let i=e.get(np);i.impl??=e.get(qb);let o=e.get(po,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(pn):null,a=e.get(Es,null,{optional:!0}),c=new eu(i.impl,tz(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(c),c}var rp=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Gb=new O("");function xs(n){return!!n&&typeof n.then=="function"}function BR(n){return!!n&&typeof n.subscribe=="function"}var UR=new O("");var Wb=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=_(UR,{optional:!0})??[];injector=_(ee);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=It(this.injector,i);if(xs(o))t.push(o);else if(BR(o)){let s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ip=new O("");function $R(){Xv(()=>{let n="";throw new B(600,n)})}function zR(n){return n.isBoundToModule}var rz=10;var Cn=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=_(Rn);afterRenderManager=_(np);zonelessEnabled=_(Ha);rootEffectScheduler=_(Gl);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new G;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=_(xr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(q(t=>!t))}constructor(){_(po,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=_(Xe);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ee.NULL){return this._injector.get($).run(()=>{je(10);let s=t instanceof Jf;if(!this._injector.get(Wb).done){let I="";throw new B(405,I)}let c;s?c=t:c=this._injector.get(su).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let u=zR(c)?void 0:this._injector.get(uo),d=r||c.selector,p=c.create(i,[],d,u),m=p.location.nativeElement,g=p.injector.get(Gb,null);return g?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),Kl(this.components,p),g?.unregisterApplication(m)}),this._loadComponent(p),je(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){je(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(tp.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new B(101,!1);let t=se(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,se(t),this.afterTick.next(),je(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Pt,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<rz;)je(14),this.synchronizeOnce(),je(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!zl(i))continue;let o=r&&!this.zonelessEnabled?0:1;aR(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>zl(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Kl(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(ip,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Kl(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new B(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Kl(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var Sy="aria";function op(n,e){let t=me(),r=so();if(mi(t,r,e)){let i=_t(),o=ql();if(Zf(o,i,t,n,e))si(o)&&Zx(t,o.index);else{let a=Hn(o,t),c=iz(n);Jx(t[nt],a,null,o.value,c,e,null)}}return op}function iz(n){return n.charAt(Sy.length)!=="-"?Sy+"-"+n.slice(Sy.length).toLowerCase():n}function lt(n,e,t,r){let i=me(),o=so();if(mi(i,o,e)){let s=_t(),a=ql();DU(a,i,n,e,t,r)}return lt}var uoe=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var sb=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e,!0))}};function Ay(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function oz(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let c=e.length-1;for(;o<=s&&o<=c;){let u=n.at(o),d=e[o],p=Ay(o,u,o,d,t);if(p!==0){p<0&&n.updateValue(o,d),o++;continue}let m=n.at(s),g=e[c],I=Ay(s,m,c,g,t);if(I!==0){I<0&&n.updateValue(s,g),s--,c--;continue}let x=t(o,u),M=t(s,m),L=t(o,d);if(Object.is(L,M)){let H=t(c,g);Object.is(H,x)?(n.swap(o,s),n.updateValue(s,g),c--,s--):n.move(s,o),n.updateValue(o,d),o++;continue}if(r??=new Lf,i??=WA(n,o,s,t),ab(n,r,o,L))n.updateValue(o,d),o++,s++;else if(i.has(L))r.set(x,n.detach(o)),s--;else{let H=n.create(o,e[o]);n.attach(o,H),o++,s++}}for(;o<=c;)GA(n,r,t,o,e[o]),o++}else if(e!=null){let c=e[Symbol.iterator](),u=c.next();for(;!u.done&&o<=s;){let d=n.at(o),p=u.value,m=Ay(o,d,o,p,t);if(m!==0)m<0&&n.updateValue(o,p),o++,u=c.next();else{r??=new Lf,i??=WA(n,o,s,t);let g=t(o,p);if(ab(n,r,o,g))n.updateValue(o,p),o++,s++,u=c.next();else if(!i.has(g))n.attach(o,n.create(o,p)),o++,s++,u=c.next();else{let I=t(o,d);r.set(I,n.detach(o)),s--}}}for(;!u.done;)GA(n,r,t,n.length,u.value),u=c.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(c=>{n.destroy(c)})}function ab(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function GA(n,e,t,r,i){if(ab(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function WA(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Lf=class{kvMap=new Map;_vMap=void 0;has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function ze(n,e,t,r,i,o,s,a){gi("NgControlFlow");let c=me(),u=_t(),d=Gn(u.consts,o);return Jl(c,u,n,e,t,r,i,d,256,s,a),Kb}function Kb(n,e,t,r,i,o,s,a){gi("NgControlFlow");let c=me(),u=_t(),d=Gn(u.consts,o);return Jl(c,u,n,e,t,r,i,d,512,s,a),Kb}function He(n,e){gi("NgControlFlow");let t=me(),r=so(),i=t[r]!==dr?t[r]:-1,o=i!==-1?Vf(t,vt+i):void 0,s=0;if(mi(t,r,n)){let a=se(null);try{if(o!==void 0&&fR(o,s),n!==-1){let c=vt+n,u=Vf(t,c),d=db(t[te],c),p=mR(u,d,t),m=iu(t,d,e,{dehydratedView:p});ou(u,m,s,Ya(d,p))}}finally{se(a)}}else if(o!==void 0){let a=hR(o,s);a!==void 0&&(a[gt]=e)}}var cb=class{lContainer;$implicit;$index;constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ct}};function Yb(n,e){return e}var lb=class{hasEmptyBlock;trackByFn;liveCollection;constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function tc(n,e,t,r,i,o,s,a,c,u,d,p,m){gi("NgControlFlow");let g=me(),I=_t(),x=c!==void 0,M=me(),L=a?s.bind(M[fn][gt]):s,H=new lb(x,L);M[vt+n]=H,Jl(g,I,n+1,e,t,r,i,Gn(I.consts,o),256),x&&Jl(g,I,n+2,c,u,d,p,Gn(I.consts,m),512)}var ub=class extends sb{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ct}at(e){return this.getLView(e)[gt].$implicit}attach(e,t){let r=t[ps];this.needsIndexUpdate||=e!==this.length,ou(this.lContainer,t,e,Ya(this.templateTNode,r))}detach(e,t){return this.needsIndexUpdate||=e!==this.length-1,t&&sz(this.lContainer,e),az(this.lContainer,e)}create(e,t){let r=Af(this.lContainer,this.templateTNode.tView.ssrId),i=iu(this.hostLView,this.templateTNode,new cb(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Kf(e[te],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[gt].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[gt].$index=e}getLView(e){return cz(this.lContainer,e)}};function nc(n){let e=se(null),t=ai();try{let r=me(),i=r[te],o=r[t],s=t+1,a=Vf(r,s);if(o.liveCollection===void 0){let u=db(i,s);o.liveCollection=new ub(a,r,u)}else o.liveCollection.reset();let c=o.liveCollection;if(oz(c,n,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let u=so(),d=c.length===0;if(mi(r,u,d)){let p=t+2,m=Vf(r,p);if(d){let g=db(i,p),I=mR(m,g,r),x=iu(r,g,void 0,{dehydratedView:I});ou(m,x,0,Ya(g,I))}else i.firstUpdatePass&&YU(m),fR(m,0)}}}finally{se(e)}}function Vf(n,e){return n[e]}function sz(n,e){if(n.length<=Ct)return;let t=Ct+e,r=n[t];r&&r[Gt]&&(r[Gt].skipLeaveAnimations=!0)}function az(n,e){return Zl(n,e)}function cz(n,e){return hR(n,e)}function db(n,e){return $l(n,e)}function Be(n,e,t){let r=me(),i=so();if(mi(r,i,e)){let o=_t(),s=ql();EU(s,r,n,e,r[nt],t)}return Be}function hb(n,e,t,r,i){Zf(e,n,t,i?"class":"style",r)}function z(n,e,t,r){let i=me(),o=i[te],s=n+vt,a=o.firstCreatePass?bR(s,i,2,e,Xx,oy(),t,r):o.data[s];if(eR(a,i,n,e,HR),Ul(a)){let c=i[te];Pb(c,i,a),Sx(c,a,i)}return r!=null&&Qf(i,a),z}function K(){let n=_t(),e=Wt(),t=tR(e);return n.firstCreatePass&&ER(n,t),ay(t)&&cy(),iy(),t.classesWithoutHost!=null&&X2(t)&&hb(n,t,me(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&J2(t)&&hb(n,t,me(),t.stylesWithoutHost,!1),K}function dt(n,e,t,r){return z(n,e,t,r),K(),dt}function mo(n,e,t,r){let i=me(),o=i[te],s=n+vt,a=o.firstCreatePass?l$(s,o,2,e,t,r):o.data[s];return eR(a,i,n,e,HR),r!=null&&Qf(i,a),mo}function go(){let n=Wt(),e=tR(n);return ay(e)&&cy(),iy(),go}function kr(n,e,t,r){return mo(n,e,t,r),go(),kr}var HR=(n,e,t,r,i)=>(pf(!0),Lx(e[nt],r,gA()));function on(){return me()}function rc(n,e,t){let r=me(),i=so();if(mi(r,i,e)){let o=_t(),s=ql();Qx(s,r,n,e,r[nt],t)}return rc}var cu="en-US";var lz=cu;function qR(n){typeof n=="string"&&(lz=n.toLowerCase().replace(/_/g,"-"))}function Ae(n,e,t){let r=me(),i=_t(),o=Wt();return uz(i,r,r[nt],o,n,e,t),Ae}function uz(n,e,t,r,i,o,s){let a=!0,c=null;if((r.type&3||s)&&(c??=Cy(r,e,o),u$(r,n,e,s,t,i,o,c)&&(a=!1)),a){let u=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let p=0;p<d.length;p+=2){let m=d[p],g=d[p+1];c??=Cy(r,e,o),VA(r,e,m,g,i,c)}if(u&&u.length)for(let p of u)c??=Cy(r,e,o),VA(r,e,p,i,i,c)}}function xe(n=1){return mA(n)}function dz(n,e){let t=null,r=HB(n);for(let i=0;i<e.length;i++){let o=e[i];if(o==="*"){t=i;continue}if(r===null?Fx(n,o,!0):WB(r,o))return i}return t}function Dn(n){let e=me()[fn][hn];if(!e.projection){let t=n?n.length:1,r=e.projection=BS(t,null),i=r.slice(),o=e.child;for(;o!==null;){if(o.type!==128){let s=n?dz(o,n):0;s!==null&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o)}o=o.next}}}function ot(n,e=0,t,r,i,o){let s=me(),a=_t(),c=r?n+1:null;c!==null&&Jl(s,a,c,r,i,o,null,t);let u=ec(a,vt+n,16,null,t||null);u.projection===null&&(u.projection=e),dy();let p=!s[ps]||sy();s[fn][hn].projection[u.projection]===null&&c!==null?hz(s,a,c):p&&!zf(u)&&pU(a,s,u)}function hz(n,e,t){let r=vt+t,i=e.data[r],o=n[r],s=Af(o,i.tView.ssrId),a=iu(n,i,void 0,{dehydratedView:s});ou(o,a,0,Ya(i,s))}function fr(n,e,t,r){xR(n,e,t,r)}function Dt(n,e,t){AR(n,e,t)}function qe(n){let e=me(),t=_t(),r=lf();Hl(r+1);let i=jb(t,r);if(n.dirty&&XS(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=MR(e,r);n.reset(o,px),n.notifyOnChanges()}return!0}return!1}function Ge(){return Vb(me(),lf())}function Qb(n,e,t,r,i){kR(e,xR(n,t,r,i))}function ic(n,e,t,r){kR(n,AR(e,t,r))}function sp(n=1){Hl(lf()+n)}function pr(n){let e=sA();return ZS(e,vt+n)}function _f(n,e){return n<<17|e<<2}function Ss(n){return n>>17&32767}function fz(n){return(n&2)==2}function pz(n,e){return n&131071|e<<17}function fb(n){return n|2}function Qa(n){return(n&131068)>>2}function xy(n,e){return n&-131069|e<<2}function mz(n){return(n&1)===1}function pb(n){return n|1}function gz(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ss(s),c=Qa(s);n[r]=t;let u=!1,d;if(Array.isArray(t)){let p=t;d=p[1],(d===null||Fa(p,d)>0)&&(u=!0)}else d=t;if(i)if(c!==0){let m=Ss(n[a+1]);n[r+1]=_f(m,a),m!==0&&(n[m+1]=xy(n[m+1],r)),n[a+1]=pz(n[a+1],r)}else n[r+1]=_f(a,0),a!==0&&(n[a+1]=xy(n[a+1],r)),a=r;else n[r+1]=_f(c,0),a===0?a=r:n[c+1]=xy(n[c+1],r),c=r;u&&(n[r+1]=fb(n[r+1])),KA(n,d,r,!0),KA(n,d,r,!1),vz(e,d,n,r,o),s=_f(a,c),o?e.classBindings=s:e.styleBindings=s}function vz(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Fa(o,e)>=0&&(t[r+1]=pb(t[r+1]))}function KA(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ss(i):Qa(i),a=!1;for(;s!==0&&(a===!1||o);){let c=n[s],u=n[s+1];_z(c,e)&&(a=!0,n[s+1]=r?pb(u):fb(u)),s=r?Ss(u):Qa(u)}a&&(n[t+1]=r?fb(i):pb(i))}function _z(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Fa(n,e)>=0:!1}var ur={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function yz(n){return n.substring(ur.key,ur.keyEnd)}function bz(n){return Ez(n),GR(n,WR(n,0,ur.textEnd))}function GR(n,e){let t=ur.textEnd;return t===e?-1:(e=ur.keyEnd=wz(n,ur.key=e,t),WR(n,e,t))}function Ez(n){ur.key=0,ur.keyEnd=0,ur.value=0,ur.valueEnd=0,ur.textEnd=n.length}function WR(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function wz(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function Ue(n,e){return Cz(n,e,null,!0),Ue}function Rs(n){Dz(Mz,Iz,n,!0)}function Iz(n,e){for(let t=bz(e);t>=0;t=GR(e,t))nf(n,yz(e),!0)}function Cz(n,e,t,r){let i=me(),o=_t(),s=fy(2);if(o.firstUpdatePass&&YR(o,n,s,r),e!==dr&&mi(i,s,e)){let a=o.data[ai()];QR(o,a,i,i[nt],n,i[s+1]=kz(e,t),r,s)}}function Dz(n,e,t,r){let i=_t(),o=fy(2);i.firstUpdatePass&&YR(i,null,o,r);let s=me();if(t!==dr&&mi(s,o,t)){let a=i.data[ai()];if(ZR(a,r)&&!KR(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;c!==null&&(t=Zh(c,t||"")),hb(i,a,s,t,r)}else Nz(i,a,s,s[nt],s[o+1],s[o+1]=Rz(n,e,t),r,o)}}function KR(n,e){return e>=n.expandoStartIndex}function YR(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ai()],s=KR(n,t);ZR(o,r)&&e===null&&!s&&(e=!1),e=Tz(i,o,e,r),gz(i,o,e,t,s,r)}}function Tz(n,e,t,r){let i=dA(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Ry(null,n,e,t,r),t=tu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Ry(i,n,e,t,r),o===null){let c=Sz(n,e,r);c!==void 0&&Array.isArray(c)&&(c=Ry(null,n,e,c[1],r),c=tu(c,e.attrs,r),Az(n,e,r,c))}else o=xz(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function Sz(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Qa(r)!==0)return n[Ss(r)]}function Az(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ss(i)]=r}function xz(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=tu(r,s,t)}return tu(r,e.attrs,t)}function Ry(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=tu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function tu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),nf(n,s,t?!0:e[++o]))}return n===void 0?null:n}function Rz(n,e,t){if(t==null||t==="")return rn;let r=[],i=fi(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)n(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&n(r,o,i[o]);else typeof i=="string"&&e(r,i);return r}function Mz(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&nf(n,r,t)}function Nz(n,e,t,r,i,o,s,a){i===dr&&(i=rn);let c=0,u=0,d=0<i.length?i[0]:null,p=0<o.length?o[0]:null;for(;d!==null||p!==null;){let m=c<i.length?i[c+1]:void 0,g=u<o.length?o[u+1]:void 0,I=null,x;d===p?(c+=2,u+=2,m!==g&&(I=p,x=g)):p===null||d!==null&&d<p?(c+=2,I=d):(u+=2,I=p,x=g),I!==null&&QR(n,e,t,r,I,x,s,a),d=c<i.length?i[c]:null,p=u<o.length?o[u]:null}}function QR(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],d=mz(u)?YA(c,e,t,i,Qa(u),s):void 0;if(!jf(d)){jf(o)||fz(u)&&(o=YA(c,null,t,i,a,s));let p=X_(ai(),t);gU(r,s,p,i,o)}}function YA(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let c=n[i],u=Array.isArray(c),d=u?c[1]:c,p=d===null,m=t[i+1];m===dr&&(m=p?rn:void 0);let g=p?rf(m,r):d===r?m:void 0;if(u&&!jf(g)&&(g=rf(c,r)),jf(g)&&(a=g,s))return a;let I=n[i+1];i=s?Ss(I):Qa(I)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=rf(c,r))}return a}function jf(n){return n!==void 0}function kz(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ni(fi(n)))),n}function ZR(n,e){return(n.flags&(e?8:16))!==0}function Qe(n,e=""){let t=me(),r=_t(),i=n+vt,o=r.firstCreatePass?ec(r,i,1,e,null):r.data[i],s=Oz(r,t,o,e,n);t[i]=s,ff()&&kb(r,t,s,o),$a(o,!1)}var Oz=(n,e,t,r,i)=>(pf(!0),ZB(e[nt],r));function XR(n,e,t,r=""){return mi(n,so(),t)?e+Jh(t)+r:dr}function Tn(n){return mr("",n),Tn}function mr(n,e,t){let r=me(),i=XR(r,n,e,t);return i!==dr&&Pz(r,ai(),i),mr}function Pz(n,e,t){let r=X_(e,n);XB(n[nt],r,t)}function Zb(n,e,t=""){return XR(me(),n,e,t)}function Fz(n,e,t){let r=_t();if(r.firstCreatePass){let i=Ar(n);mb(t,r.data,r.blueprint,i,!0),mb(e,r.data,r.blueprint,i,!1)}}function mb(n,e,t,r,i){if(n=zt(n),Array.isArray(n))for(let o=0;o<n.length;o++)mb(n[o],e,t,r,i);else{let o=_t(),s=me(),a=Wt(),c=ds(n)?n:zt(n.provide),u=G_(n),d=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ds(n)||!n.multi){let g=new Cs(u,i,Ft,null),I=Ny(c,e,i?d:d+m,p);I===-1?(Oy(Tf(a,s),o,c),My(o,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),s.push(g)):(t[I]=g,s[I]=g)}else{let g=Ny(c,e,d+m,p),I=Ny(c,e,d,d+m),x=g>=0&&t[g],M=I>=0&&t[I];if(i&&!M||!i&&!x){Oy(Tf(a,s),o,c);let L=jz(i?Vz:Lz,t.length,i,r,u,n);!i&&M&&(t[I].providerFactory=L),My(o,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(L),s.push(L)}else{let L=JR(t[i?I:g],u,!i&&r);My(o,n,g>-1?g:I,L)}!i&&r&&M&&t[I].componentProviders++}}}function My(n,e,t,r){let i=ds(e),o=WS(e);if(i||o){let c=(o?zt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(t);d===-1?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function JR(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Ny(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function Lz(n,e,t,r,i){return gb(this.multi,[])}function Vz(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,c=Yl(r,r[te],this.providerFactory.index,i);s=c.slice(0,a),gb(o,s);for(let u=a;u<c.length;u++)s.push(c[u])}else s=[],gb(o,s);return s}function gb(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function jz(n,e,t,r,i,o){let s=new Cs(n,t,Ft,null);return s.multi=[],s.index=e,s.componentProviders=0,JR(s,i,r&&!t),s}function Wn(n,e=[]){return t=>{t.providersResolver=(r,i)=>Fz(r,i?i(n):n,e)}}function Xb(n,e){return Xf(n,e)}var Bf=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Jb=(()=>{class n{compileModuleSync(t){return new Of(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=$_(t),o=Ox(i.declarations).reduce((s,a)=>{let c=ri(a);return c&&s.push(new Ts(c)),s},[]);return new Bf(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bz=(()=>{class n{zone=_($);changeDetectionScheduler=_(Un);applicationRef=_(Cn);applicationErrorHandler=_(Rn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eM=new O("",{factory:()=>!1});function eE({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new $(oe(k({},nE()),{scheduleInRootZone:t})),[{provide:$,useFactory:n},{provide:Dr,multi:!0,useFactory:()=>{let r=_(Bz,{optional:!0});return()=>r.initialize()}},{provide:Dr,multi:!0,useFactory:()=>{let r=_(Uz);return()=>{r.initialize()}}},e===!0?{provide:yy,useValue:!0}:[],{provide:by,useValue:t??LR},{provide:Rn,useFactory:()=>{let r=_($),i=_(Xe),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(Ht),o.handleError(s))})}}}]}function tE(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=eE({ngZoneFactory:()=>{let i=nE(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&gi("NgZone_CoalesceEvent"),new $(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return qt([{provide:eM,useValue:!0},{provide:Ha,useValue:!1},r])}function nE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var Uz=(()=>{class n{subscription=new Ie;initialized=!1;zone=_($);pendingTasks=_(xr);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{$.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{$.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var tM=(()=>{class n{applicationErrorHandler=_(Rn);appRef=_(Cn);taskService=_(xr);ngZone=_($);zonelessEnabled=_(Ha);tracing=_(po,{optional:!0});disableScheduling=_(yy,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ie;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(_(by,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ff||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?zA:VR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,zA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $z(){return typeof $localize<"u"&&$localize.locale||cu}var rE=new O("",{providedIn:"root",factory:()=>_(rE,{optional:!0,skipSelf:!0})||$z()});function Lt(n){return AS(n)}function gr(n,e){return El(n,e?.equal)}var iE=class{[Nt];constructor(e){this[Nt]=e}destroy(){this[Nt].destroy()}};function oc(n,e){let t=e?.injector??_(ee),r=e?.manualCleanup!==!0?t.get(pn):null,i,o=t.get(Es,null,{optional:!0}),s=t.get(Un);return o!==null?(i=qz(o.view,s,n),r instanceof Pl&&r._lView===o.view&&(r=null)):i=Gz(n,t.get(Gl),s),i.injector=t,r!==null&&(i.onDestroyFn=r.onDestroy(()=>i.destroy())),new iE(i)}var nM=oe(k({},xS),{cleanupFns:void 0,zone:null,onDestroyFn:ws,run(){let n=za(!1);try{RS(this)}finally{za(n)}},cleanup(){if(!this.cleanupFns?.length)return;let n=se(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],se(n)}}}),zz=oe(k({},nM),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){zi(this),this.onDestroyFn(),this.cleanup(),this.scheduler.remove(this)}}),Hz=oe(k({},nM),{consumerMarkedDirty(){this.view[re]|=8192,oo(this.view),this.notifier.notify(13)},destroy(){zi(this),this.onDestroyFn(),this.cleanup(),this.view[oi]?.delete(this)}});function qz(n,e,t){let r=Object.create(Hz);return r.view=n,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=e,r.fn=rM(r,t),n[oi]??=new Set,n[oi].add(r),r.consumerMarkedDirty(r),r}function Gz(n,e,t){let r=Object.create(zz);return r.fn=rM(r,n),r.scheduler=e,r.notifier=t,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function rM(n,e){return()=>{e(t=>(n.cleanupFns??=[]).push(t))}}var lM=Symbol("InputSignalNode#UNSET"),rH=oe(k({},wl),{transformFn:void 0,applyValueToInputSignal(n,e){Ea(n,e)}});function uM(n,e){let t=Object.create(rH);t.value=n,t.transformFn=e?.transform;function r(){if(Jo(t),t.value===lM){let i=null;throw new B(-950,i)}return t.value}return r[Nt]=t,r}var Ms=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>_b(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},iH=new O("");iH.__NG_ELEMENT_ID__=n=>{let e=Wt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new B(204,!1)};function iM(n,e){return uM(n,e)}function oH(n){return uM(lM,n)}var dM=(iM.required=oH,iM);function oM(n,e){return Bb(e)}function sH(n,e){return Ub(e)}var uu=(oM.required=sH,oM);function sM(n,e){return Bb(e)}function aH(n,e){return Ub(e)}var hM=(sM.required=aH,sM);var sE=new O(""),cH=new O("");function lu(n){return!n.moduleRef}function lH(n){let e=lu(n)?n.r3Injector:n.moduleRef.injector,t=e.get($);return t.run(()=>{lu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Rn),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),lu(n)){let o=()=>e.destroy(),s=n.platformInjector.get(sE);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(sE);s.add(o),n.moduleRef.onDestroy(()=>{Kl(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return dH(r,t,()=>{let o=e.get(xr),s=o.add(),a=e.get(Wb);return a.runInitializers(),a.donePromise.then(()=>{let c=e.get(rE,cu);if(qR(c||cu),!e.get(cH,!0))return lu(n)?e.get(Cn):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(lu(n)){let d=e.get(Cn);return n.rootComponent!==void 0&&d.bootstrap(n.rootComponent),d}else return uH?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var uH;function dH(n,e,t){try{let r=t();return xs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var ap=null;function hH(n=[],e){return ee.create({name:e,providers:[{provide:Vl,useValue:"platform"},{provide:sE,useValue:new Set([()=>ap=null])},...n]})}function fH(n=[]){if(ap)return ap;let e=hH(n);return ap=e,$R(),pH(e),e}function pH(n){let e=n.get($f,null);It(n,()=>{e?.forEach(t=>t())})}function cE(){return!1}var gn=(()=>{class n{static __NG_ELEMENT_ID__=mH}return n})();function mH(n){return gH(Wt(),me(),(n&16)===16)}function gH(n,e,t){if(si(n)&&!t){let r=qn(n.index,e);return new lo(r,r)}else if(n.type&175){let r=e[fn];return new lo(r,e)}return null}function fM(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;je(8);try{let o=i?.injector??fH(r),s=[eE({}),{provide:Un,useExisting:tM},_A,...t||[]],a=new Xl({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return lH({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{je(9)}}function Me(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Or(n,e=NaN){return!isNaN(parseFloat(n))&&!isNaN(Number(n))?Number(n):e}var oE=Symbol("NOT_SET"),pM=new Set,vH=oe(k({},wl),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:oE,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(n){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==oE&&!ts(this))return this.signal;try{for(let i of this.cleanup??pM)i()}finally{this.cleanup?.clear()}let e=[];n!==void 0&&e.push(n),e.push(this.registerCleanupFn);let t=$i(this),r;try{r=this.userFn.apply(null,e)}finally{es(this,t)}return(this.value===oE||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),aE=class extends eu{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];constructor(e,t,r,i,o,s=null){super(e,[void 0,void 0,void 0,void 0],r,!1,o.get(pn),s),this.scheduler=i;for(let a of Hb){let c=t[a];if(c===void 0)continue;let u=Object.create(vH);u.sequence=this,u.phase=a,u.userFn=c,u.dirty=!0,u.signal=()=>(Jo(u),u.value),u.signal[Nt]=u,u.registerCleanupFn=d=>(u.cleanup??=new Set).add(d),this.nodes[a]=u,this.hooks[a]=d=>u.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){super.destroy();for(let e of this.nodes)if(e)try{for(let t of e.cleanup??pM)t()}finally{zi(e)}}};function mM(n,e){let t=e?.injector??_(ee),r=t.get(Un),i=t.get(np),o=t.get(po,null,{optional:!0});i.impl??=t.get(qb);let s=n;typeof s=="function"&&(s={mixedReadWrite:n});let a=t.get(Es,null,{optional:!0}),c=new aE(i.impl,[s.earlyRead,s.write,s.mixedReadWrite,s.read],a?.view,r,t,o?.snapshot(null));return i.impl.register(c),c}function cp(n,e){let t=ri(n),r=e.elementInjector||La();return new Ts(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector,e.directives,e.bindings)}var _M=null;function vi(){return _M}function lE(n){_M??=n}var du=class{},uE=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>_(yM),providedIn:"platform"})}return n})();var yM=(()=>{class n extends uE{_location;_history;_doc=_(ce);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vi().getBaseHref(this._doc)}onPopState(t){let r=vi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=vi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function bM(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function gM(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function vo(n){return n&&n[0]!=="?"?`?${n}`:n}var lp=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>_(wM),providedIn:"root"})}return n})(),EM=new O(""),wM=(()=>{class n extends lp{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??_(ce).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return bM(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+vo(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+vo(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+vo(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(Z(uE),Z(EM,8))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_o=(()=>{class n{_subject=new G;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=bH(gM(vM(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+vo(r))}normalize(t){return n.stripTrailingSlash(yH(this._basePath,vM(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vo(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+vo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=vo;static joinWithSlash=bM;static stripTrailingSlash=gM;static \u0275fac=function(r){return new(r||n)(Z(lp))};static \u0275prov=P({token:n,factory:()=>_H(),providedIn:"root"})}return n})();function _H(){return new _o(Z(lp))}function yH(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function vM(n){return n.replace(/\/index.html$/,"")}function bH(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var dE=/\s+/,IM=[],hu=(()=>{class n{_ngEl;_renderer;initialClasses=IM;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(dE):IM}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(dE):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(dE).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||n)(Ft(Ee),Ft(kn))};static \u0275dir=Ne({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return n})();var hE=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(t){this._viewContainerRef=t}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||n)(Ft(In))};static \u0275dir=Ne({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Mn]})}return n})();var up=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({})}return n})();function fE(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var fu=class{};var pE="browser";function pu(n){return n===pE}var hp=new O(""),yE=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new B(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(Z(hp),Z($))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),mu=class{_doc;constructor(e){this._doc=e}manager},mE="ng-app-id";function CM(n){for(let e of n)e.remove()}function DM(n,e){let t=e.createElement("style");return t.textContent=n,t}function IH(n,e,t,r){let i=n.head?.querySelectorAll(`style[${mE}="${e}"],link[${mE}="${e}"]`);if(i)for(let o of i)o.removeAttribute(mE),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function vE(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var bE=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,IH(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,DM);r?.forEach(i=>this.addUsage(i,this.external,vE))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(CM(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])CM(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,DM(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,vE(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(Z(ce),Z(ho),Z(Ja,8),Z(Nn))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),gE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},EE=/%COMP%/g;var SM="%COMP%",CH=`_nghost-${SM}`,DH=`_ngcontent-${SM}`,TH=!0,SH=new O("",{providedIn:"root",factory:()=>TH});function AH(n){return DH.replace(EE,n)}function xH(n){return CH.replace(EE,n)}function AM(n,e){return e.map(t=>t.replace(EE,n))}var wE=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,c,u=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new gu(t,s,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof dp?i.applyToHost(t):i instanceof vu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case li.Emulated:o=new dp(c,u,r,this.appId,d,s,a,p,m);break;case li.ShadowDom:return new _E(c,u,t,r,s,a,this.nonce,p,m);default:o=new vu(c,u,r,d,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(Z(yE),Z(bE),Z(ho),Z(SH),Z(ce),Z(Nn),Z($),Z(Ja),Z(po,8))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),gu=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(gE[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(TM(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(TM(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=gE[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=gE[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(di.DashCase|di.Important)?e.style.setProperty(t,r,i&di.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&di.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=vi().getGlobalEventTarget(this.doc,e),!e))throw new B(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function TM(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var _E=class extends gu{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,c,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=AM(i.id,d);for(let m of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=m,this.shadowRoot.appendChild(g)}let p=i.getExternalStyles?.();if(p)for(let m of p){let g=vE(m,o);a&&g.setAttribute("nonce",a),this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},vu=class extends gu{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,c,u){super(e,o,s,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?AM(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Wf.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},dp=class extends vu{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,c,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,c,u,d),this.contentAttr=AH(d),this.hostAttr=xH(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var fp=class n extends du{supportsDOMEvents=!0;static makeCurrent(){lE(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=RH();return t==null?null:MH(t)}resetBaseElement(){_u=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return fE(document.cookie,e)}},_u=null;function RH(){return _u=_u||document.head.querySelector("base"),_u?_u.getAttribute("href"):null}function MH(n){return new URL(n,document.baseURI).pathname}var NH=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),RM=(()=>{class n extends mu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(Z(ce))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})(),xM=["alt","control","meta","shift"],kH={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},OH={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},MM=(()=>{class n extends mu{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vi().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),xM.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=kH[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),xM.forEach(s=>{if(s!==i){let a=OH[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(Z(ce))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();function IE(n,e,t){let r=k({rootComponent:n,platformRef:t?.platformRef},PH(e));return fM(r)}function PH(n){return{appProviders:[...BH,...n?.providers??[]],platformProviders:jH}}function FH(){fp.makeCurrent()}function LH(){return new Ht}function VH(){return bb(document),document}var jH=[{provide:Nn,useValue:pE},{provide:$f,useValue:FH,multi:!0},{provide:ce,useFactory:VH}];var BH=[{provide:Vl,useValue:"root"},{provide:Ht,useFactory:LH},{provide:hp,useClass:RM,multi:!0,deps:[ce]},{provide:hp,useClass:MM,multi:!0,deps:[ce]},wE,bE,yE,{provide:Pt,useExisting:wE},{provide:fu,useClass:NH},[]];var DE=class{};var Ns=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var TE=class{encodeKey(e){return NM(e)}encodeValue(e){return NM(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function UH(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var $H=/%(\d[a-f0-9])/gi,zH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function NM(n){return encodeURIComponent(n).replace($H,(e,t)=>zH[t]??e)}function pp(n){return`${n}`}var _i=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new TE,e.fromString){if(e.fromObject)throw new B(2805,!1);this.map=UH(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(pp):[pp(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(pp(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(pp(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var SE=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function HH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function kM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function OM(n){return typeof Blob<"u"&&n instanceof Blob}function PM(n){return typeof FormData<"u"&&n instanceof FormData}function qH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var GH="X-Request-URL",FM="text/plain",LM="application/json",Efe=`${LM}, ${FM}, */*`,sc=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(HH(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new B(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new Ns,this.context??=new SE,!this.params)this.params=new _i,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||kM(this.body)||OM(this.body)||PM(this.body)||qH(this.body)?this.body:this.body instanceof _i?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||PM(this.body)?null:OM(this.body)?this.body.type||null:kM(this.body)?null:typeof this.body=="string"?FM:this.body instanceof _i?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?LM:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,u=e.redirect||this.redirect,d=e.credentials||this.credentials,p=e.referrer||this.referrer,m=e.integrity||this.integrity,g=e.transferCache??this.transferCache,I=e.timeout??this.timeout,x=e.body!==void 0?e.body:this.body,M=e.withCredentials??this.withCredentials,L=e.reportProgress??this.reportProgress,H=e.headers||this.headers,J=e.params||this.params,Ve=e.context??this.context;return e.setHeaders!==void 0&&(H=Object.keys(e.setHeaders).reduce((Mt,De)=>Mt.set(De,e.setHeaders[De]),H)),e.setParams&&(J=Object.keys(e.setParams).reduce((Mt,De)=>Mt.set(De,e.setParams[De]),J)),new n(t,r,x,{params:J,headers:H,context:Ve,reportProgress:L,responseType:i,withCredentials:M,transferCache:g,keepalive:o,cache:a,priority:s,timeout:I,mode:c,redirect:u,credentials:d,referrer:p,integrity:m})}},xE=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(xE||{}),AE=class{headers;status;statusText;url;ok;type;redirected;constructor(e,t=200,r="OK"){this.headers=e.headers||new Ns,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.ok=this.status>=200&&this.status<300}};var mp=class n extends AE{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=xE.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected})}};function CE(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer}}var RE=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof sc)o=t;else{let c;i.headers instanceof Ns?c=i.headers:c=new Ns(i.headers);let u;i.params&&(i.params instanceof _i?u=i.params:u=new _i({fromObject:i.params})),o=new sc(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,integrity:i.integrity,timeout:i.timeout})}let s=W(o).pipe(Qi(c=>this.handler.handle(c)));if(t instanceof sc||i.observe==="events")return s;let a=s.pipe(Oe(c=>c instanceof mp));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(q(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new B(2806,!1);return c.body}));case"blob":return a.pipe(q(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new B(2807,!1);return c.body}));case"text":return a.pipe(q(c=>{if(c.body!==null&&typeof c.body!="string")throw new B(2808,!1);return c.body}));case"json":default:return a.pipe(q(c=>c.body))}case"response":return a;default:throw new B(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new _i().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,CE(i,r))}post(t,r,i={}){return this.request("POST",t,CE(i,r))}put(t,r,i={}){return this.request("PUT",t,CE(i,r))}static \u0275fac=function(r){return new(r||n)(Z(DE))};static \u0275prov=P({token:n,factory:n.\u0275fac})}return n})();var wfe=RegExp(`^${GH}:`,"m");var VM=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(Z(ce))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ME=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=Z(KH),i},providedIn:"root"})}return n})(),KH=(()=>{class n extends ME{_doc;constructor(t){super(),this._doc=t}sanitize(t,r){if(r==null)return null;switch(t){case mn.NONE:return r;case mn.HTML:return As(r,"HTML")?fi(r):Tb(this._doc,String(r)).toString();case mn.STYLE:return As(r,"Style")?fi(r):r;case mn.SCRIPT:if(As(r,"Script"))return fi(r);throw new B(5200,!1);case mn.URL:return As(r,"URL")?fi(r):qf(String(r));case mn.RESOURCE_URL:if(As(r,"ResourceURL"))return fi(r);throw new B(5201,!1);default:throw new B(5202,!1)}}bypassSecurityTrustHtml(t){return Eb(t)}bypassSecurityTrustStyle(t){return wb(t)}bypassSecurityTrustScript(t){return Ib(t)}bypassSecurityTrustUrl(t){return Cb(t)}bypassSecurityTrustResourceUrl(t){return Db(t)}static \u0275fac=function(r){return new(r||n)(Z(ce))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ve="primary",ku=Symbol("RouteTitle"),FE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ps(n){return new FE(n)}function WM(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function YH(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Pr(n[t],e[t]))return!1;return!0}function Pr(n,e){let t=n?LE(n):void 0,r=e?LE(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!KM(n[i],e[i]))return!1;return!0}function LE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function KM(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function YM(n){return n.length>0?n[n.length-1]:null}function Ei(n){return Vh(n)?n:xs(n)?Ze(Promise.resolve(n)):W(n)}var QH={exact:ZM,subset:XM},QM={exact:ZH,subset:XH,ignored:()=>!0};function BM(n,e,t){return QH[t.paths](n.root,e.root,t.matrixParams)&&QM[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function ZH(n,e){return Pr(n,e)}function ZM(n,e,t){if(!ks(n.segments,e.segments)||!_p(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!ZM(n.children[r],e.children[r],t))return!1;return!0}function XH(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>KM(n[t],e[t]))}function XM(n,e,t){return JM(n,e,e.segments,t)}function JM(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!ks(i,t)||e.hasChildren()||!_p(i,t,r))}else if(n.segments.length===t.length){if(!ks(n.segments,t)||!_p(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!XM(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!ks(n.segments,i)||!_p(n.segments,i,r)||!n.children[ve]?!1:JM(n.children[ve],e,o,r)}}function _p(n,e,t){return e.every((r,i)=>QM[t](n[i].parameters,r.parameters))}var Lr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ke([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){return t4.serialize(this)}},ke=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yp(this)}},yo=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ps(this.parameters),this._parameterMap}toString(){return tN(this)}};function JH(n,e){return ks(n,e)&&n.every((t,r)=>Pr(t.parameters,e[r].parameters))}function ks(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function e4(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ve&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ve&&(t=t.concat(e(i,r)))}),t}var Ou=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>new Fs,providedIn:"root"})}return n})(),Fs=class{parse(e){let t=new jE(e);return new Lr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${yu(e.root,!0)}`,r=i4(e.queryParams),i=typeof e.fragment=="string"?`#${n4(e.fragment)}`:"";return`${t}${r}${i}`}},t4=new Fs;function yp(n){return n.segments.map(e=>tN(e)).join("/")}function yu(n,e){if(!n.hasChildren())return yp(n);if(e){let t=n.children[ve]?yu(n.children[ve],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ve&&r.push(`${i}:${yu(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=e4(n,(r,i)=>i===ve?[yu(n.children[ve],!1)]:[`${i}:${yu(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ve]!=null?`${yp(n)}/${t[0]}`:`${yp(n)}/(${t.join("//")})`}}function eN(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function gp(n){return eN(n).replace(/%3B/gi,";")}function n4(n){return encodeURI(n)}function VE(n){return eN(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bp(n){return decodeURIComponent(n)}function UM(n){return bp(n.replace(/\+/g,"%20"))}function tN(n){return`${VE(n.path)}${r4(n.parameters)}`}function r4(n){return Object.entries(n).map(([e,t])=>`;${VE(e)}=${VE(t)}`).join("")}function i4(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${gp(t)}=${gp(i)}`).join("&"):`${gp(t)}=${gp(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var o4=/^[^\/()?;#]+/;function NE(n){let e=n.match(o4);return e?e[0]:""}var s4=/^[^\/()?;=#]+/;function a4(n){let e=n.match(s4);return e?e[0]:""}var c4=/^[^=?&#]+/;function l4(n){let e=n.match(c4);return e?e[0]:""}var u4=/^[^&#]+/;function d4(n){let e=n.match(u4);return e?e[0]:""}var jE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ve]=new ke(e,t)),r}parseSegment(){let e=NE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new yo(bp(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=a4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=NE(this.remaining);i&&(r=i,this.capture(r))}e[bp(t)]=bp(r)}parseQueryParam(e){let t=l4(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=d4(this.remaining);s&&(r=s,this.capture(r))}let i=UM(t),o=UM(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=NE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ve);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ve]:new ke([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function nN(n){return n.segments.length>0?new ke([],{[ve]:n}):n}function rN(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=rN(i);if(r===ve&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ke(n.segments,e);return h4(t)}function h4(n){if(n.numberOfChildren===1&&n.children[ve]){let e=n.children[ve];return new ke(n.segments.concat(e.segments),e.children)}return n}function dc(n){return n instanceof Lr}function iN(n,e,t=null,r=null){let i=oN(n);return sN(i,e,t,r)}function oN(n){let e;function t(o){let s={};for(let c of o.children){let u=t(c);s[c.outlet]=u}let a=new ke(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=nN(r);return e??i}function sN(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return kE(i,i,i,t,r);let o=f4(e);if(o.toRoot())return kE(i,i,new ke([],{}),t,r);let s=p4(o,i,n),a=s.processChildren?Eu(s.segmentGroup,s.index,o.commands):cN(s.segmentGroup,s.index,o.commands);return kE(i,s.segmentGroup,a,t,r)}function Ep(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Cu(n){return typeof n=="object"&&n!=null&&n.outlets}function kE(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([c,u])=>{o[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let s;n===e?s=t:s=aN(n,e,t);let a=nN(rN(s));return new Lr(a,o,i)}function aN(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=aN(o,e,t)}),new ke(n.segments,r)}var wp=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ep(r[0]))throw new B(4003,!1);let i=r.find(Cu);if(i&&i!==YM(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function f4(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new wp(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new wp(t,e,r)}var lc=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function p4(n,e,t){if(n.isAbsolute)return new lc(e,!0,0);if(!t)return new lc(e,!1,NaN);if(t.parent===null)return new lc(t,!0,0);let r=Ep(n.commands[0])?0:1,i=t.segments.length-1+r;return m4(t,i,n.numberOfDoubleDots)}function m4(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new lc(r,!1,i-o)}function g4(n){return Cu(n[0])?n[0].outlets:{[ve]:n}}function cN(n,e,t){if(n??=new ke([],{}),n.segments.length===0&&n.hasChildren())return Eu(n,e,t);let r=v4(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ke(n.segments.slice(0,r.pathIndex),{});return o.children[ve]=new ke(n.segments.slice(r.pathIndex),n.children),Eu(o,0,i)}else return r.match&&i.length===0?new ke(n.segments,{}):r.match&&!n.hasChildren()?BE(n,e,t):r.match?Eu(n,0,i):BE(n,e,t)}function Eu(n,e,t){if(t.length===0)return new ke(n.segments,{});{let r=g4(t),i={};if(Object.keys(r).some(o=>o!==ve)&&n.children[ve]&&n.numberOfChildren===1&&n.children[ve].segments.length===0){let o=Eu(n.children[ve],e,t);return new ke(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cN(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ke(n.segments,i)}}function v4(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Cu(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!zM(c,u,s))return o;r+=2}else{if(!zM(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function BE(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Cu(o)){let c=_4(o.outlets);return new ke(r,c)}if(i===0&&Ep(t[0])){let c=n.segments[e];r.push(new yo(c.path,$M(t[0]))),i++;continue}let s=Cu(o)?o.outlets[ve]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ep(a)?(r.push(new yo(s,$M(a))),i+=2):(r.push(new yo(s,{})),i++)}return new ke(r,{})}function _4(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=BE(new ke([],{}),0,r))}),e}function $M(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function zM(n,e,t){return n==t.path&&Pr(e,t.parameters)}var wu="imperative",Vt=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Vt||{}),Pn=class{id;url;constructor(e,t){this.id=e,this.url=t}},Ls=class extends Pn{type=Vt.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},yi=class extends Pn{urlAfterRedirects;type=Vt.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},vn=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(vn||{}),Du=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Du||{}),Fr=class extends Pn{reason;code;type=Vt.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},bi=class extends Pn{reason;code;type=Vt.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},hc=class extends Pn{error;target;type=Vt.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Tu=class extends Pn{urlAfterRedirects;state;type=Vt.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ip=class extends Pn{urlAfterRedirects;state;type=Vt.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cp=class extends Pn{urlAfterRedirects;state;shouldActivate;type=Vt.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Dp=class extends Pn{urlAfterRedirects;state;type=Vt.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tp=class extends Pn{urlAfterRedirects;state;type=Vt.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sp=class{route;type=Vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ap=class{route;type=Vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xp=class{snapshot;type=Vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rp=class{snapshot;type=Vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mp=class{snapshot;type=Vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Np=class{snapshot;type=Vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Su=class{},fc=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function y4(n){return!(n instanceof Su)&&!(n instanceof fc)}function b4(n,e){return n.providers&&!n._injector&&(n._injector=au(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vr(n){return n.outlet||ve}function E4(n,e){let t=n.filter(r=>vr(r)===e);return t.push(...n.filter(r=>vr(r)!==e)),t}function gc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var kp=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return gc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new vc(this.rootInjector)}},vc=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new kp(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(Z(Xe))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Op=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=UE(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=UE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=$E(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return $E(e,this._root).map(t=>t.value)}};function UE(n,e){if(n===e.value)return e;for(let t of e.children){let r=UE(n,t);if(r)return r}return null}function $E(n,e){if(n===e.value)return[e];for(let t of e.children){let r=$E(n,t);if(r.length)return r.unshift(e),r}return[]}var On=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function cc(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Au=class extends Op{snapshot;constructor(e,t){super(e),this.snapshot=t,QE(this,e)}toString(){return this.snapshot.toString()}};function lN(n){let e=w4(n),t=new pt([new yo("",{})]),r=new pt({}),i=new pt({}),o=new pt({}),s=new pt(""),a=new bo(t,r,o,s,i,ve,n,e.root);return a.snapshot=e.root,new Au(new On(a,[]),e)}function w4(n){let e={},t={},r={},o=new Os([],e,r,"",t,ve,n,null,{});return new xu("",new On(o,[]))}var bo=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(q(u=>u[ku]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(q(e=>Ps(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(q(e=>Ps(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Pp(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&dN(i)&&(r.resolve[ku]=i.title),r}var Os=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[ku]}constructor(e,t,r,i,o,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ps(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},xu=class extends Op{url;constructor(e,t){super(t),this.url=e,QE(this,t)}toString(){return uN(this._root)}};function QE(n,e){e.value._routerState=n,e.children.forEach(t=>QE(n,t))}function uN(n){let e=n.children.length>0?` { ${n.children.map(uN).join(", ")} } `:"";return`${n.value}${e}`}function OE(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Pr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Pr(e.params,t.params)||n.paramsSubject.next(t.params),YH(e.url,t.url)||n.urlSubject.next(t.url),Pr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function zE(n,e){let t=Pr(n.params,e.params)&&JH(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||zE(n.parent,e.parent))}function dN(n){return typeof n.title=="string"||n.title===null}var hN=new O(""),Pu=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ve;activateEvents=new ye;deactivateEvents=new ye;attachEvents=new ye;detachEvents=new ye;routerOutletData=dM(void 0);parentContexts=_(vc);location=_(In);changeDetector=_(gn);inputBinder=_(jp,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new HE(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Mn]})}return n})(),HE=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===bo?this.route:e===vc?this.childContexts:e===hN?this.outletData:this.parent.get(e,t)}},jp=new O("");var ZE=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&dt(0,"router-outlet")},dependencies:[Pu],encapsulation:2})}return n})();function XE(n){let e=n.children&&n.children.map(XE),t=e?oe(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ve&&(t.component=ZE),t}function I4(n,e,t){let r=Ru(n,e._root,t?t._root:void 0);return new Au(r,e)}function Ru(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=C4(n,e,t);return new On(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Ru(n,a)),s}}let r=D4(e.value),i=e.children.map(o=>Ru(n,o));return new On(r,i)}}function C4(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ru(n,r,i);return Ru(n,r)})}function D4(n){return new bo(new pt(n.url),new pt(n.params),new pt(n.queryParams),new pt(n.fragment),new pt(n.data),n.outlet,n.component,n)}var pc=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},fN="ngNavigationCancelingError";function Fp(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=dc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=pN(!1,vn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function pN(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[fN]=!0,t.cancellationCode=e,t}function T4(n){return mN(n)&&dc(n.url)}function mN(n){return!!n&&n[fN]}var S4=(n,e,t,r)=>q(i=>(new qE(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),qE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),OE(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=cc(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=cc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=cc(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=cc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Np(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Rp(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(OE(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),OE(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Lp=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},uc=class{component;route;constructor(e,t){this.component=e,this.route=t}};function A4(n,e,t){let r=n._root,i=e?e._root:null;return bu(r,i,t,[r.value])}function x4(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function _c(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!R_(n)?n:e.get(n):r}function bu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=cc(e);return n.children.forEach(s=>{R4(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Iu(a,t.getContext(s),i)),i}function R4(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=M4(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Lp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?bu(n,e,a?a.children:null,r,i):bu(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new uc(a.outlet.component,s))}else s&&Iu(e,a,i),i.canActivateChecks.push(new Lp(r)),o.component?bu(n,null,a?a.children:null,r,i):bu(n,null,t,r,i);return i}function M4(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ks(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ks(n.url,e.url)||!Pr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!zE(n,e)||!Pr(n.queryParams,e.queryParams);case"paramsChange":default:return!zE(n,e)}}function Iu(n,e,t){let r=cc(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Iu(s,e.children.getContext(o),t):Iu(s,null,t):Iu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new uc(e.outlet.component,i)):t.canDeactivateChecks.push(new uc(null,i)):t.canDeactivateChecks.push(new uc(null,i))}function Fu(n){return typeof n=="function"}function N4(n){return typeof n=="boolean"}function k4(n){return n&&Fu(n.canLoad)}function O4(n){return n&&Fu(n.canActivate)}function P4(n){return n&&Fu(n.canActivateChild)}function F4(n){return n&&Fu(n.canDeactivate)}function L4(n){return n&&Fu(n.canMatch)}function gN(n){return n instanceof sr||n?.name==="EmptyError"}var vp=Symbol("INITIAL_VALUE");function mc(){return mt(n=>Ma(n.map(e=>e.pipe(dn(1),Bn(vp)))).pipe(q(e=>{for(let t of e)if(t!==!0){if(t===vp)return vp;if(t===!1||V4(t))return t}return!0}),Oe(e=>e!==vp),dn(1)))}function V4(n){return dc(n)||n instanceof pc}function j4(n,e){return kt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?W(oe(k({},t),{guardsResult:!0})):B4(s,r,i,n).pipe(kt(a=>a&&N4(a)?U4(r,o,n,e):W(a)),q(a=>oe(k({},t),{guardsResult:a})))})}function B4(n,e,t,r){return Ze(n).pipe(kt(i=>G4(i.component,i.route,t,e,r)),ei(i=>i!==!0,!0))}function U4(n,e,t,r){return Ze(e).pipe(Qi(i=>Yi(z4(i.route.parent,r),$4(i.route,r),q4(n,i.path,t),H4(n,i.route,t))),ei(i=>i!==!0,!0))}function $4(n,e){return n!==null&&e&&e(new Mp(n)),W(!0)}function z4(n,e){return n!==null&&e&&e(new xp(n)),W(!0)}function H4(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(o=>ss(()=>{let s=gc(e)??t,a=_c(o,s),c=O4(a)?a.canActivate(e,n):It(s,()=>a(e,n));return Ei(c).pipe(ei())}));return W(i).pipe(mc())}function q4(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>x4(s)).filter(s=>s!==null).map(s=>ss(()=>{let a=s.guards.map(c=>{let u=gc(s.node)??t,d=_c(c,u),p=P4(d)?d.canActivateChild(r,n):It(u,()=>d(r,n));return Ei(p).pipe(ei())});return W(a).pipe(mc())}));return W(o).pipe(mc())}function G4(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let s=o.map(a=>{let c=gc(e)??i,u=_c(a,c),d=F4(u)?u.canDeactivate(n,e,t,r):It(c,()=>u(n,e,t,r));return Ei(d).pipe(ei())});return W(s).pipe(mc())}function W4(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let o=i.map(s=>{let a=_c(s,n),c=k4(a)?a.canLoad(e,t):It(n,()=>a(e,t));return Ei(c)});return W(o).pipe(mc(),vN(r))}function vN(n){return Eh(it(e=>{if(typeof e!="boolean")throw Fp(n,e)}),q(e=>e===!0))}function K4(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let o=i.map(s=>{let a=_c(s,n),c=L4(a)?a.canMatch(e,t):It(n,()=>a(e,t));return Ei(c)});return W(o).pipe(mc(),vN(r))}var Mu=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Nu=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ac(n){return Ki(new Mu(n))}function Y4(n){return Ki(new B(4e3,!1))}function Q4(n){return Ki(pN(!1,vn.GuardRejected))}var GE=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[ve])return Y4(`${e.redirectTo}`);i=i.children[ve]}}applyRedirectCommands(e,t,r,i,o){return Z4(t,i,o).pipe(q(s=>{if(s instanceof Lr)throw new Nu(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Nu(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Lr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new ke(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Z4(n,e,t){if(typeof n=="string")return W(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,params:u,data:d,title:p}=e;return Ei(It(t,()=>r({params:u,data:d,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:c,title:p})))}var WE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function X4(n,e,t,r,i){let o=_N(n,e,t);return o.matched?(r=b4(e,r),K4(r,e,t,i).pipe(q(s=>s===!0?o:k({},WE)))):W(o)}function _N(n,e,t){if(e.path==="**")return J4(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},WE):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||WM)(t,n,e);if(!i)return k({},WE);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function J4(n){return{matched:!0,parameters:n.length>0?YM(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function HM(n,e,t,r){return t.length>0&&n3(n,t,r)?{segmentGroup:new ke(e,t3(r,new ke(t,n.children))),slicedSegments:[]}:t.length===0&&r3(n,t,r)?{segmentGroup:new ke(n.segments,e3(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ke(n.segments,n.children),slicedSegments:t}}function e3(n,e,t,r){let i={};for(let o of t)if(Bp(n,e,o)&&!r[vr(o)]){let s=new ke([],{});i[vr(o)]=s}return k(k({},r),i)}function t3(n,e){let t={};t[ve]=e;for(let r of n)if(r.path===""&&vr(r)!==ve){let i=new ke([],{});t[vr(r)]=i}return t}function n3(n,e,t){return t.some(r=>Bp(n,e,r)&&vr(r)!==ve)}function r3(n,e,t){return t.some(r=>Bp(n,e,r))}function Bp(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function i3(n,e,t){return e.length===0&&!n.children[t]}var KE=class{};function o3(n,e,t,r,i,o,s="emptyOnly"){return new YE(n,e,t,r,i,s,o).recognize()}var s3=31,YE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new GE(this.urlSerializer,this.urlTree)}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=HM(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(q(({children:t,rootSnapshot:r})=>{let i=new On(r,t),o=new xu("",i),s=iN(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Os([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ve,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ve,t).pipe(q(r=>({children:r,rootSnapshot:t})),Cr(r=>{if(r instanceof Nu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Mu?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(q(s=>s instanceof On?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ze(o).pipe(Qi(s=>{let a=r.children[s],c=E4(t,s);return this.processSegmentGroup(e,c,a,s,i)}),qh((s,a)=>(s.push(...a),s)),Zi(null),p_(),kt(s=>{if(s===null)return ac(r);let a=yN(s);return a3(a),W(a)}))}processSegment(e,t,r,i,o,s,a){return Ze(t).pipe(Qi(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,o,s,a).pipe(Cr(u=>{if(u instanceof Mu)return W(null);throw u}))),ei(c=>!!c),Cr(c=>{if(gN(c))return i3(r,i,o)?W(new KE):ac(r);throw c}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,c){return vr(r)!==s&&(s===ve||!Bp(i,o,r))?ac(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,c):ac(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:c,parameters:u,consumedSegments:d,positionalParamSegments:p,remainingSegments:m}=_N(t,i,o);if(!c)return ac(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>s3&&(this.allowRedirects=!1));let g=new Os(o,u,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,qM(i),vr(i),i.component??i._loadedComponent??null,i,GM(i)),I=Pp(g,a,this.paramsInheritanceStrategy);return g.params=Object.freeze(I.params),g.data=Object.freeze(I.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p,g,e).pipe(mt(M=>this.applyRedirects.lineralizeSegments(i,M)),kt(M=>this.processSegment(e,r,t,M.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=X4(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(mt(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(mt(({routes:u})=>{let d=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:g}=c,I=new Os(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,qM(r),vr(r),r.component??r._loadedComponent??null,r,GM(r)),x=Pp(I,s,this.paramsInheritanceStrategy);I.params=Object.freeze(x.params),I.data=Object.freeze(x.data);let{segmentGroup:M,slicedSegments:L}=HM(t,m,g,u);if(L.length===0&&M.hasChildren())return this.processChildren(d,u,M,I).pipe(q(J=>new On(I,J)));if(u.length===0&&L.length===0)return W(new On(I,[]));let H=vr(r)===o;return this.processSegment(d,u,M,L,H?ve:o,!0,I).pipe(q(J=>new On(I,J instanceof On?[J]:[])))}))):ac(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):W4(e,t,r,this.urlSerializer).pipe(kt(i=>i?this.configLoader.loadChildren(e,t).pipe(it(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Q4(t))):W({routes:[],injector:e})}};function a3(n){n.sort((e,t)=>e.value.outlet===ve?-1:t.value.outlet===ve?1:e.value.outlet.localeCompare(t.value.outlet))}function c3(n){let e=n.value.routeConfig;return e&&e.path===""}function yN(n){let e=[],t=new Set;for(let r of n){if(!c3(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=yN(r.children);e.push(new On(r.value,i))}return e.filter(r=>!t.has(r))}function qM(n){return n.data||{}}function GM(n){return n.resolve||{}}function l3(n,e,t,r,i,o){return kt(s=>o3(n,e,t,r,s.extractedUrl,i,o).pipe(q(({state:a,tree:c})=>oe(k({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function u3(n,e){return kt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let u of bN(c))s.add(u);let a=0;return Ze(s).pipe(Qi(c=>o.has(c)?d3(c,r,n,e):(c.data=Pp(c,c.parent,n).resolve,W(void 0))),it(()=>a++),Na(1),kt(c=>a===s.size?W(t):nn))})}function bN(n){let e=n.children.map(t=>bN(t)).flat();return[n,...e]}function d3(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!dN(i)&&(o[ku]=i.title),ss(()=>(n.data=Pp(n,n.parent,t).resolve,h3(o,n,e,r).pipe(q(s=>(n._resolvedData=s,n.data=k(k({},n.data),s),null)))))}function h3(n,e,t,r){let i=LE(n);if(i.length===0)return W({});let o={};return Ze(i).pipe(kt(s=>f3(n[s],e,t,r).pipe(ei(),it(a=>{if(a instanceof pc)throw Fp(new Fs,a);o[s]=a}))),Na(1),q(()=>o),Cr(s=>gN(s)?nn:Ki(s)))}function f3(n,e,t,r){let i=gc(e)??r,o=_c(n,i),s=o.resolve?o.resolve(e,t):It(i,()=>o(e,t));return Ei(s)}function PE(n){return mt(e=>{let t=n(e);return t?Ze(t).pipe(q(()=>e)):W(e)})}var JE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ve);return r}getResolvedTitleForRoute(t){return t.data[ku]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>_(EN),providedIn:"root"})}return n})(),EN=(()=>{class n extends JE{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(Z(VM))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Lu=new O("",{providedIn:"root",factory:()=>({})}),Vu=new O(""),wN=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(Jb);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return W(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ei(It(t,()=>r.loadComponent())).pipe(q(CN),mt(DN),it(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Xi(()=>{this.componentLoaders.delete(r)})),o=new Sa(i,()=>new G).pipe(Ta());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=IN(r,this.compiler,t,this.onLoadEndListener).pipe(Xi(()=>{this.childrenLoaders.delete(r)})),s=new Sa(o,()=>new G).pipe(Ta());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function IN(n,e,t,r){return Ei(It(t,()=>n.loadChildren())).pipe(q(CN),mt(DN),kt(i=>i instanceof ep||Array.isArray(i)?W(i):Ze(e.compileModuleAsync(i))),q(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Vu,[],{optional:!0,self:!0}).flat()),{routes:s.map(XE),injector:o}}))}function p3(n){return n&&typeof n=="object"&&"default"in n}function CN(n){return p3(n)?n.default:n}function DN(n){return W(n)}var Up=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>_(m3),providedIn:"root"})}return n})(),m3=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),TN=new O("");var SN=new O(""),AN=(()=>{class n{currentNavigation=$e(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new G;transitionAbortWithErrorSubject=new G;configLoader=_(wN);environmentInjector=_(Xe);destroyRef=_(pn);urlSerializer=_(Ou);rootContexts=_(vc);location=_(_o);inputBindingEnabled=_(jp,{optional:!0})!==null;titleStrategy=_(JE);options=_(Lu,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(Up);createViewTransition=_(TN,{optional:!0});navigationErrorHandler=_(SN,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Sp(i)),r=i=>this.events.next(new Ap(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;Lt(()=>{this.transitions?.next(oe(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new pt(null),this.transitions.pipe(Oe(r=>r!==null),mt(r=>{let i=!1;return W(r).pipe(mt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",vn.SupersededByNewNavigation),nn;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?oe(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new bi(o.id,this.urlSerializer.serialize(o.rawUrl),"",Du.IgnoredSameUrlNavigation)),o.resolve(!1),nn;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe(mt(c=>(this.events.next(new Ls(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?nn:Promise.resolve(c))),l3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),it(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(d=>(d.finalUrl=c.urlAfterRedirects,d));let u=new Tu(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:u,source:d,restoredState:p,extras:m}=o,g=new Ls(c,this.urlSerializer.serialize(u),d,p);this.events.next(g);let I=lN(this.rootComponentType).snapshot;return this.currentTransition=r=oe(k({},o),{targetSnapshot:I,urlAfterRedirects:u,extras:oe(k({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(x=>(x.finalUrl=u,x)),W(r)}else return this.events.next(new bi(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Du.IgnoredByUrlHandlingStrategy)),o.resolve(!1),nn}),it(o=>{let s=new Ip(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),q(o=>(this.currentTransition=r=oe(k({},o),{guards:A4(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),j4(this.environmentInjector,o=>this.events.next(o)),it(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Fp(this.urlSerializer,o.guardsResult);let s=new Cp(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),Oe(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",vn.GuardRejected),!1)),PE(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(it(s=>{let a=new Dp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),mt(s=>{let a=!1;return W(s).pipe(u3(this.paramsInheritanceStrategy,this.environmentInjector),it({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",vn.NoDataFromResolver)}}))}),it(s=>{let a=new Tp(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),PE(o=>{let s=a=>{let c=[];if(a.routeConfig?.loadComponent){let u=gc(a)??this.environmentInjector;c.push(this.configLoader.loadComponent(u,a.routeConfig).pipe(it(d=>{a.component=d}),q(()=>{})))}for(let u of a.children)c.push(...s(u));return c};return Ma(s(o.targetSnapshot.root)).pipe(Zi(null),dn(1))}),PE(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ze(a).pipe(q(()=>r)):W(r)}),q(o=>{let s=I4(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=oe(k({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),it(()=>{this.events.next(new Su)}),S4(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),dn(1),Ye(new Q(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(Oe(()=>!i&&!r.targetRouterState),it(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",vn.Aborted)}))),it({next:o=>{i=!0,this.lastSuccessfulNavigation=Lt(this.currentNavigation),this.events.next(new yi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ye(this.transitionAbortWithErrorSubject.pipe(it(o=>{throw o}))),Xi(()=>{i||this.cancelNavigationTransition(r,"",vn.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Cr(o=>{if(this.destroyed)return r.resolve(!1),nn;if(i=!0,mN(o))this.events.next(new Fr(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),T4(o)?this.events.next(new fc(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new hc(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=It(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof pc){let{message:c,cancellationCode:u}=Fp(this.urlSerializer,a);this.events.next(new Fr(r.id,this.urlSerializer.serialize(r.extractedUrl),c,u)),this.events.next(new fc(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return nn}))}))}cancelNavigationTransition(t,r,i){let o=new Fr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=Lt(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function g3(n){return n!==wu}var xN=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>_(v3),providedIn:"root"})}return n})(),Vp=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},v3=(()=>{class n extends Vp{static \u0275fac=(()=>{let t;return function(i){return(t||(t=hi(n)))(i||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),RN=(()=>{class n{urlSerializer=_(Ou);options=_(Lu,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(_o);urlHandlingStrategy=_(Up);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Lr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Lr?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=lN(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:()=>_(_3),providedIn:"root"})}return n})(),_3=(()=>{class n extends RN{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Ls?this.updateStateMemento():t instanceof bi?this.commitTransition(r):t instanceof Tu?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Su?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Fr&&t.code!==vn.SupersededByNewNavigation&&t.code!==vn.Redirect?this.restoreHistory(r):t instanceof hc?this.restoreHistory(r,!0):t instanceof yi&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,c=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=hi(n)))(i||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ew(n,e){n.events.pipe(Oe(t=>t instanceof yi||t instanceof Fr||t instanceof hc||t instanceof bi),q(t=>t instanceof yi||t instanceof bi?0:(t instanceof Fr?t.code===vn.Redirect||t.code===vn.SupersededByNewNavigation:!1)?2:1),Oe(t=>t!==2),dn(1)).subscribe(()=>{e()})}var y3={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},b3={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$p=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(rp);stateManager=_(RN);options=_(Lu,{optional:!0})||{};pendingTasks=_(xr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(AN);urlSerializer=_(Ou);location=_(_o);urlHandlingStrategy=_(Up);injector=_(Xe);_events=new G;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(xN);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(Vu,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(jp,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ie;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=Lt(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Fr&&r.code!==vn.Redirect&&r.code!==vn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof yi)this.navigated=!0;else if(r instanceof fc){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||g3(i.source)},s);this.scheduleNavigation(a,wu,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}y4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let c=k({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(c=>{this.disposed||this.injector.get(Rn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Lt(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(XE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=oN(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return sN(p,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=dc(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,wu,null,r)}navigate(t,r={skipLocationChange:!1}){return E3(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},y3):r===!1?i=k({},b3):i=r,dc(t))return BM(this.currentUrlTree,t,i);let o=this.parseUrl(t);return BM(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,m)=>{a=p,c=m});let d=this.pendingTasks.add();return ew(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function E3(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new B(4008,!1)}var I3=new O("");function tw(n,...e){return qt([{provide:Vu,multi:!0,useValue:n},[],{provide:bo,useFactory:C3,deps:[$p]},{provide:ip,multi:!0,useFactory:D3},e.map(t=>t.\u0275providers)])}function C3(n){return n.routerState.root}function D3(){let n=_(ee);return e=>{let t=n.get(Cn);if(e!==t.components[0])return;let r=n.get($p),i=n.get(T3);n.get(S3)===1&&r.initialNavigation(),n.get(A3,null,{optional:!0})?.setUpPreloading(),n.get(I3,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var T3=new O("",{factory:()=>new G}),S3=new O("",{providedIn:"root",factory:()=>1});var A3=new O("");var MN=()=>{};var ON=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},R3=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,d=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|u>>6,g=u&63;c||(g=64,s||(m=64)),r.push(t[d],t[p],t[m],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ON(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):R3(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||u==null||p==null)throw new rw;let m=o<<2|a>>4;if(r.push(m),u!==64){let g=a<<4&240|u>>2;if(r.push(g),p!==64){let I=u<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},rw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},M3=function(n){let e=ON(n);return zp.encodeByteArray(e,!0)},Bu=function(n){return M3(n).replace(/\./g,"")},Hp=function(n){try{return zp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ow(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var N3=()=>ow().__FIREBASE_DEFAULTS__,k3=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},O3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Hp(n[1]);return e&&JSON.parse(e)},qp=()=>{try{return MN()||N3()||k3()||O3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sw=n=>{var e,t;return(t=(e=qp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},PN=n=>{let e=sw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aw=()=>{var n;return(n=qp())===null||n===void 0?void 0:n.config},cw=n=>{var e;return(e=qp())===null||e===void 0?void 0:e[`_${n}`]};var Vs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Eo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function Gp(n){return y(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function FN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bu(JSON.stringify(t)),Bu(JSON.stringify(s)),""].join(".")}var ju={};function P3(){let n={prod:[],emulator:[]};for(let e of Object.keys(ju))ju[e]?n.emulator.push(e):n.prod.push(e);return n}function F3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var NN=!1;function Wp(n,e){if(typeof window>"u"||typeof document>"u"||!Eo(window.location.host)||ju[n]===e||ju[n]||NN)return;ju[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=P3().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{NN=!0,s()},m}function d(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=F3(r),g=t("text"),I=document.getElementById(g)||document.createElement("span"),x=t("learnmore"),M=document.getElementById(x)||document.createElement("a"),L=t("preprendIcon"),H=document.getElementById(L)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let J=m.element;a(J),d(M,x);let Ve=u();c(H,L),J.append(H,I,M,Ve),document.body.appendChild(J)}o?(I.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(jt())}function L3(){var n;let e=(n=qp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Kp(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function BN(){let n=jt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function UN(){return!L3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function js(){try{return typeof indexedDB=="object"}catch{return!1}}function Yp(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}function $N(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var V3="FirebaseError",Kt=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=V3,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_n.prototype.create)}},_n=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?j3(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Kt(i,a,r)}};function j3(n,e){return n.replace(B3,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var B3=/\{\$([^}]+)}/g;function zN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Kn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(kN(o)&&kN(s)){if(!Kn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function kN(n){return n!==null&&typeof n=="object"}function Uu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function HN(n,e){let t=new iw(n,e);return t.subscribe.bind(t)}var iw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");U3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=nw),i.error===void 0&&(i.error=nw),i.complete===void 0&&(i.complete=nw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function U3(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function nw(){}var $3=1e3,z3=2,H3=14400*1e3,q3=.5;function Qp(n,e=$3,t=z3){let r=e*Math.pow(t,n),i=Math.round(q3*r*(Math.random()-.5)*2);return Math.min(H3,r+i)}function st(n){return n&&n._delegate?n._delegate:n}var bt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Bs="[DEFAULT]";var lw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Vs;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(W3(e))try{this.getOrInitializeService({instanceIdentifier:Bs})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return y(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Bs){return this.instances.has(e)}getOptions(e=Bs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:G3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bs){return this.component?this.component.multipleInstances?e:Bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function G3(n){return n===Bs?void 0:n}function W3(n){return n.instantiationMode==="EAGER"}var Zp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new lw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var K3=[],we=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(we||{}),Y3={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Q3=we.INFO,Z3={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},X3=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Z3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yn=class{constructor(e){this.name=e,this._logLevel=Q3,this._logHandler=X3,this._userLogHandler=null,K3.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in we))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Y3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...e),this._logHandler(this,we.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...e),this._logHandler(this,we.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,we.INFO,...e),this._logHandler(this,we.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,we.WARN,...e),this._logHandler(this,we.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...e),this._logHandler(this,we.ERROR,...e)}};var J3=(n,e)=>e.some(t=>n instanceof t),qN,GN;function eq(){return qN||(qN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tq(){return GN||(GN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var WN=new WeakMap,dw=new WeakMap,KN=new WeakMap,uw=new WeakMap,fw=new WeakMap;function nq(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Vr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&WN.set(t,n)}).catch(()=>{}),fw.set(e,n),e}function rq(n){if(dw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});dw.set(n,e)}var hw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||KN.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Vr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function YN(n){hw=n(hw)}function iq(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Xp(this),e,...t);return KN.set(r,e.sort?e.sort():[e]),Vr(r)}:tq().includes(n)?function(...e){return n.apply(Xp(this),e),Vr(WN.get(this))}:function(...e){return Vr(n.apply(Xp(this),e))}}function oq(n){return typeof n=="function"?iq(n):(n instanceof IDBTransaction&&rq(n),J3(n,eq())?new Proxy(n,hw):n)}function Vr(n){if(n instanceof IDBRequest)return nq(n);if(uw.has(n))return uw.get(n);let e=oq(n);return e!==n&&(uw.set(n,e),fw.set(e,n)),e}var Xp=n=>fw.get(n);function Jp(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Vr(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Vr(s.result),c.oldVersion,c.newVersion,Vr(s.transaction),c)}),t&&s.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var sq=["get","getKey","getAll","getAllKeys","count"],aq=["put","add","delete","clear"],pw=new Map;function QN(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pw.get(e))return pw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=aq.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||sq.includes(t)))return;let o=function(s,...a){return y(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[t](...a),i&&c.done]))[0]})};return pw.set(e,o),o}YN(n=>oe(k({},n),{get:(e,t,r)=>QN(e,t)||n.get(e,t,r),has:(e,t)=>!!QN(e,t)||n.has(e,t)}));var gw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(cq(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function cq(n){let e=n.getComponent();return e?.type==="VERSION"}var vw="@firebase/app",ZN="0.13.2";var wi=new Yn("@firebase/app"),lq="@firebase/app-compat",uq="@firebase/analytics-compat",dq="@firebase/analytics",hq="@firebase/app-check-compat",fq="@firebase/app-check",pq="@firebase/auth",mq="@firebase/auth-compat",gq="@firebase/database",vq="@firebase/data-connect",_q="@firebase/database-compat",yq="@firebase/functions",bq="@firebase/functions-compat",Eq="@firebase/installations",wq="@firebase/installations-compat",Iq="@firebase/messaging",Cq="@firebase/messaging-compat",Dq="@firebase/performance",Tq="@firebase/performance-compat",Sq="@firebase/remote-config",Aq="@firebase/remote-config-compat",xq="@firebase/storage",Rq="@firebase/storage-compat",Mq="@firebase/firestore",Nq="@firebase/ai",kq="@firebase/firestore-compat",Oq="firebase",Pq="11.10.0";var _w="[DEFAULT]",Fq={[vw]:"fire-core",[lq]:"fire-core-compat",[dq]:"fire-analytics",[uq]:"fire-analytics-compat",[fq]:"fire-app-check",[hq]:"fire-app-check-compat",[pq]:"fire-auth",[mq]:"fire-auth-compat",[gq]:"fire-rtdb",[vq]:"fire-data-connect",[_q]:"fire-rtdb-compat",[yq]:"fire-fn",[bq]:"fire-fn-compat",[Eq]:"fire-iid",[wq]:"fire-iid-compat",[Iq]:"fire-fcm",[Cq]:"fire-fcm-compat",[Dq]:"fire-perf",[Tq]:"fire-perf-compat",[Sq]:"fire-rc",[Aq]:"fire-rc-compat",[xq]:"fire-gcs",[Rq]:"fire-gcs-compat",[Mq]:"fire-fst",[kq]:"fire-fst-compat",[Nq]:"fire-vertex","fire-js":"fire-js",[Oq]:"fire-js-all"};var $u=new Map,Lq=new Map,yw=new Map;function XN(n,e){try{n.container.addComponent(e)}catch(t){wi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Yt(n){let e=n.name;if(yw.has(e))return wi.debug(`There were multiple attempts to register component ${e}.`),!1;yw.set(e,n);for(let t of $u.values())XN(t,n);for(let t of Lq.values())XN(t,n);return!0}function Qn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fn(n){return n==null?!1:n.settings!==void 0}var Vq={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new _n("app","Firebase",Vq);var bw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}};var Io=Pq;function Iw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:_w,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw wo.create("bad-app-name",{appName:String(i)});if(t||(t=aw()),!t)throw wo.create("no-options");let o=$u.get(i);if(o){if(Kn(t,o.options)&&Kn(r,o.config))return o;throw wo.create("duplicate-app",{appName:i})}let s=new Zp(i);for(let c of yw.values())s.addComponent(c);let a=new bw(t,r,s);return $u.set(i,a),a}function jr(n=_w){let e=$u.get(n);if(!e&&n===_w&&aw())return Iw();if(!e)throw wo.create("no-app",{appName:n});return e}function em(){return Array.from($u.values())}function Fe(n,e,t){var r;let i=(r=Fq[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wi.warn(a.join(" "));return}Yt(new bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var jq="firebase-heartbeat-database",Bq=1,zu="firebase-heartbeat-store",mw=null;function nk(){return mw||(mw=Jp(jq,Bq,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(zu)}catch(t){console.warn(t)}}}}).catch(n=>{throw wo.create("idb-open",{originalErrorMessage:n.message})})),mw}function Uq(n){return y(this,null,function*(){try{let t=(yield nk()).transaction(zu),r=yield t.objectStore(zu).get(rk(n));return yield t.done,r}catch(e){if(e instanceof Kt)wi.warn(e.message);else{let t=wo.create("idb-get",{originalErrorMessage:e?.message});wi.warn(t.message)}}})}function JN(n,e){return y(this,null,function*(){try{let r=(yield nk()).transaction(zu,"readwrite");yield r.objectStore(zu).put(e,rk(n)),yield r.done}catch(t){if(t instanceof Kt)wi.warn(t.message);else{let r=wo.create("idb-set",{originalErrorMessage:t?.message});wi.warn(r.message)}}})}function rk(n){return`${n.name}!${n.options.appId}`}var $q=1024,zq=30,Ew=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ww(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return y(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ek();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>zq){let s=qq(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){wi.warn(r)}})}getHeartbeatsHeader(){return y(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ek(),{heartbeatsToSend:r,unsentEntries:i}=Hq(this._heartbeatsCache.heartbeats),o=Bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return wi.warn(t),""}})}};function ek(){return new Date().toISOString().substring(0,10)}function Hq(n,e=$q){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),tk(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),tk(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var ww=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return y(this,null,function*(){return js()?Yp().then(()=>!0).catch(()=>!1):!1})}read(){return y(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Uq(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return JN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return y(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return JN(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function tk(n){return Bu(JSON.stringify({version:2,heartbeats:n})).length}function qq(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function Gq(n){Yt(new bt("platform-logger",e=>new gw(e),"PRIVATE")),Yt(new bt("heartbeat",e=>new Ew(e),"PRIVATE")),Fe(vw,ZN,n),Fe(vw,ZN,"esm2017"),Fe("fire-js","")}Gq("");var Wq="firebase",Kq="11.10.0";Fe(Wq,Kq,"app");function ik(n){n===void 0&&(n=_(ee));let e=n.get(co);return t=>new Q(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:c=>{r.next(c),s()},complete:()=>{r.complete(),s()},error:c=>{r.error(c),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Br=new Ji("ANGULARFIRE2_VERSION");function $s(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Co=(n,e)=>{let t=e?[e]:em(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},yc=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(yc||{}),ok=cE()&&typeof Zone<"u"?yc.WARN:yc.SILENT;var tm=class{zone;delegate;constructor(e,t=u_){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Ur=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=_($);this.outsideAngular=t.runOutsideAngular(()=>new tm(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new tm(typeof Zone>"u"?void 0:Zone.current,qi))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),sk=!1;function Yq(n,e){!sk&&(ok>yc.SILENT||cE())&&(sk=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ok>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Qq(n){let e=_($,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function Us(n){let e=_($,{optional:!0});return e?e.run(()=>n()):n()}var Zq=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),It(t,()=>Us(()=>n.apply(void 0,r)))),Et=(n,e,t)=>(t||=e?yc.WARN:yc.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=_(Ur),s=_(co),a=_(Xe)}catch{return Yq(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Us(()=>s.add())),i[u]=Zq(i[u],r,a));let c=Qq(()=>n.apply(this,i));return e?c instanceof Q?c.pipe(Wi(o.outsideAngular),Gi(o.insideAngular),ik(a)):c instanceof Promise?Us(()=>{let u=s.add();return new Promise((d,p)=>{c.then(m=>It(a,()=>Us(()=>d(m))),m=>It(a,()=>Us(()=>p(m)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:Us(()=>c):c instanceof Q?c.pipe(Wi(o.outsideAngular),Gi(o.insideAngular)):Us(()=>c)});var _r=class{constructor(e){return e}},Ii=class{constructor(){return em()}};function Xq(n){return n&&n.length===1?n[0]:new _r(jr())}var Cw=new O("angularfire2._apps"),Jq={provide:_r,useFactory:Xq,deps:[[new yt,Cw]]},eG={provide:Ii,deps:[[new yt,Cw]]};function tG(n){return(e,t)=>{let r=t.get(Nn);Fe("angularfire",Br.full,"core"),Fe("angularfire",Br.full,"app"),Fe("angular",A_.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new _r(i)}}function ak(n,...e){return qt([Jq,eG,{provide:Cw,useFactory:tG(n),multi:!0,deps:[$,ee,Ur,...e]}])}var ck=Et(Iw,!0);var nG=new Map,rG={activated:!1,tokenObservers:[]},iG={initialized:!1,enabled:!1};function yr(n){return nG.get(n)||Object.assign({},rG)}function hk(){return iG}var oG="https://content-firebaseappcheck.googleapis.com/v1";var sG="exchangeDebugToken",lk={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Qme=1440*60*1e3;var Sw=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return y(this,null,function*(){this.stop();try{this.pending=new Vs,this.pending.promise.catch(t=>{}),yield aG(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Vs,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function aG(n){return new Promise(e=>{setTimeout(e,n)})}var cG={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Do=new _n("appCheck","AppCheck",cG);function fk(n){if(!yr(n).activated)throw Do.create("use-before-activation",{appName:n.name})}function pk(r,i){return y(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let g=yield s.getHeartbeatsHeader();g&&(o["X-Firebase-Client"]=g)}let a={method:"POST",body:JSON.stringify(e),headers:o},c;try{c=yield fetch(n,a)}catch(g){throw Do.create("fetch-network-error",{originalErrorMessage:g?.message})}if(c.status!==200)throw Do.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(g){throw Do.create("fetch-parse-error",{originalErrorMessage:g?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw Do.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(d[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function mk(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${oG}/projects/${t}/apps/${r}:${sG}?key=${i}`,body:{debug_token:e}}}var lG="firebase-app-check-database",uG=1,Aw="firebase-app-check-store";var nm=null;function dG(){return nm||(nm=new Promise((n,e)=>{try{let t=indexedDB.open(lG,uG);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Do.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Aw,{keyPath:"compositeKey"})}}}catch(t){e(Do.create("storage-open",{originalErrorMessage:t?.message}))}}),nm)}function hG(n,e){return fG(pG(n),e)}function fG(n,e){return y(this,null,function*(){let r=(yield dG()).transaction(Aw,"readwrite"),o=r.objectStore(Aw).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=c=>{s()},r.onerror=c=>{var u;a(Do.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function pG(n){return`${n.options.appId}-${n.name}`}var Hu=new Yn("@firebase/app-check");function Dw(n,e){return js()?hG(n,e).catch(t=>{Hu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function gk(){return hk().enabled}function vk(){return y(this,null,function*(){let n=hk();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var mG={error:"UNKNOWN_ERROR"};function gG(n){return zp.encodeString(JSON.stringify(n),!1)}function xw(n,e=!1,t=!1){return y(this,null,function*(){let r=n.app;fk(r);let i=yr(r),o=i.token,s;if(o&&!qu(o)&&(i.token=void 0,o=void 0),!o){let u=yield i.cachedTokenPromise;u&&(qu(u)?o=u:yield Dw(r,void 0))}if(!e&&o&&qu(o))return{token:o.token};let a=!1;if(gk())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=pk(mk(r,yield vk()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=yield i.exchangeTokenPromise;return yield Dw(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Hu.warn(u.message):t&&Hu.error(u),Tw(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield yr(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Hu.warn(u.message):t&&Hu.error(u),s=u}let c;return o?s?qu(o)?c={token:o.token,internalError:s}:c=Tw(s):(c={token:o.token},i.token=o,yield Dw(r,o)):c=Tw(s),a&&bG(r,c),c})}function vG(n){return y(this,null,function*(){let e=n.app;fk(e);let{provider:t}=yr(e);if(gk()){let r=yield vk(),{token:i}=yield pk(mk(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function _G(n,e,t,r){let{app:i}=n,o=yr(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&qu(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),uk(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>uk(n))}function _k(n,e){let t=yr(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function uk(n){let{app:e}=n,t=yr(e),r=t.tokenRefresher;r||(r=yG(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function yG(n){let{app:e}=n;return new Sw(()=>y(null,null,function*(){let t=yr(e),r;if(t.token?r=yield xw(n,!0):r=yield xw(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=yr(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},lk.RETRIAL_MIN_WAIT,lk.RETRIAL_MAX_WAIT)}function bG(n,e){let t=yr(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function qu(n){return n.expireTimeMillis-Date.now()>0}function Tw(n){return{token:gG(mG),error:n}}var Rw=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=yr(this.app);for(let t of e)_k(this.app,t.next);return Promise.resolve()}};function EG(n,e){return new Rw(n,e)}function wG(n){return{getToken:e=>xw(n,e),getLimitedUseToken:()=>vG(n),addTokenListener:e=>_G(n,"INTERNAL",e),removeTokenListener:e=>_k(n.app,e)}}var IG="@firebase/app-check",CG="0.10.1";var DG="app-check",dk="app-check-internal";function TG(){Yt(new bt(DG,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return EG(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dk).initialize()})),Yt(new bt(dk,n=>{let e=n.getProvider("app-check").getImmediate();return wG(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Fe(IG,CG)}TG();var SG="app-check";var bc=class{constructor(){return Co(SG)}};var AG=["localhost","0.0.0.0","127.0.0.1"],lge=typeof window<"u"&&AG.includes(window.location.hostname);function kk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ok=kk,Pk=new _n("auth","Firebase",kk());var cm=new Yn("@firebase/auth");function xG(n,...e){cm.logLevel<=we.WARN&&cm.warn(`Auth (${Io}): ${n}`,...e)}function im(n,...e){cm.logLevel<=we.ERROR&&cm.error(`Auth (${Io}): ${n}`,...e)}function xo(n,...e){throw Qw(n,...e)}function zs(n,...e){return Qw(n,...e)}function Fk(n,e,t){let r=Object.assign(Object.assign({},Ok()),{[e]:t});return new _n("auth","Firebase",r).create(e,{appName:n.name})}function Ao(n){return Fk(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qw(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Pk.create(n,...e)}function ue(n,e,...t){if(!n)throw Qw(e,...t)}function Ci(n){let e="INTERNAL ASSERTION FAILED: "+n;throw im(e),new Error(e)}function Ro(n,e){n||Ci(e)}function Ow(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function RG(){return yk()==="http:"||yk()==="https:"}function yk(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function MG(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RG()||Kp()||"connection"in navigator)?navigator.onLine:!0}function NG(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Hs=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ro(t>e,"Short delay should be less than long delay!"),this.isMobile=LN()||jN()}get(){return MG()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Zw(n,e){Ro(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var lm=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kG={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var OG=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],PG=new Hs(3e4,6e4);function bm(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Ec(o,s,a,c){return y(this,arguments,function*(n,e,t,r,i={}){return Lk(n,i,()=>y(null,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let p=Uu(Object.assign({key:n.config.apiKey},d)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let g=Object.assign({method:e,headers:m},u);return VN()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&Eo(n.emulatorConfig.host)&&(g.credentials="include"),lm.fetch()(yield jk(n,n.config.apiHost,t,p),g)}))})}function Lk(n,e,t){return y(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},kG),e);try{let i=new Pw(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw rm(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw rm(n,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw rm(n,"email-already-in-use",s);if(c==="USER_DISABLED")throw rm(n,"user-disabled",s);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Fk(n,d,u);xo(n,d)}}catch(i){if(i instanceof Kt)throw i;xo(n,"network-request-failed",{message:String(i)})}})}function Vk(o,s,a,c){return y(this,arguments,function*(n,e,t,r,i={}){let u=yield Ec(n,e,t,r,i);return"mfaPendingCredential"in u&&xo(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function jk(n,e,t,r){return y(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?Zw(n.config,i):`${n.config.apiScheme}://${i}`;return OG.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Pw=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(zs(this.auth,"network-request-failed")),PG.get())})}};function rm(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=zs(n,e,r);return i.customData._tokenResponse=t,i}function FG(n,e){return y(this,null,function*(){return Ec(n,"POST","/v1/accounts:delete",e)})}function um(n,e){return y(this,null,function*(){return Ec(n,"POST","/v1/accounts:lookup",e)})}function Gu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Xw(n,e=!1){return y(this,null,function*(){let t=st(n),r=yield t.getIdToken(e),i=Jw(r);ue(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Gu(Mw(i.auth_time)),issuedAtTime:Gu(Mw(i.iat)),expirationTime:Gu(Mw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Mw(n){return Number(n)*1e3}function Jw(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return im("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hp(t);return i?JSON.parse(i):(im("Failed to decode base64 JWT payload"),null)}catch(i){return im("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bk(n){let e=Jw(n);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ku(n,e,t=!1){return y(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Kt&&LG(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function LG({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Fw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>y(this,null,function*(){yield this.iteration()}),t)}iteration(){return y(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gu(this.lastLoginAt),this.creationTime=Gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function dm(n){return y(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ku(n,um(t,{idToken:r}));ue(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Bk(o.providerUserInfo):[],a=VG(n.providerData,s),c=n.isAnonymous,u=!(n.email&&o.passwordHash)&&!a?.length,d=c?u:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yu(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,p)})}function eI(n){return y(this,null,function*(){let e=st(n);yield dm(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function VG(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Bk(n){return n.map(e=>{var{providerId:t}=e,r=h_(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function jG(n,e){return y(this,null,function*(){let t=yield Lk(n,{},()=>y(null,null,function*(){let r=Uu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield jk(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&Eo(n.emulatorConfig.host)&&(c.credentials="include"),lm.fetch()(s,c)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function BG(n,e){return y(this,null,function*(){return Ec(n,"POST","/v2/accounts:revokeToken",bm(n,e))})}var Wu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bk(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ue(e.length!==0,"internal-error");let t=bk(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return y(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return y(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield jG(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ue(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ue(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ue(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ci("not implemented")}};function To(n,e){ue(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var So=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=h_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return y(this,null,function*(){let t=yield Ku(this,this.stsTokenManager.getToken(this.auth,e));return ue(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Xw(this,e)}reload(){return eI(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return y(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield dm(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return y(this,null,function*(){if(Fn(this.auth.app))return Promise.reject(Ao(this.auth));let e=yield this.getIdToken();return yield Ku(this,FG(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,c,u,d;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,g=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,I=(s=t.photoURL)!==null&&s!==void 0?s:void 0,x=(a=t.tenantId)!==null&&a!==void 0?a:void 0,M=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,L=(u=t.createdAt)!==null&&u!==void 0?u:void 0,H=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:J,emailVerified:Ve,isAnonymous:Mt,providerData:De,stsTokenManager:D}=t;ue(J&&D,e,"internal-error");let b=Wu.fromJSON(this.name,D);ue(typeof J=="string",e,"internal-error"),To(p,e.name),To(m,e.name),ue(typeof Ve=="boolean",e,"internal-error"),ue(typeof Mt=="boolean",e,"internal-error"),To(g,e.name),To(I,e.name),To(x,e.name),To(M,e.name),To(L,e.name),To(H,e.name);let w=new n({uid:J,auth:e,email:m,emailVerified:Ve,displayName:p,isAnonymous:Mt,photoURL:I,phoneNumber:g,tenantId:x,stsTokenManager:b,createdAt:L,lastLoginAt:H});return De&&Array.isArray(De)&&(w.providerData=De.map(C=>Object.assign({},C))),M&&(w._redirectEventId=M),w}static _fromIdTokenResponse(e,t,r=!1){return y(this,null,function*(){let i=new Wu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield dm(o),o})}static _fromGetAccountInfoResponse(e,t,r){return y(this,null,function*(){let i=t.users[0];ue(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Bk(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Wu;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Yu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,u),c})}};var Ek=new Map;function Di(n){Ro(n instanceof Function,"Expected a class definition");let e=Ek.get(n);return e?(Ro(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Ek.set(n,e),e)}var UG=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return y(this,null,function*(){return!0})}_set(t,r){return y(this,null,function*(){this.storage[t]=r})}_get(t){return y(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return y(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Lw=UG;function om(n,e,t){return`firebase:${n}:${e}:${t}`}var hm=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=om(this.userKey,i.apiKey,o),this.fullPersistenceKey=om("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return y(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield um(this.auth,{idToken:e}).catch(()=>{});return t?So._fromGetAccountInfoResponse(this.auth,t,e):null}return So._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return y(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return y(this,null,function*(){if(!t.length)return new n(Di(Lw),e,r);let i=(yield Promise.all(t.map(u=>y(null,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),o=i[0]||Di(Lw),s=om(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let d=yield u._get(s);if(d){let p;if(typeof d=="string"){let m=yield um(e,{idToken:d}).catch(()=>{});if(!m)break;p=yield So._fromGetAccountInfoResponse(e,m,d)}else p=So._fromJSON(e,d);u!==o&&(a=p),o=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new n(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(u=>y(null,null,function*(){if(u!==o)try{yield u._remove(s)}catch{}}))),new n(o,e,r))})}};function wk(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Uk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Gk(e))return"Blackberry";if(Wk(e))return"Webos";if($k(e))return"Safari";if((e.includes("chrome/")||zk(e))&&!e.includes("edge/"))return"Chrome";if(qk(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Uk(n=jt()){return/firefox\//i.test(n)}function $k(n=jt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zk(n=jt()){return/crios\//i.test(n)}function Hk(n=jt()){return/iemobile/i.test(n)}function qk(n=jt()){return/android/i.test(n)}function Gk(n=jt()){return/blackberry/i.test(n)}function Wk(n=jt()){return/webos/i.test(n)}function tI(n=jt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $G(n=jt()){var e;return tI(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zG(){return BN()&&document.documentMode===10}function Kk(n=jt()){return tI(n)||qk(n)||Wk(n)||Gk(n)||/windows phone/i.test(n)||Hk(n)}function Yk(n,e=[]){let t;switch(n){case"Browser":t=wk(jt());break;case"Worker":t=`${wk(jt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Io}/${r}`}var Vw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return y(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function HG(t){return y(this,arguments,function*(n,e={}){return Ec(n,"GET","/v2/passwordPolicy",bm(n,e))})}var qG=6,jw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:qG,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Bw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fm(this),this.idTokenSubscription=new fm(this),this.beforeStateQueue=new Vw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(()=>y(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield hm.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return y(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return y(this,null,function*(){try{let t=yield um(this,{idToken:e}),r=yield So._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return y(this,null,function*(){var t;if(Fn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return y(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return y(this,null,function*(){try{yield dm(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=NG()}_delete(){return y(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return y(this,null,function*(){if(Fn(this.app))return Promise.reject(Ao(this));let t=e?st(e):null;return t&&ue(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return y(this,null,function*(){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>y(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return y(this,null,function*(){return Fn(this.app)?Promise.reject(Ao(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Fn(this.app)?Promise.reject(Ao(this)):this.queue(()=>y(this,null,function*(){yield this.assertedPersistence.setPersistence(Di(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return y(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return y(this,null,function*(){let e=yield HG(this),t=new jw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _n("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return y(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield BG(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return y(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return y(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Di(e)||this._popupRedirectResolver;ue(t,this,"argument-error"),this.redirectPersistenceManager=yield hm.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return y(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>y(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return y(this,null,function*(){if(e===this.currentUser)return this.queue(()=>y(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(t);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return y(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return y(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return y(this,null,function*(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&xG(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Em(n){return st(n)}var fm=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=HN(t=>this.observer=t)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var nI={loadJS(){return y(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function GG(n){nI=n}function WG(n){return nI.loadJS(n)}function KG(){return nI.gapiScript}function Qk(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function rI(n,e){let t=Qn(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Kn(o,e??{}))return i;xo(i,"already-initialized")}return t.initialize({options:e})}function YG(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Di);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function iI(n,e,t){let r=Em(n);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=Zk(e),{host:s,port:a}=QG(e),c=a===null?"":`:${a}`,u={url:`${o}//${s}${c}/`},d=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(Kn(u,r.config.emulator)&&Kn(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,Eo(s)?(Gp(`${o}//${s}${c}`),Wp("Auth",!0)):i||ZG()}function Zk(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QG(n){let e=Zk(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Ik(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Ik(s)}}}function Ik(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function ZG(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var pm=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ci("not implemented")}_getIdTokenResponse(e){return Ci("not implemented")}_linkToIdToken(e,t){return Ci("not implemented")}_getReauthenticationResolver(e){return Ci("not implemented")}};function Nw(n,e){return y(this,null,function*(){return Vk(n,"POST","/v1/accounts:signInWithIdp",bm(n,e))})}var mm=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Uw=class extends mm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function XG(n,e){return y(this,null,function*(){return Vk(n,"POST","/v1/accounts:signUp",bm(n,e))})}var qs=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return y(this,null,function*(){let o=yield So._fromIdTokenResponse(e,r,i),s=Ck(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return y(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Ck(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function Ck(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function oI(n){return y(this,null,function*(){var e;if(Fn(n.app))return Promise.reject(Ao(n));let t=Em(n);if(yield t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new qs({user:t.currentUser,providerId:null,operationType:"signIn"});let r=yield XG(t,{returnSecureToken:!0}),i=yield qs._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})}var $w=class n extends Kt{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Xk(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?$w._fromErrorAndOperation(n,o,e,r):o})}function JG(n,e,t=!1){return y(this,null,function*(){let r=yield Ku(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return qs._forOperation(n,"link",r)})}function eW(n,e,t=!1){return y(this,null,function*(){let{auth:r}=n;if(Fn(r.app))return Promise.reject(Ao(r));let i="reauthenticate";try{let o=yield Ku(n,Xk(r,i,e,n),t);ue(o.idToken,r,"internal-error");let s=Jw(o.idToken);ue(s,r,"internal-error");let{sub:a}=s;return ue(n.uid===a,r,"user-mismatch"),qs._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&xo(r,"user-mismatch"),o}})}function tW(n,e,t=!1){return y(this,null,function*(){if(Fn(n.app))return Promise.reject(Ao(n));let r="signIn",i=yield Xk(n,r,e),o=yield qs._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function wm(n,e,t,r){return st(n).onIdTokenChanged(e,t,r)}function sI(n,e,t){return st(n).beforeAuthStateChanged(e,t)}function Im(n,e,t,r){return st(n).onAuthStateChanged(e,t,r)}var gm="__sak";var vm=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(gm,"1"),this.storage.removeItem(gm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var nW=1e3,rW=10,iW=(()=>{class n extends vm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Kk(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);zG()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,rW):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},nW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return y(this,null,function*(){yield Ui(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return y(this,null,function*(){let r=yield Ui(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return y(this,null,function*(){yield Ui(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),Jk=iW;var oW=(()=>{class n extends vm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),aI=oW;function sW(n){return Promise.all(n.map(e=>y(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var aW=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return y(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let c=Array.from(a).map(d=>y(this,null,function*(){return d(r.origin,s)})),u=yield sW(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function eO(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var zw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return y(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{let u=eO("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function $r(){return window}function cW(n){$r().location.href=n}function tO(){return typeof $r().WorkerGlobalScope<"u"&&typeof $r().importScripts=="function"}function lW(){return y(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function uW(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function dW(){return tO()?self:null}var nO="firebaseLocalStorageDb",hW=1,_m="firebaseLocalStorage",rO="fbase_key",Gs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Cm(n,e){return n.transaction([_m],e?"readwrite":"readonly").objectStore(_m)}function fW(){let n=indexedDB.deleteDatabase(nO);return new Gs(n).toPromise()}function Hw(){let n=indexedDB.open(nO,hW);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(_m,{keyPath:rO})}catch(i){t(i)}}),n.addEventListener("success",()=>y(null,null,function*(){let r=n.result;r.objectStoreNames.contains(_m)?e(r):(r.close(),yield fW(),e(yield Hw()))}))})}function Dk(n,e,t){return y(this,null,function*(){let r=Cm(n,!0).put({[rO]:e,value:t});return new Gs(r).toPromise()})}function pW(n,e){return y(this,null,function*(){let t=Cm(n,!1).get(e),r=yield new Gs(t).toPromise();return r===void 0?null:r.value})}function Tk(n,e){let t=Cm(n,!0).delete(e);return new Gs(t).toPromise()}var mW=800,gW=3,vW=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return y(this,null,function*(){return this.db?this.db:(this.db=yield Hw(),this.db)})}_withRetries(t){return y(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>gW)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return y(this,null,function*(){return tO()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return y(this,null,function*(){this.receiver=aW._getInstance(dW()),this.receiver._subscribe("keyChanged",(t,r)=>y(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>y(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return y(this,null,function*(){var t,r;if(this.activeServiceWorker=yield lW(),!this.activeServiceWorker)return;this.sender=new zw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return y(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||uW()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return y(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Hw();return yield Dk(t,gm,"1"),yield Tk(t,gm),!0}catch{}return!1})}_withPendingWrite(t){return y(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(i=>Dk(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return y(this,null,function*(){let r=yield this._withRetries(i=>pW(i,t));return this.localCache[t]=r,r})}_remove(t){return y(this,null,function*(){return this._withPendingWrite(()=>y(this,null,function*(){return yield this._withRetries(r=>Tk(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return y(this,null,function*(){let t=yield this._withRetries(o=>{let s=Cm(o,!1).getAll();return new Gs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>y(this,null,function*(){return this._poll()}),mW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),iO=vW;var yge=Qk("rcb"),bge=new Hs(3e4,6e4);function _W(n,e){return e?Di(e):(ue(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Qu=class extends pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Nw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Nw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Nw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function yW(n){return tW(n.auth,new Qu(n),n.bypassAuthState)}function bW(n){let{auth:e,user:t}=n;return ue(t,e,"internal-error"),eW(t,new Qu(n),n.bypassAuthState)}function EW(n){return y(this,null,function*(){let{auth:e,user:t}=n;return ue(t,e,"internal-error"),JG(t,new Qu(n),n.bypassAuthState)})}var qw=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>y(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return y(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yW;case"linkViaPopup":case"linkViaRedirect":return EW;case"reauthViaPopup":case"reauthViaRedirect":return bW;default:xo(this.auth,"internal-error")}}resolve(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ro(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Ege=new Hs(2e3,1e4);var wW="pendingRedirect",sm=new Map,Gw=class n extends qw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return y(this,null,function*(){let e=sm.get(this.auth._key());if(!e){try{let r=(yield IW(this.resolver,this.auth))?yield Ui(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}sm.set(this.auth._key(),e)}return this.bypassAuthState||sm.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return y(this,null,function*(){if(e.type==="signInViaRedirect")return Ui(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Ui(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return y(this,null,function*(){})}cleanUp(){}};function IW(n,e){return y(this,null,function*(){let t=TW(e),r=DW(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function CW(n,e){sm.set(n._key(),e)}function DW(n){return Di(n._redirectPersistence)}function TW(n){return om(wW,n.config.apiKey,n.name)}function SW(n,e,t=!1){return y(this,null,function*(){if(Fn(n.app))return Promise.reject(Ao(n));let r=Em(n),i=_W(r,e),s=yield new Gw(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var AW=600*1e3,Ww=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xW(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!oO(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(zs(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AW&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sk(e))}saveEventToCache(e){this.cachedEventUids.add(Sk(e)),this.lastProcessedEventTime=Date.now()}};function Sk(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oO({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function xW(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oO(n);default:return!1}}function RW(t){return y(this,arguments,function*(n,e={}){return Ec(n,"GET","/v1/projects",e)})}var MW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,NW=/^https?/;function kW(n){return y(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield RW(n);for(let t of e)try{if(OW(t))return}catch{}xo(n,"unauthorized-domain")})}function OW(n){let e=Ow(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!NW.test(t))return!1;if(MW.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var PW=new Hs(3e4,6e4);function Ak(){let n=$r().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function FW(n){return new Promise((e,t)=>{var r,i,o;function s(){Ak(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ak(),t(zs(n,"network-request-failed"))},timeout:PW.get()})}if(!((i=(r=$r().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=$r().gapi)===null||o===void 0)&&o.load)s();else{let a=Qk("iframefcb");return $r()[a]=()=>{gapi.load?s():t(zs(n,"network-request-failed"))},WG(`${KG()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw am=null,e})}var am=null;function LW(n){return am=am||FW(n),am}var VW=new Hs(5e3,15e3),jW="__/auth/iframe",BW="emulator/auth/iframe",UW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$W=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zW(n){let e=n.config;ue(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Zw(e,BW):`https://${n.config.authDomain}/${jW}`,r={apiKey:e.apiKey,appName:n.name,v:Io},i=$W.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Uu(r).slice(1)}`}function HW(n){return y(this,null,function*(){let e=yield LW(n),t=$r().gapi;return ue(t,n,"internal-error"),e.open({where:document.body,url:zW(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UW,dontclear:!0},r=>new Promise((i,o)=>y(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=zs(n,"network-request-failed"),a=$r().setTimeout(()=>{o(s)},VW.get());function c(){$r().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{o(s)})})))})}var qW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GW=500,WW=600,KW="_blank",YW="http://localhost",ym=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function QW(n,e,t,r=GW,i=WW){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},qW),{width:r.toString(),height:i.toString(),top:o,left:s}),u=jt().toLowerCase();t&&(a=zk(u)?KW:t),Uk(u)&&(e=e||YW,c.scrollbars="yes");let d=Object.entries(c).reduce((m,[g,I])=>`${m}${g}=${I},`,"");if($G(u)&&a!=="_self")return ZW(e||"",a),new ym(null);let p=window.open(e||"",a,d);ue(p,n,"popup-blocked");try{p.focus()}catch{}return new ym(p)}function ZW(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var XW="__/auth/handler",JW="emulator/auth/handler",e8=encodeURIComponent("fac");function xk(n,e,t,r,i,o){return y(this,null,function*(){ue(n.config.authDomain,n,"auth-domain-config-required"),ue(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Io,eventId:i};if(e instanceof mm){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",zN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,p]of Object.entries(o||{}))s[d]=p}if(e instanceof Uw){let d=e.getScopes().filter(p=>p!=="");d.length>0&&(s.scopes=d.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield n._getAppCheckToken(),u=c?`#${e8}=${encodeURIComponent(c)}`:"";return`${t8(n)}?${Uu(a).slice(1)}${u}`})}function t8({config:n}){return n.emulator?Zw(n,JW):`https://${n.authDomain}/${XW}`}var kw="webStorageSupport",Kw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aI,this._completeRedirectFn=SW,this._overrideRedirectResult=CW}_openPopup(e,t,r,i){return y(this,null,function*(){var o;Ro((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield xk(e,t,r,Ow(),i);return QW(e,s,eO())})}_openRedirect(e,t,r,i){return y(this,null,function*(){yield this._originValidation(e);let o=yield xk(e,t,r,Ow(),i);return cW(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(Ro(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return y(this,null,function*(){let t=yield HW(e),r=new Ww(e);return t.register("authEvent",i=>(ue(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(kw,{type:kw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[kw];s!==void 0&&t(!!s),xo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=kW(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Kk()||$k()||tI()}},sO=Kw;var Rk="@firebase/auth",Mk="1.10.8";var Yw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return y(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function n8(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function r8(n){Yt(new bt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ue(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yk(n)},u=new Bw(r,i,o,c);return YG(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Yt(new bt("auth-internal",e=>{let t=Em(e.getProvider("auth").getImmediate());return(r=>new Yw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fe(Rk,Mk,n8(n)),Fe(Rk,Mk,"esm2017")}var i8=300,o8=cw("authIdTokenMaxAge")||i8,Nk=null,s8=n=>e=>y(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>o8)return;let i=t?.token;Nk!==i&&(Nk=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function cI(n=jr()){let e=Qn(n,"auth");if(e.isInitialized())return e.getImmediate();let t=rI(n,{popupRedirectResolver:sO,persistence:[iO,Jk,aI]}),r=cw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=s8(o.toString());sI(t,s,()=>s(t.currentUser)),wm(t,a=>s(a))}}let i=sw("auth");return i&&iI(t,`http://${i}`),t}function a8(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}GG({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=zs("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",a8().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});r8("Browser");function cO(n){return new Q(function(e){var t=Im(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var lO="auth",Ws=class{constructor(e){return e}},Zu=class{constructor(){return Co(lO)}};var lI=new O("angularfire2.auth-instances");function Z8(n,e){let t=$s(lO,n,e);return t&&new Ws(t)}function X8(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Ws(r)}}var J8={provide:Zu,deps:[[new yt,lI]]},e6={provide:Ws,useFactory:Z8,deps:[[new yt,lI],_r]};function uO(n,...e){return Fe("angularfire",Br.full,"auth"),qt([e6,J8,{provide:lI,useFactory:X8(n),multi:!0,deps:[$,ee,Ur,Ii,[new yt,bc],...e]}])}var dO=Et(cO,!0);var hO=Et(cI,!0);var fO=Et(oI,!0,2);var pO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},mO={};var Ti,uI;(function(){var n;function e(D,b){function w(){}w.prototype=b.prototype,D.D=b.prototype,D.prototype=new w,D.prototype.constructor=D,D.C=function(C,T,A){for(var E=Array(arguments.length-2),Zr=2;Zr<arguments.length;Zr++)E[Zr-2]=arguments[Zr];return b.prototype[T].apply(C,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,b,w){w||(w=0);var C=Array(16);if(typeof b=="string")for(var T=0;16>T;++T)C[T]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(T=0;16>T;++T)C[T]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=D.g[0],w=D.g[1],T=D.g[2];var A=D.g[3],E=b+(A^w&(T^A))+C[0]+3614090360&4294967295;b=w+(E<<7&4294967295|E>>>25),E=A+(T^b&(w^T))+C[1]+3905402710&4294967295,A=b+(E<<12&4294967295|E>>>20),E=T+(w^A&(b^w))+C[2]+606105819&4294967295,T=A+(E<<17&4294967295|E>>>15),E=w+(b^T&(A^b))+C[3]+3250441966&4294967295,w=T+(E<<22&4294967295|E>>>10),E=b+(A^w&(T^A))+C[4]+4118548399&4294967295,b=w+(E<<7&4294967295|E>>>25),E=A+(T^b&(w^T))+C[5]+1200080426&4294967295,A=b+(E<<12&4294967295|E>>>20),E=T+(w^A&(b^w))+C[6]+2821735955&4294967295,T=A+(E<<17&4294967295|E>>>15),E=w+(b^T&(A^b))+C[7]+4249261313&4294967295,w=T+(E<<22&4294967295|E>>>10),E=b+(A^w&(T^A))+C[8]+1770035416&4294967295,b=w+(E<<7&4294967295|E>>>25),E=A+(T^b&(w^T))+C[9]+2336552879&4294967295,A=b+(E<<12&4294967295|E>>>20),E=T+(w^A&(b^w))+C[10]+4294925233&4294967295,T=A+(E<<17&4294967295|E>>>15),E=w+(b^T&(A^b))+C[11]+2304563134&4294967295,w=T+(E<<22&4294967295|E>>>10),E=b+(A^w&(T^A))+C[12]+1804603682&4294967295,b=w+(E<<7&4294967295|E>>>25),E=A+(T^b&(w^T))+C[13]+4254626195&4294967295,A=b+(E<<12&4294967295|E>>>20),E=T+(w^A&(b^w))+C[14]+2792965006&4294967295,T=A+(E<<17&4294967295|E>>>15),E=w+(b^T&(A^b))+C[15]+1236535329&4294967295,w=T+(E<<22&4294967295|E>>>10),E=b+(T^A&(w^T))+C[1]+4129170786&4294967295,b=w+(E<<5&4294967295|E>>>27),E=A+(w^T&(b^w))+C[6]+3225465664&4294967295,A=b+(E<<9&4294967295|E>>>23),E=T+(b^w&(A^b))+C[11]+643717713&4294967295,T=A+(E<<14&4294967295|E>>>18),E=w+(A^b&(T^A))+C[0]+3921069994&4294967295,w=T+(E<<20&4294967295|E>>>12),E=b+(T^A&(w^T))+C[5]+3593408605&4294967295,b=w+(E<<5&4294967295|E>>>27),E=A+(w^T&(b^w))+C[10]+38016083&4294967295,A=b+(E<<9&4294967295|E>>>23),E=T+(b^w&(A^b))+C[15]+3634488961&4294967295,T=A+(E<<14&4294967295|E>>>18),E=w+(A^b&(T^A))+C[4]+3889429448&4294967295,w=T+(E<<20&4294967295|E>>>12),E=b+(T^A&(w^T))+C[9]+568446438&4294967295,b=w+(E<<5&4294967295|E>>>27),E=A+(w^T&(b^w))+C[14]+3275163606&4294967295,A=b+(E<<9&4294967295|E>>>23),E=T+(b^w&(A^b))+C[3]+4107603335&4294967295,T=A+(E<<14&4294967295|E>>>18),E=w+(A^b&(T^A))+C[8]+1163531501&4294967295,w=T+(E<<20&4294967295|E>>>12),E=b+(T^A&(w^T))+C[13]+2850285829&4294967295,b=w+(E<<5&4294967295|E>>>27),E=A+(w^T&(b^w))+C[2]+4243563512&4294967295,A=b+(E<<9&4294967295|E>>>23),E=T+(b^w&(A^b))+C[7]+1735328473&4294967295,T=A+(E<<14&4294967295|E>>>18),E=w+(A^b&(T^A))+C[12]+2368359562&4294967295,w=T+(E<<20&4294967295|E>>>12),E=b+(w^T^A)+C[5]+4294588738&4294967295,b=w+(E<<4&4294967295|E>>>28),E=A+(b^w^T)+C[8]+2272392833&4294967295,A=b+(E<<11&4294967295|E>>>21),E=T+(A^b^w)+C[11]+1839030562&4294967295,T=A+(E<<16&4294967295|E>>>16),E=w+(T^A^b)+C[14]+4259657740&4294967295,w=T+(E<<23&4294967295|E>>>9),E=b+(w^T^A)+C[1]+2763975236&4294967295,b=w+(E<<4&4294967295|E>>>28),E=A+(b^w^T)+C[4]+1272893353&4294967295,A=b+(E<<11&4294967295|E>>>21),E=T+(A^b^w)+C[7]+4139469664&4294967295,T=A+(E<<16&4294967295|E>>>16),E=w+(T^A^b)+C[10]+3200236656&4294967295,w=T+(E<<23&4294967295|E>>>9),E=b+(w^T^A)+C[13]+681279174&4294967295,b=w+(E<<4&4294967295|E>>>28),E=A+(b^w^T)+C[0]+3936430074&4294967295,A=b+(E<<11&4294967295|E>>>21),E=T+(A^b^w)+C[3]+3572445317&4294967295,T=A+(E<<16&4294967295|E>>>16),E=w+(T^A^b)+C[6]+76029189&4294967295,w=T+(E<<23&4294967295|E>>>9),E=b+(w^T^A)+C[9]+3654602809&4294967295,b=w+(E<<4&4294967295|E>>>28),E=A+(b^w^T)+C[12]+3873151461&4294967295,A=b+(E<<11&4294967295|E>>>21),E=T+(A^b^w)+C[15]+530742520&4294967295,T=A+(E<<16&4294967295|E>>>16),E=w+(T^A^b)+C[2]+3299628645&4294967295,w=T+(E<<23&4294967295|E>>>9),E=b+(T^(w|~A))+C[0]+4096336452&4294967295,b=w+(E<<6&4294967295|E>>>26),E=A+(w^(b|~T))+C[7]+1126891415&4294967295,A=b+(E<<10&4294967295|E>>>22),E=T+(b^(A|~w))+C[14]+2878612391&4294967295,T=A+(E<<15&4294967295|E>>>17),E=w+(A^(T|~b))+C[5]+4237533241&4294967295,w=T+(E<<21&4294967295|E>>>11),E=b+(T^(w|~A))+C[12]+1700485571&4294967295,b=w+(E<<6&4294967295|E>>>26),E=A+(w^(b|~T))+C[3]+2399980690&4294967295,A=b+(E<<10&4294967295|E>>>22),E=T+(b^(A|~w))+C[10]+4293915773&4294967295,T=A+(E<<15&4294967295|E>>>17),E=w+(A^(T|~b))+C[1]+2240044497&4294967295,w=T+(E<<21&4294967295|E>>>11),E=b+(T^(w|~A))+C[8]+1873313359&4294967295,b=w+(E<<6&4294967295|E>>>26),E=A+(w^(b|~T))+C[15]+4264355552&4294967295,A=b+(E<<10&4294967295|E>>>22),E=T+(b^(A|~w))+C[6]+2734768916&4294967295,T=A+(E<<15&4294967295|E>>>17),E=w+(A^(T|~b))+C[13]+1309151649&4294967295,w=T+(E<<21&4294967295|E>>>11),E=b+(T^(w|~A))+C[4]+4149444226&4294967295,b=w+(E<<6&4294967295|E>>>26),E=A+(w^(b|~T))+C[11]+3174756917&4294967295,A=b+(E<<10&4294967295|E>>>22),E=T+(b^(A|~w))+C[2]+718787259&4294967295,T=A+(E<<15&4294967295|E>>>17),E=w+(A^(T|~b))+C[9]+3951481745&4294967295,D.g[0]=D.g[0]+b&4294967295,D.g[1]=D.g[1]+(T+(E<<21&4294967295|E>>>11))&4294967295,D.g[2]=D.g[2]+T&4294967295,D.g[3]=D.g[3]+A&4294967295}r.prototype.u=function(D,b){b===void 0&&(b=D.length);for(var w=b-this.blockSize,C=this.B,T=this.h,A=0;A<b;){if(T==0)for(;A<=w;)i(this,D,A),A+=this.blockSize;if(typeof D=="string"){for(;A<b;)if(C[T++]=D.charCodeAt(A++),T==this.blockSize){i(this,C),T=0;break}}else for(;A<b;)if(C[T++]=D[A++],T==this.blockSize){i(this,C),T=0;break}}this.h=T,this.o+=b},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var b=1;b<D.length-8;++b)D[b]=0;var w=8*this.o;for(b=D.length-8;b<D.length;++b)D[b]=w&255,w/=256;for(this.u(D),D=Array(16),b=w=0;4>b;++b)for(var C=0;32>C;C+=8)D[w++]=this.g[b]>>>C&255;return D};function o(D,b){var w=a;return Object.prototype.hasOwnProperty.call(w,D)?w[D]:w[D]=b(D)}function s(D,b){this.h=b;for(var w=[],C=!0,T=D.length-1;0<=T;T--){var A=D[T]|0;C&&A==b||(w[T]=A,C=!1)}this.g=w}var a={};function c(D){return-128<=D&&128>D?o(D,function(b){return new s([b|0],0>b?-1:0)}):new s([D|0],0>D?-1:0)}function u(D){if(isNaN(D)||!isFinite(D))return p;if(0>D)return M(u(-D));for(var b=[],w=1,C=0;D>=w;C++)b[C]=D/w|0,w*=4294967296;return new s(b,0)}function d(D,b){if(D.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(D.charAt(0)=="-")return M(d(D.substring(1),b));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(b,8)),C=p,T=0;T<D.length;T+=8){var A=Math.min(8,D.length-T),E=parseInt(D.substring(T,T+A),b);8>A?(A=u(Math.pow(b,A)),C=C.j(A).add(u(E))):(C=C.j(w),C=C.add(u(E)))}return C}var p=c(0),m=c(1),g=c(16777216);n=s.prototype,n.m=function(){if(x(this))return-M(this).m();for(var D=0,b=1,w=0;w<this.g.length;w++){var C=this.i(w);D+=(0<=C?C:4294967296+C)*b,b*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(x(this))return"-"+M(this).toString(D);for(var b=u(Math.pow(D,6)),w=this,C="";;){var T=Ve(w,b).g;w=L(w,T.j(b));var A=((0<w.g.length?w.g[0]:w.h)>>>0).toString(D);if(w=T,I(w))return A+C;for(;6>A.length;)A="0"+A;C=A+C}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var b=0;b<D.g.length;b++)if(D.g[b]!=0)return!1;return!0}function x(D){return D.h==-1}n.l=function(D){return D=L(this,D),x(D)?-1:I(D)?0:1};function M(D){for(var b=D.g.length,w=[],C=0;C<b;C++)w[C]=~D.g[C];return new s(w,~D.h).add(m)}n.abs=function(){return x(this)?M(this):this},n.add=function(D){for(var b=Math.max(this.g.length,D.g.length),w=[],C=0,T=0;T<=b;T++){var A=C+(this.i(T)&65535)+(D.i(T)&65535),E=(A>>>16)+(this.i(T)>>>16)+(D.i(T)>>>16);C=E>>>16,A&=65535,E&=65535,w[T]=E<<16|A}return new s(w,w[w.length-1]&-2147483648?-1:0)};function L(D,b){return D.add(M(b))}n.j=function(D){if(I(this)||I(D))return p;if(x(this))return x(D)?M(this).j(M(D)):M(M(this).j(D));if(x(D))return M(this.j(M(D)));if(0>this.l(g)&&0>D.l(g))return u(this.m()*D.m());for(var b=this.g.length+D.g.length,w=[],C=0;C<2*b;C++)w[C]=0;for(C=0;C<this.g.length;C++)for(var T=0;T<D.g.length;T++){var A=this.i(C)>>>16,E=this.i(C)&65535,Zr=D.i(T)>>>16,tl=D.i(T)&65535;w[2*C+2*T]+=E*tl,H(w,2*C+2*T),w[2*C+2*T+1]+=A*tl,H(w,2*C+2*T+1),w[2*C+2*T+1]+=E*Zr,H(w,2*C+2*T+1),w[2*C+2*T+2]+=A*Zr,H(w,2*C+2*T+2)}for(C=0;C<b;C++)w[C]=w[2*C+1]<<16|w[2*C];for(C=b;C<2*b;C++)w[C]=0;return new s(w,0)};function H(D,b){for(;(D[b]&65535)!=D[b];)D[b+1]+=D[b]>>>16,D[b]&=65535,b++}function J(D,b){this.g=D,this.h=b}function Ve(D,b){if(I(b))throw Error("division by zero");if(I(D))return new J(p,p);if(x(D))return b=Ve(M(D),b),new J(M(b.g),M(b.h));if(x(b))return b=Ve(D,M(b)),new J(M(b.g),b.h);if(30<D.g.length){if(x(D)||x(b))throw Error("slowDivide_ only works with positive integers.");for(var w=m,C=b;0>=C.l(D);)w=Mt(w),C=Mt(C);var T=De(w,1),A=De(C,1);for(C=De(C,2),w=De(w,2);!I(C);){var E=A.add(C);0>=E.l(D)&&(T=T.add(w),A=E),C=De(C,1),w=De(w,1)}return b=L(D,T.j(b)),new J(T,b)}for(T=p;0<=D.l(b);){for(w=Math.max(1,Math.floor(D.m()/b.m())),C=Math.ceil(Math.log(w)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),A=u(w),E=A.j(b);x(E)||0<E.l(D);)w-=C,A=u(w),E=A.j(b);I(A)&&(A=m),T=T.add(A),D=L(D,E)}return new J(T,D)}n.A=function(D){return Ve(this,D).h},n.and=function(D){for(var b=Math.max(this.g.length,D.g.length),w=[],C=0;C<b;C++)w[C]=this.i(C)&D.i(C);return new s(w,this.h&D.h)},n.or=function(D){for(var b=Math.max(this.g.length,D.g.length),w=[],C=0;C<b;C++)w[C]=this.i(C)|D.i(C);return new s(w,this.h|D.h)},n.xor=function(D){for(var b=Math.max(this.g.length,D.g.length),w=[],C=0;C<b;C++)w[C]=this.i(C)^D.i(C);return new s(w,this.h^D.h)};function Mt(D){for(var b=D.g.length+1,w=[],C=0;C<b;C++)w[C]=D.i(C)<<1|D.i(C-1)>>>31;return new s(w,D.h)}function De(D,b){var w=b>>5;b%=32;for(var C=D.g.length-w,T=[],A=0;A<C;A++)T[A]=0<b?D.i(A+w)>>>b|D.i(A+w+1)<<32-b:D.i(A+w);return new s(T,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uI=mO.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=d,Ti=mO.Integer=s}).apply(typeof pO<"u"?pO:typeof self<"u"?self:typeof window<"u"?window:{});var Dm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Si={};var dI,n6,wc,hI,Xu,Tm,fI,pI,mI;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,h,f){return l==Array.prototype||l==Object.prototype||(l[h]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dm=="object"&&Dm];for(var h=0;h<l.length;++h){var f=l[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(l,h){if(h)e:{var f=r;l=l.split(".");for(var v=0;v<l.length-1;v++){var S=l[v];if(!(S in f))break e;f=f[S]}l=l[l.length-1],v=f[l],h=h(v),h!=v&&h!=null&&e(f,l,{configurable:!0,writable:!0,value:h})}}function o(l,h){l instanceof String&&(l+="");var f=0,v=!1,S={next:function(){if(!v&&f<l.length){var R=f++;return{value:h(R,l[R]),done:!1}}return v=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}i("Array.prototype.values",function(l){return l||function(){return o(this,function(h,f){return f})}});var s=s||{},a=this||self;function c(l){var h=typeof l;return h=h!="object"?h:l?Array.isArray(l)?"array":h:"null",h=="array"||h=="object"&&typeof l.length=="number"}function u(l){var h=typeof l;return h=="object"&&l!=null||h=="function"}function d(l,h,f){return l.call.apply(l.bind,arguments)}function p(l,h,f){if(!l)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,v),l.apply(h,S)}}return function(){return l.apply(h,arguments)}}function m(l,h,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:p,m.apply(null,arguments)}function g(l,h){var f=Array.prototype.slice.call(arguments,1);return function(){var v=f.slice();return v.push.apply(v,arguments),l.apply(this,v)}}function I(l,h){function f(){}f.prototype=h.prototype,l.aa=h.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(v,S,R){for(var V=Array(arguments.length-2),We=2;We<arguments.length;We++)V[We-2]=arguments[We];return h.prototype[S].apply(v,V)}}function x(l){let h=l.length;if(0<h){let f=Array(h);for(let v=0;v<h;v++)f[v]=l[v];return f}return[]}function M(l,h){for(let f=1;f<arguments.length;f++){let v=arguments[f];if(c(v)){let S=l.length||0,R=v.length||0;l.length=S+R;for(let V=0;V<R;V++)l[S+V]=v[V]}else l.push(v)}}class L{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function H(l){return/^[\s\xa0]*$/.test(l)}function J(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function Ve(l){return Ve[" "](l),l}Ve[" "]=function(){};var Mt=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function De(l,h,f){for(let v in l)h.call(f,l[v],v,l)}function D(l,h){for(let f in l)h.call(void 0,l[f],f,l)}function b(l){let h={};for(let f in l)h[f]=l[f];return h}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(l,h){let f,v;for(let S=1;S<arguments.length;S++){v=arguments[S];for(f in v)l[f]=v[f];for(let R=0;R<w.length;R++)f=w[R],Object.prototype.hasOwnProperty.call(v,f)&&(l[f]=v[f])}}function T(l){var h=1;l=l.split(":");let f=[];for(;0<h&&l.length;)f.push(l.shift()),h--;return l.length&&f.push(l.join(":")),f}function A(l){a.setTimeout(()=>{throw l},0)}function E(){var l=wv;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}class Zr{constructor(){this.h=this.g=null}add(h,f){let v=tl.get();v.set(h,f),this.h?this.h.next=v:this.g=v,this.h=v}}var tl=new L(()=>new XV,l=>l.reset());class XV{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let nl,rl=!1,wv=new Zr,qT=()=>{let l=a.Promise.resolve(void 0);nl=()=>{l.then(JV)}};var JV=()=>{for(var l;l=E();){try{l.h.call(l.g)}catch(f){A(f)}var h=tl;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}rl=!1};function Li(){this.s=this.s,this.C=this.C}Li.prototype.s=!1,Li.prototype.ma=function(){this.s||(this.s=!0,this.N())},Li.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Zt(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Zt.prototype.h=function(){this.defaultPrevented=!0};var ej=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,h),a.removeEventListener("test",f,h)}catch{}return l})();function il(l,h){if(Zt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,v=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(Mt){e:{try{Ve(h.nodeName);var S=!0;break e}catch{}S=!1}S||(h=null)}}else f=="mouseover"?h=l.fromElement:f=="mouseout"&&(h=l.toElement);this.relatedTarget=h,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:tj[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&il.aa.h.call(this)}}I(il,Zt);var tj={2:"touch",3:"pen",4:"mouse"};il.prototype.h=function(){il.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ol="closure_listenable_"+(1e6*Math.random()|0),nj=0;function rj(l,h,f,v,S){this.listener=l,this.proxy=null,this.src=h,this.type=f,this.capture=!!v,this.ha=S,this.key=++nj,this.da=this.fa=!1}function qd(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Gd(l){this.src=l,this.g={},this.h=0}Gd.prototype.add=function(l,h,f,v,S){var R=l.toString();l=this.g[R],l||(l=this.g[R]=[],this.h++);var V=Cv(l,h,v,S);return-1<V?(h=l[V],f||(h.fa=!1)):(h=new rj(h,this.src,R,!!v,S),h.fa=f,l.push(h)),h};function Iv(l,h){var f=h.type;if(f in l.g){var v=l.g[f],S=Array.prototype.indexOf.call(v,h,void 0),R;(R=0<=S)&&Array.prototype.splice.call(v,S,1),R&&(qd(h),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Cv(l,h,f,v){for(var S=0;S<l.length;++S){var R=l[S];if(!R.da&&R.listener==h&&R.capture==!!f&&R.ha==v)return S}return-1}var Dv="closure_lm_"+(1e6*Math.random()|0),Tv={};function GT(l,h,f,v,S){if(v&&v.once)return KT(l,h,f,v,S);if(Array.isArray(h)){for(var R=0;R<h.length;R++)GT(l,h[R],f,v,S);return null}return f=Rv(f),l&&l[ol]?l.K(h,f,u(v)?!!v.capture:!!v,S):WT(l,h,f,!1,v,S)}function WT(l,h,f,v,S,R){if(!h)throw Error("Invalid event type");var V=u(S)?!!S.capture:!!S,We=Av(l);if(We||(l[Dv]=We=new Gd(l)),f=We.add(h,f,v,V,R),f.proxy)return f;if(v=ij(),f.proxy=v,v.src=l,v.listener=f,l.addEventListener)ej||(S=V),S===void 0&&(S=!1),l.addEventListener(h.toString(),v,S);else if(l.attachEvent)l.attachEvent(QT(h.toString()),v);else if(l.addListener&&l.removeListener)l.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return f}function ij(){function l(f){return h.call(l.src,l.listener,f)}let h=oj;return l}function KT(l,h,f,v,S){if(Array.isArray(h)){for(var R=0;R<h.length;R++)KT(l,h[R],f,v,S);return null}return f=Rv(f),l&&l[ol]?l.L(h,f,u(v)?!!v.capture:!!v,S):WT(l,h,f,!0,v,S)}function YT(l,h,f,v,S){if(Array.isArray(h))for(var R=0;R<h.length;R++)YT(l,h[R],f,v,S);else v=u(v)?!!v.capture:!!v,f=Rv(f),l&&l[ol]?(l=l.i,h=String(h).toString(),h in l.g&&(R=l.g[h],f=Cv(R,f,v,S),-1<f&&(qd(R[f]),Array.prototype.splice.call(R,f,1),R.length==0&&(delete l.g[h],l.h--)))):l&&(l=Av(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Cv(h,f,v,S)),(f=-1<l?h[l]:null)&&Sv(f))}function Sv(l){if(typeof l!="number"&&l&&!l.da){var h=l.src;if(h&&h[ol])Iv(h.i,l);else{var f=l.type,v=l.proxy;h.removeEventListener?h.removeEventListener(f,v,l.capture):h.detachEvent?h.detachEvent(QT(f),v):h.addListener&&h.removeListener&&h.removeListener(v),(f=Av(h))?(Iv(f,l),f.h==0&&(f.src=null,h[Dv]=null)):qd(l)}}}function QT(l){return l in Tv?Tv[l]:Tv[l]="on"+l}function oj(l,h){if(l.da)l=!0;else{h=new il(h,this);var f=l.listener,v=l.ha||l.src;l.fa&&Sv(l),l=f.call(v,h)}return l}function Av(l){return l=l[Dv],l instanceof Gd?l:null}var xv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rv(l){return typeof l=="function"?l:(l[xv]||(l[xv]=function(h){return l.handleEvent(h)}),l[xv])}function Xt(){Li.call(this),this.i=new Gd(this),this.M=this,this.F=null}I(Xt,Li),Xt.prototype[ol]=!0,Xt.prototype.removeEventListener=function(l,h,f,v){YT(this,l,h,f,v)};function cn(l,h){var f,v=l.F;if(v)for(f=[];v;v=v.F)f.push(v);if(l=l.M,v=h.type||h,typeof h=="string")h=new Zt(h,l);else if(h instanceof Zt)h.target=h.target||l;else{var S=h;h=new Zt(v,l),C(h,S)}if(S=!0,f)for(var R=f.length-1;0<=R;R--){var V=h.g=f[R];S=Wd(V,v,!0,h)&&S}if(V=h.g=l,S=Wd(V,v,!0,h)&&S,S=Wd(V,v,!1,h)&&S,f)for(R=0;R<f.length;R++)V=h.g=f[R],S=Wd(V,v,!1,h)&&S}Xt.prototype.N=function(){if(Xt.aa.N.call(this),this.i){var l=this.i,h;for(h in l.g){for(var f=l.g[h],v=0;v<f.length;v++)qd(f[v]);delete l.g[h],l.h--}}this.F=null},Xt.prototype.K=function(l,h,f,v){return this.i.add(String(l),h,!1,f,v)},Xt.prototype.L=function(l,h,f,v){return this.i.add(String(l),h,!0,f,v)};function Wd(l,h,f,v){if(h=l.i.g[String(h)],!h)return!0;h=h.concat();for(var S=!0,R=0;R<h.length;++R){var V=h[R];if(V&&!V.da&&V.capture==f){var We=V.listener,$t=V.ha||V.src;V.fa&&Iv(l.i,V),S=We.call($t,v)!==!1&&S}}return S&&!v.defaultPrevented}function ZT(l,h,f){if(typeof l=="function")f&&(l=m(l,f));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function XT(l){l.g=ZT(()=>{l.g=null,l.i&&(l.i=!1,XT(l))},l.l);let h=l.h;l.h=null,l.m.apply(null,h)}class sj extends Li{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:XT(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sl(l){Li.call(this),this.h=l,this.g={}}I(sl,Li);var JT=[];function e0(l){De(l.g,function(h,f){this.g.hasOwnProperty(f)&&Sv(h)},l),l.g={}}sl.prototype.N=function(){sl.aa.N.call(this),e0(this)},sl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mv=a.JSON.stringify,aj=a.JSON.parse,cj=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function Nv(){}Nv.prototype.h=null;function t0(l){return l.h||(l.h=l.i())}function n0(){}var al={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function kv(){Zt.call(this,"d")}I(kv,Zt);function Ov(){Zt.call(this,"c")}I(Ov,Zt);var Ko={},r0=null;function Kd(){return r0=r0||new Xt}Ko.La="serverreachability";function i0(l){Zt.call(this,Ko.La,l)}I(i0,Zt);function cl(l){let h=Kd();cn(h,new i0(h))}Ko.STAT_EVENT="statevent";function o0(l,h){Zt.call(this,Ko.STAT_EVENT,l),this.stat=h}I(o0,Zt);function ln(l){let h=Kd();cn(h,new o0(h,l))}Ko.Ma="timingevent";function s0(l,h){Zt.call(this,Ko.Ma,l),this.size=h}I(s0,Zt);function ll(l,h){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function ul(){this.g=!0}ul.prototype.xa=function(){this.g=!1};function lj(l,h,f,v,S,R){l.info(function(){if(l.g)if(R)for(var V="",We=R.split("&"),$t=0;$t<We.length;$t++){var Re=We[$t].split("=");if(1<Re.length){var Jt=Re[0];Re=Re[1];var en=Jt.split("_");V=2<=en.length&&en[1]=="type"?V+(Jt+"="+Re+"&"):V+(Jt+"=redacted&")}}else V=null;else V=R;return"XMLHTTP REQ ("+v+") [attempt "+S+"]: "+h+`
`+f+`
`+V})}function uj(l,h,f,v,S,R,V){l.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+S+"]: "+h+`
`+f+`
`+R+" "+V})}function ma(l,h,f,v){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+hj(l,f)+(v?" "+v:"")})}function dj(l,h){l.info(function(){return"TIMEOUT: "+h})}ul.prototype.info=function(){};function hj(l,h){if(!l.g)return h;if(!h)return null;try{var f=JSON.parse(h);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var v=f[l];if(!(2>v.length)){var S=v[1];if(Array.isArray(S)&&!(1>S.length)){var R=S[0];if(R!="noop"&&R!="stop"&&R!="close")for(var V=1;V<S.length;V++)S[V]=""}}}}return Mv(f)}catch{return h}}var Yd={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},a0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Pv;function Qd(){}I(Qd,Nv),Qd.prototype.g=function(){return new XMLHttpRequest},Qd.prototype.i=function(){return{}},Pv=new Qd;function Vi(l,h,f,v){this.j=l,this.i=h,this.l=f,this.R=v||1,this.U=new sl(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new c0}function c0(){this.i=null,this.g="",this.h=!1}var l0={},Fv={};function Lv(l,h,f){l.L=1,l.v=eh(Xr(h)),l.m=f,l.P=!0,u0(l,null)}function u0(l,h){l.F=Date.now(),Zd(l),l.A=Xr(l.v);var f=l.A,v=l.R;Array.isArray(v)||(v=[String(v)]),C0(f.i,"t",v),l.C=0,f=l.j.J,l.h=new c0,l.g=$0(l.j,f?h:null,!l.m),0<l.O&&(l.M=new sj(m(l.Y,l,l.g),l.O)),h=l.U,f=l.g,v=l.ca;var S="readystatechange";Array.isArray(S)||(S&&(JT[0]=S.toString()),S=JT);for(var R=0;R<S.length;R++){var V=GT(f,S[R],v||h.handleEvent,!1,h.h||h);if(!V)break;h.g[V.key]=V}h=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),cl(),lj(l.i,l.u,l.A,l.l,l.R,l.m)}Vi.prototype.ca=function(l){l=l.target;let h=this.M;h&&Jr(l)==3?h.j():this.Y(l)},Vi.prototype.Y=function(l){try{if(l==this.g)e:{let en=Jr(this.g);var h=this.g.Ba();let _a=this.g.Z();if(!(3>en)&&(en!=3||this.g&&(this.h.h||this.g.oa()||M0(this.g)))){this.J||en!=4||h==7||(h==8||0>=_a?cl(3):cl(2)),Vv(this);var f=this.g.Z();this.X=f;t:if(d0(this)){var v=M0(this.g);l="";var S=v.length,R=Jr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yo(this),dl(this);var V="";break t}this.h.i=new a.TextDecoder}for(h=0;h<S;h++)this.h.h=!0,l+=this.h.i.decode(v[h],{stream:!(R&&h==S-1)});v.length=0,this.h.g+=l,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=f==200,uj(this.i,this.u,this.A,this.l,this.R,en,f),this.o){if(this.T&&!this.K){t:{if(this.g){var We,$t=this.g;if((We=$t.g?$t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(We)){var Re=We;break t}}Re=null}if(f=Re)ma(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jv(this,f);else{this.o=!1,this.s=3,ln(12),Yo(this),dl(this);break e}}if(this.P){f=!0;let rr;for(;!this.J&&this.C<V.length;)if(rr=fj(this,V),rr==Fv){en==4&&(this.s=4,ln(14),f=!1),ma(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==l0){this.s=4,ln(15),ma(this.i,this.l,V,"[Invalid Chunk]"),f=!1;break}else ma(this.i,this.l,rr,null),jv(this,rr);if(d0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),en!=4||V.length!=0||this.h.h||(this.s=1,ln(16),f=!1),this.o=this.o&&f,!f)ma(this.i,this.l,V,"[Invalid Chunked Response]"),Yo(this),dl(this);else if(0<V.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),qv(Jt),Jt.M=!0,ln(11))}}else ma(this.i,this.l,V,null),jv(this,V);en==4&&Yo(this),this.o&&!this.J&&(en==4?V0(this.j,this):(this.o=!1,Zd(this)))}else Rj(this.g),f==400&&0<V.indexOf("Unknown SID")?(this.s=3,ln(12)):(this.s=0,ln(13)),Yo(this),dl(this)}}}catch{}finally{}};function d0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function fj(l,h){var f=l.C,v=h.indexOf(`
`,f);return v==-1?Fv:(f=Number(h.substring(f,v)),isNaN(f)?l0:(v+=1,v+f>h.length?Fv:(h=h.slice(v,v+f),l.C=v+f,h)))}Vi.prototype.cancel=function(){this.J=!0,Yo(this)};function Zd(l){l.S=Date.now()+l.I,h0(l,l.I)}function h0(l,h){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ll(m(l.ba,l),h)}function Vv(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Vi.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(dj(this.i,this.A),this.L!=2&&(cl(),ln(17)),Yo(this),this.s=2,dl(this)):h0(this,this.S-l)};function dl(l){l.j.G==0||l.J||V0(l.j,l)}function Yo(l){Vv(l);var h=l.M;h&&typeof h.ma=="function"&&h.ma(),l.M=null,e0(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function jv(l,h){try{var f=l.j;if(f.G!=0&&(f.g==l||Bv(f.h,l))){if(!l.K&&Bv(f.h,l)&&f.G==3){try{var v=f.Da.g.parse(h)}catch{v=null}if(Array.isArray(v)&&v.length==3){var S=v;if(S[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)oh(f),rh(f);else break e;Hv(f),ln(18)}}else f.za=S[1],0<f.za-f.T&&37500>S[2]&&f.F&&f.v==0&&!f.C&&(f.C=ll(m(f.Za,f),6e3));if(1>=m0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Zo(f,11)}else if((l.K||f.g==l)&&oh(f),!H(h))for(S=f.Da.g.parse(h),h=0;h<S.length;h++){let Re=S[h];if(f.T=Re[0],Re=Re[1],f.G==2)if(Re[0]=="c"){f.K=Re[1],f.ia=Re[2];let Jt=Re[3];Jt!=null&&(f.la=Jt,f.j.info("VER="+f.la));let en=Re[4];en!=null&&(f.Aa=en,f.j.info("SVER="+f.Aa));let _a=Re[5];_a!=null&&typeof _a=="number"&&0<_a&&(v=1.5*_a,f.L=v,f.j.info("backChannelRequestTimeoutMs_="+v)),v=f;let rr=l.g;if(rr){let ah=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ah){var R=v.h;R.g||ah.indexOf("spdy")==-1&&ah.indexOf("quic")==-1&&ah.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(Uv(R,R.h),R.h=null))}if(v.D){let Gv=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Gv&&(v.ya=Gv,tt(v.I,v.D,Gv))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),v=f;var V=l;if(v.qa=U0(v,v.J?v.ia:null,v.W),V.K){g0(v.h,V);var We=V,$t=v.L;$t&&(We.I=$t),We.B&&(Vv(We),Zd(We)),v.g=V}else F0(v);0<f.i.length&&ih(f)}else Re[0]!="stop"&&Re[0]!="close"||Zo(f,7);else f.G==3&&(Re[0]=="stop"||Re[0]=="close"?Re[0]=="stop"?Zo(f,7):zv(f):Re[0]!="noop"&&f.l&&f.l.ta(Re),f.v=0)}}cl(4)}catch{}}var pj=class{constructor(l,h){this.g=l,this.map=h}};function f0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function p0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function m0(l){return l.h?1:l.g?l.g.size:0}function Bv(l,h){return l.h?l.h==h:l.g?l.g.has(h):!1}function Uv(l,h){l.g?l.g.add(h):l.h=h}function g0(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}f0.prototype.cancel=function(){if(this.i=v0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function v0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let h=l.i;for(let f of l.g.values())h=h.concat(f.D);return h}return x(l.i)}function mj(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var h=[],f=l.length,v=0;v<f;v++)h.push(l[v]);return h}h=[],f=0;for(v in l)h[f++]=l[v];return h}function gj(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var h=[];l=l.length;for(var f=0;f<l;f++)h.push(f);return h}h=[],f=0;for(let v in l)h[f++]=v;return h}}}function _0(l,h){if(l.forEach&&typeof l.forEach=="function")l.forEach(h,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,h,void 0);else for(var f=gj(l),v=mj(l),S=v.length,R=0;R<S;R++)h.call(void 0,v[R],f&&f[R],l)}var y0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vj(l,h){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var v=l[f].indexOf("="),S=null;if(0<=v){var R=l[f].substring(0,v);S=l[f].substring(v+1)}else R=l[f];h(R,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}function Qo(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Qo){this.h=l.h,Xd(this,l.j),this.o=l.o,this.g=l.g,Jd(this,l.s),this.l=l.l;var h=l.i,f=new pl;f.i=h.i,h.g&&(f.g=new Map(h.g),f.h=h.h),b0(this,f),this.m=l.m}else l&&(h=String(l).match(y0))?(this.h=!1,Xd(this,h[1]||"",!0),this.o=hl(h[2]||""),this.g=hl(h[3]||"",!0),Jd(this,h[4]),this.l=hl(h[5]||"",!0),b0(this,h[6]||"",!0),this.m=hl(h[7]||"")):(this.h=!1,this.i=new pl(null,this.h))}Qo.prototype.toString=function(){var l=[],h=this.j;h&&l.push(fl(h,E0,!0),":");var f=this.g;return(f||h=="file")&&(l.push("//"),(h=this.o)&&l.push(fl(h,E0,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(fl(f,f.charAt(0)=="/"?bj:yj,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",fl(f,wj)),l.join("")};function Xr(l){return new Qo(l)}function Xd(l,h,f){l.j=f?hl(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function Jd(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function b0(l,h,f){h instanceof pl?(l.i=h,Ij(l.i,l.h)):(f||(h=fl(h,Ej)),l.i=new pl(h,l.h))}function tt(l,h,f){l.i.set(h,f)}function eh(l){return tt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function hl(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function fl(l,h,f){return typeof l=="string"?(l=encodeURI(l).replace(h,_j),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _j(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var E0=/[#\/\?@]/g,yj=/[#\?:]/g,bj=/[#\?]/g,Ej=/[#\?@]/g,wj=/#/g;function pl(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function ji(l){l.g||(l.g=new Map,l.h=0,l.i&&vj(l.i,function(h,f){l.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}n=pl.prototype,n.add=function(l,h){ji(this),this.i=null,l=ga(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(h),this.h+=1,this};function w0(l,h){ji(l),h=ga(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function I0(l,h){return ji(l),h=ga(l,h),l.g.has(h)}n.forEach=function(l,h){ji(this),this.g.forEach(function(f,v){f.forEach(function(S){l.call(h,S,v,this)},this)},this)},n.na=function(){ji(this);let l=Array.from(this.g.values()),h=Array.from(this.g.keys()),f=[];for(let v=0;v<h.length;v++){let S=l[v];for(let R=0;R<S.length;R++)f.push(h[v])}return f},n.V=function(l){ji(this);let h=[];if(typeof l=="string")I0(this,l)&&(h=h.concat(this.g.get(ga(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)h=h.concat(l[f])}return h},n.set=function(l,h){return ji(this),this.i=null,l=ga(this,l),I0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l?(l=this.V(l),0<l.length?String(l[0]):h):h};function C0(l,h,f){w0(l,h),0<f.length&&(l.i=null,l.g.set(ga(l,h),x(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],h=Array.from(this.g.keys());for(var f=0;f<h.length;f++){var v=h[f];let R=encodeURIComponent(String(v)),V=this.V(v);for(v=0;v<V.length;v++){var S=R;V[v]!==""&&(S+="="+encodeURIComponent(String(V[v]))),l.push(S)}}return this.i=l.join("&")};function ga(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function Ij(l,h){h&&!l.j&&(ji(l),l.i=null,l.g.forEach(function(f,v){var S=v.toLowerCase();v!=S&&(w0(this,v),C0(this,S,f))},l)),l.j=h}function Cj(l,h){let f=new ul;if(a.Image){let v=new Image;v.onload=g(Bi,f,"TestLoadImage: loaded",!0,h,v),v.onerror=g(Bi,f,"TestLoadImage: error",!1,h,v),v.onabort=g(Bi,f,"TestLoadImage: abort",!1,h,v),v.ontimeout=g(Bi,f,"TestLoadImage: timeout",!1,h,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=l}else h(!1)}function Dj(l,h){let f=new ul,v=new AbortController,S=setTimeout(()=>{v.abort(),Bi(f,"TestPingServer: timeout",!1,h)},1e4);fetch(l,{signal:v.signal}).then(R=>{clearTimeout(S),R.ok?Bi(f,"TestPingServer: ok",!0,h):Bi(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(S),Bi(f,"TestPingServer: error",!1,h)})}function Bi(l,h,f,v,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),v(f)}catch{}}function Tj(){this.g=new cj}function Sj(l,h,f){let v=f||"";try{_0(l,function(S,R){let V=S;u(S)&&(V=Mv(S)),h.push(v+R+"="+encodeURIComponent(V))})}catch(S){throw h.push(v+"type="+encodeURIComponent("_badmap")),S}}function ml(l){this.l=l.Ub||null,this.j=l.eb||!1}I(ml,Nv),ml.prototype.g=function(){return new th(this.l,this.j)},ml.prototype.i=(function(l){return function(){return l}})({});function th(l,h){Xt.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(th,Xt),n=th.prototype,n.open=function(l,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,vl(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gl(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,vl(this)),this.g&&(this.readyState=3,vl(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;D0(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function D0(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?gl(this):vl(this),this.readyState==3&&D0(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,gl(this))},n.Qa=function(l){this.g&&(this.response=l,gl(this))},n.ga=function(){this.g&&gl(this)};function gl(l){l.readyState=4,l.l=null,l.j=null,l.v=null,vl(l)}n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=h.next();return l.join(`\r
`)};function vl(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(th.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function T0(l){let h="";return De(l,function(f,v){h+=v,h+=":",h+=f,h+=`\r
`}),h}function $v(l,h,f){e:{for(v in f){var v=!1;break e}v=!0}v||(f=T0(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):tt(l,h,f))}function ut(l){Xt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(ut,Xt);var Aj=/^https?$/i,xj=["POST","PUT"];n=ut.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,h,f,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pv.g(),this.v=this.o?t0(this.o):t0(Pv),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(R){S0(this,R);return}if(l=f||"",f=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var S in v)f.set(S,v[S]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let R of v.keys())f.set(R,v.get(R));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(f.keys()).find(R=>R.toLowerCase()=="content-type"),S=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(xj,h,void 0))||v||S||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[R,V]of f)this.g.setRequestHeader(R,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{R0(this),this.u=!0,this.g.send(l),this.u=!1}catch(R){S0(this,R)}};function S0(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,A0(l),nh(l)}function A0(l){l.A||(l.A=!0,cn(l,"complete"),cn(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,cn(this,"complete"),cn(this,"abort"),nh(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nh(this,!0)),ut.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?x0(this):this.bb())},n.bb=function(){x0(this)};function x0(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Jr(l)!=4||l.Z()!=2)){if(l.u&&Jr(l)==4)ZT(l.Ea,0,l);else if(cn(l,"readystatechange"),Jr(l)==4){l.h=!1;try{let V=l.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var v;if(v=V===0){var S=String(l.D).match(y0)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),v=!Aj.test(S?S.toLowerCase():"")}f=v}if(f)cn(l,"complete"),cn(l,"success");else{l.m=6;try{var R=2<Jr(l)?l.g.statusText:""}catch{R=""}l.l=R+" ["+l.Z()+"]",A0(l)}}finally{nh(l)}}}}function nh(l,h){if(l.g){R0(l);let f=l.g,v=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||cn(l,"ready");try{f.onreadystatechange=v}catch{}}}function R0(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Jr(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Jr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&h.indexOf(l)==0&&(h=h.substring(l.length)),aj(h)}};function M0(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function Rj(l){let h={};l=(l.g&&2<=Jr(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<l.length;v++){if(H(l[v]))continue;var f=T(l[v]);let S=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let R=h[S]||[];h[S]=R,R.push(f)}D(h,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _l(l,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||h}function N0(l){this.Aa=0,this.i=[],this.j=new ul,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_l("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_l("baseRetryDelayMs",5e3,l),this.cb=_l("retryDelaySeedMs",1e4,l),this.Wa=_l("forwardChannelMaxRetries",2,l),this.wa=_l("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new f0(l&&l.concurrentRequestLimit),this.Da=new Tj,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=N0.prototype,n.la=8,n.G=1,n.connect=function(l,h,f,v){ln(0),this.W=l,this.H=h||{},f&&v!==void 0&&(this.H.OSID=f,this.H.OAID=v),this.F=this.X,this.I=U0(this,null,this.W),ih(this)};function zv(l){if(k0(l),l.G==3){var h=l.U++,f=Xr(l.I);if(tt(f,"SID",l.K),tt(f,"RID",h),tt(f,"TYPE","terminate"),yl(l,f),h=new Vi(l,l.j,h),h.L=2,h.v=eh(Xr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=h.v,f=!0),f||(h.g=$0(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Zd(h)}B0(l)}function rh(l){l.g&&(qv(l),l.g.cancel(),l.g=null)}function k0(l){rh(l),l.u&&(a.clearTimeout(l.u),l.u=null),oh(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function ih(l){if(!p0(l.h)&&!l.s){l.s=!0;var h=l.Ga;nl||qT(),rl||(nl(),rl=!0),wv.add(h,l),l.B=0}}function Mj(l,h){return m0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=h.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ll(m(l.Ga,l,h),j0(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let S=new Vi(this,this.j,l),R=this.o;if(this.S&&(R?(R=b(R),C(R,this.S)):R=this.S),this.m!==null||this.O||(S.H=R,R=null),this.P)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var v=this.i[f];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(h+=v,4096<h){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=P0(this,S,h),f=Xr(this.I),tt(f,"RID",l),tt(f,"CVER",22),this.D&&tt(f,"X-HTTP-Session-Id",this.D),yl(this,f),R&&(this.O?h="headers="+encodeURIComponent(String(T0(R)))+"&"+h:this.m&&$v(f,this.m,R)),Uv(this.h,S),this.Ua&&tt(f,"TYPE","init"),this.P?(tt(f,"$req",h),tt(f,"SID","null"),S.T=!0,Lv(S,f,null)):Lv(S,f,h),this.G=2}}else this.G==3&&(l?O0(this,l):this.i.length==0||p0(this.h)||O0(this))};function O0(l,h){var f;h?f=h.l:f=l.U++;let v=Xr(l.I);tt(v,"SID",l.K),tt(v,"RID",f),tt(v,"AID",l.T),yl(l,v),l.m&&l.o&&$v(v,l.m,l.o),f=new Vi(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),h&&(l.i=h.D.concat(l.i)),h=P0(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Uv(l.h,f),Lv(f,v,h)}function yl(l,h){l.H&&De(l.H,function(f,v){tt(h,v,f)}),l.l&&_0({},function(f,v){tt(h,v,f)})}function P0(l,h,f){f=Math.min(l.i.length,f);var v=l.l?m(l.l.Na,l.l,l):null;e:{var S=l.i;let R=-1;for(;;){let V=["count="+f];R==-1?0<f?(R=S[0].g,V.push("ofs="+R)):R=0:V.push("ofs="+R);let We=!0;for(let $t=0;$t<f;$t++){let Re=S[$t].g,Jt=S[$t].map;if(Re-=R,0>Re)R=Math.max(0,S[$t].g-100),We=!1;else try{Sj(Jt,V,"req"+Re+"_")}catch{v&&v(Jt)}}if(We){v=V.join("&");break e}}}return l=l.i.splice(0,f),h.D=l,v}function F0(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;nl||qT(),rl||(nl(),rl=!0),wv.add(h,l),l.v=0}}function Hv(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ll(m(l.Fa,l),j0(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,L0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ll(m(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ln(10),rh(this),L0(this))};function qv(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function L0(l){l.g=new Vi(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var h=Xr(l.qa);tt(h,"RID","rpc"),tt(h,"SID",l.K),tt(h,"AID",l.T),tt(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&tt(h,"TO",l.ja),tt(h,"TYPE","xmlhttp"),yl(l,h),l.m&&l.o&&$v(h,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=eh(Xr(h)),f.m=null,f.P=!0,u0(f,l)}n.Za=function(){this.C!=null&&(this.C=null,rh(this),Hv(this),ln(19))};function oh(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function V0(l,h){var f=null;if(l.g==h){oh(l),qv(l),l.g=null;var v=2}else if(Bv(l.h,h))f=h.D,g0(l.h,h),v=1;else return;if(l.G!=0){if(h.o)if(v==1){f=h.m?h.m.length:0,h=Date.now()-h.F;var S=l.B;v=Kd(),cn(v,new s0(v,f)),ih(l)}else F0(l);else if(S=h.s,S==3||S==0&&0<h.X||!(v==1&&Mj(l,h)||v==2&&Hv(l)))switch(f&&0<f.length&&(h=l.h,h.i=h.i.concat(f)),S){case 1:Zo(l,5);break;case 4:Zo(l,10);break;case 3:Zo(l,6);break;default:Zo(l,2)}}}function j0(l,h){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*h}function Zo(l,h){if(l.j.info("Error code "+h),h==2){var f=m(l.fb,l),v=l.Xa;let S=!v;v=new Qo(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Xd(v,"https"),eh(v),S?Cj(v.toString(),f):Dj(v.toString(),f)}else ln(2);l.G=0,l.l&&l.l.sa(h),B0(l),k0(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ln(2)):(this.j.info("Failed to ping google.com"),ln(1))};function B0(l){if(l.G=0,l.ka=[],l.l){let h=v0(l.h);(h.length!=0||l.i.length!=0)&&(M(l.ka,h),M(l.ka,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.ra()}}function U0(l,h,f){var v=f instanceof Qo?Xr(f):new Qo(f);if(v.g!="")h&&(v.g=h+"."+v.g),Jd(v,v.s);else{var S=a.location;v=S.protocol,h=h?h+"."+S.hostname:S.hostname,S=+S.port;var R=new Qo(null);v&&Xd(R,v),h&&(R.g=h),S&&Jd(R,S),f&&(R.l=f),v=R}return f=l.D,h=l.ya,f&&h&&tt(v,f,h),tt(v,"VER",l.la),yl(l,v),v}function $0(l,h,f){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=l.Ca&&!l.pa?new ut(new ml({eb:f})):new ut(l.pa),h.Ha(l.J),h}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function z0(){}n=z0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function sh(){}sh.prototype.g=function(l,h){return new Sn(l,h)};function Sn(l,h){Xt.call(this),this.g=new N0(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!H(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!H(h)&&(this.g.D=h,l=this.h,l!==null&&h in l&&(l=this.h,h in l&&delete l[h])),this.j=new va(this)}I(Sn,Xt),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){zv(this.g)},Sn.prototype.o=function(l){var h=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Mv(l),l=f);h.i.push(new pj(h.Ya++,l)),h.G==3&&ih(h)},Sn.prototype.N=function(){this.g.l=null,delete this.j,zv(this.g),delete this.g,Sn.aa.N.call(this)};function H0(l){kv.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(let f in h){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,h=h!==null&&l in h?h[l]:void 0),this.data=h}else this.data=l}I(H0,kv);function q0(){Ov.call(this),this.status=1}I(q0,Ov);function va(l){this.g=l}I(va,z0),va.prototype.ua=function(){cn(this.g,"a")},va.prototype.ta=function(l){cn(this.g,new H0(l))},va.prototype.sa=function(l){cn(this.g,new q0)},va.prototype.ra=function(){cn(this.g,"b")},sh.prototype.createWebChannel=sh.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,mI=Si.createWebChannelTransport=function(){return new sh},pI=Si.getStatEventTarget=function(){return Kd()},fI=Si.Event=Ko,Tm=Si.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Yd.NO_ERROR=0,Yd.TIMEOUT=8,Yd.HTTP_ERROR=6,Xu=Si.ErrorCode=Yd,a0.COMPLETE="complete",hI=Si.EventType=a0,n0.EventType=al,al.OPEN="a",al.CLOSE="b",al.ERROR="c",al.MESSAGE="d",Xt.prototype.listen=Xt.prototype.K,wc=Si.WebChannel=n0,n6=Si.FetchXmlHttpFactory=ml,ut.prototype.listenOnce=ut.prototype.L,ut.prototype.getLastError=ut.prototype.Ka,ut.prototype.getLastErrorCode=ut.prototype.Ba,ut.prototype.getStatus=ut.prototype.Z,ut.prototype.getResponseJson=ut.prototype.Oa,ut.prototype.getResponseText=ut.prototype.oa,ut.prototype.send=ut.prototype.ea,ut.prototype.setWithCredentials=ut.prototype.Ha,dI=Si.XhrIo=ut}).apply(typeof Dm<"u"?Dm:typeof self<"u"?self:typeof window<"u"?window:{});var gO="@firebase/firestore",vO="4.8.0";var Bt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");var zc="11.10.0";var Xs=new Yn("@firebase/firestore");function Ic(){return Xs.logLevel}function U(n,...e){if(Xs.logLevel<=we.DEBUG){let t=e.map(sD);Xs.debug(`Firestore (${zc}): ${n}`,...t)}}function Ri(n,...e){if(Xs.logLevel<=we.ERROR){let t=e.map(sD);Xs.error(`Firestore (${zc}): ${n}`,...t)}}function Fo(n,...e){if(Xs.logLevel<=we.WARN){let t=e.map(sD);Xs.warn(`Firestore (${zc}): ${n}`,...t)}}function sD(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function ne(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,uP(n,r,t)}function uP(n,e,t){let r=`FIRESTORE (${zc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw Ri(r),new Error(r)}function Le(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||uP(e,i,r)}function de(n,e){return n}var N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Kt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Ai=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var km=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},bI=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bt.UNAUTHENTICATED))}shutdown(){}},EI=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},wI=class{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Le(this.o===void 0,42304);let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),o=new Ai;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ai,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let c=o;e.enqueueRetryable(()=>y(this,null,function*(){yield c.promise,yield i(this.currentUser)}))},a=c=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ai)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Le(typeof r.accessToken=="string",31837,{l:r}),new km(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Le(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}},II=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},CI=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new II(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Om=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},DI=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Fn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Le(this.o===void 0,3512);let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Om(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Le(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Om(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function r6(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function dP(){return new TextEncoder}var id=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=r6(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function be(n,e){return n<e?-1:n>e?1:0}function TI(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return be(r,i);{let o=dP(),s=i6(o.encode(_O(n,t)),o.encode(_O(e,t)));return s!==0?s:be(r,i)}}t+=r>65535?2:1}return be(n.length,e.length)}function _O(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function i6(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return be(n[t],e[t]);return be(n.length,e.length)}function Mc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var yO="__name__",Pm=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&ne(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return be(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):TI(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}},ct=class n extends Pm{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new j(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},o6=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Vn=class n extends Pm{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return o6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yO}static keyField(){return new n([yO])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new j(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new j(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new j(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(ct.fromString(e))}static fromName(e){return new n(ct.fromString(e).popFirst(5))}static empty(){return new n(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ct(e.slice()))}};function hP(n,e,t){if(!t)throw new j(N.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function s6(n,e,t,r){if(e===!0&&r===!0)throw new j(N.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function bO(n){if(!X.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EO(n){if(X.isDocumentKey(n))throw new j(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fP(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function hg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne(12329,{type:typeof n})}function Mo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new j(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=hg(n);throw new j(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xt(n,e){let t={typeString:n};return e&&(t.value=e),t}function gd(n,e){if(!fP(n))throw new j(N.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new j(N.INVALID_ARGUMENT,t);return!0}var wO=-62135596800,IO=1e6,Rt=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*IO);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<wO)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IO}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gd(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-wO;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Rt._jsonSchemaVersion="firestore/timestamp/1.0",Rt._jsonSchema={type:xt("string",Rt._jsonSchemaVersion),seconds:xt("number"),nanoseconds:xt("number")};var pe=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Rt(0,0))}static max(){return new n(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var od=-1,SI=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};SI.UNKNOWN_ID=-1;function a6(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=pe.fromTimestamp(r===1e9?new Rt(t+1,0):new Rt(t,r));return new Js(i,X.empty(),e)}function c6(n){return new Js(n.readTime,n.key,od)}var Js=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(pe.min(),X.empty(),od)}static max(){return new n(pe.max(),X.empty(),od)}};function l6(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:be(n.largestBatchId,e.largestBatchId))}var u6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",AI=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Hc(n){return y(this,null,function*(){if(n.code!==N.FAILED_PRECONDITION||n.message!==u6)throw n;U("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},c=>r(c))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let c=0;c<o;c++){let u=c;t(e[u]).next(d=>{s[u]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function d6(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function qc(n){return n.name==="IndexedDbTransactionError"}var aD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),cD=-1;function fg(n){return n==null}function sd(n){return n===0&&1/n==-1/0}function h6(n){return typeof n=="number"&&Number.isInteger(n)&&!sd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var pP="";function f6(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=CO(e)),e=p6(n.get(t),e);return CO(e)}function p6(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case pP:t+="";break;default:t+=o}}return t}function CO(n){return n+pP+""}var m6="remoteDocuments",mP="owner";var gP="mutationQueues";var vP="mutations";var _P="documentMutations",g6="remoteDocumentsV14";var yP="remoteDocumentGlobal";var bP="targets";var EP="targetDocuments";var wP="targetGlobal",IP="collectionParents";var CP="clientMetadata";var DP="bundles";var TP="namedQueries";var v6="indexConfiguration";var _6="indexState";var y6="indexEntries";var SP="documentOverlays";var b6="globals";var E6=[gP,vP,_P,m6,bP,mP,wP,EP,CP,yP,IP,DP,TP],xve=[...E6,SP],w6=[gP,vP,_P,g6,bP,mP,wP,EP,CP,yP,IP,DP,TP,SP],I6=w6,C6=[...I6,v6,_6,y6];var Rve=[...C6,b6];function DO(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $o(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function AP(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ht=class n{constructor(e,t){this.comparator=e,this.root=t||zr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,zr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,zr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sc(this.root,e,this.comparator,!0)}},Sc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ne(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw ne(27949);return e+(this.isRed()?0:1)}};zr.EMPTY=null,zr.RED=!0,zr.BLACK=!1;zr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne(57766)}get value(){throw ne(16141)}get color(){throw ne(16727)}get left(){throw ne(29726)}get right(){throw ne(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new zr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ut=class n{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Fm(this.data.getIterator())}getIteratorFrom(e){return new Fm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Fm=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Xn=class n{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ut(Vn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Mc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Lm=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var an=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Lm("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};an.EMPTY_BYTE_STRING=new an("");var D6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(n){if(Le(!!n,39018),typeof n=="string"){let e=0,t=D6.exec(n);if(Le(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(n.seconds),nanos:at(n.nanos)}}function at(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ni(n){return typeof n=="string"?an.fromBase64String(n):an.fromUint8Array(n)}var xP="server_timestamp",RP="__type__",MP="__previous_value__",NP="__local_write_time__";function lD(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[RP])===null||t===void 0?void 0:t.stringValue)===xP}function pg(n){let e=n.mapValue.fields[MP];return lD(e)?pg(e):e}function ad(n){let e=Mi(n.mapValue.fields[NP].timestampValue);return new Rt(e.seconds,e.nanos)}var xI=class{constructor(e,t,r,i,o,s,a,c,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=d}},Vm="(default)",jm=class n{constructor(e,t){this.projectId=e,this.database=t||Vm}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===Vm}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var uD="__type__",kP="__max__",Sm={mapValue:{fields:{__type__:{stringValue:kP}}}},dD="__vector__",Nc="value";function Lo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lD(n)?4:PP(n)?9007199254740991:OP(n)?10:11:ne(28295,{value:n})}function Gr(n,e){if(n===e)return!0;let t=Lo(n);if(t!==Lo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ad(n).isEqual(ad(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Mi(i.timestampValue),a=Mi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return Ni(i.bytesValue).isEqual(Ni(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return at(i.geoPointValue.latitude)===at(o.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return at(i.integerValue)===at(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=at(i.doubleValue),a=at(o.doubleValue);return s===a?sd(s)===sd(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Mc(n.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(DO(s)!==DO(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!Gr(s[c],a[c])))return!1;return!0})(n,e);default:return ne(52216,{left:n})}}function cd(n,e){return(n.values||[]).find(t=>Gr(t,e))!==void 0}function kc(n,e){if(n===e)return 0;let t=Lo(n),r=Lo(e);if(t!==r)return be(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return be(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=at(o.integerValue||o.doubleValue),c=at(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1})(n,e);case 3:return TO(n.timestampValue,e.timestampValue);case 4:return TO(ad(n),ad(e));case 5:return TI(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=Ni(o),c=Ni(s);return a.compareTo(c)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let d=be(a[u],c[u]);if(d!==0)return d}return be(a.length,c.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=be(at(o.latitude),at(s.latitude));return a!==0?a:be(at(o.longitude),at(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return SO(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,c,u,d;let p=o.fields||{},m=s.fields||{},g=(a=p[Nc])===null||a===void 0?void 0:a.arrayValue,I=(c=m[Nc])===null||c===void 0?void 0:c.arrayValue,x=be(((u=g?.values)===null||u===void 0?void 0:u.length)||0,((d=I?.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:SO(g,I)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Sm.mapValue&&s===Sm.mapValue)return 0;if(o===Sm.mapValue)return 1;if(s===Sm.mapValue)return-1;let a=o.fields||{},c=Object.keys(a),u=s.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let p=0;p<c.length&&p<d.length;++p){let m=TI(c[p],d[p]);if(m!==0)return m;let g=kc(a[c[p]],u[d[p]]);if(g!==0)return g}return be(c.length,d.length)})(n.mapValue,e.mapValue);default:throw ne(23264,{le:t})}}function TO(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return be(n,e);let t=Mi(n),r=Mi(e),i=be(t.seconds,r.seconds);return i!==0?i:be(t.nanos,r.nanos)}function SO(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=kc(t[i],r[i]);if(o)return o}return be(t.length,r.length)}function Oc(n){return RI(n)}function RI(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=Mi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ni(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return X.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=RI(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${RI(t.fields[s])}`;return i+"}"})(n.mapValue):ne(61005,{value:n})}function Rm(n){switch(Lo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=pg(n);return e?16+Rm(e):16;case 5:return 2*n.stringValue.length;case 6:return Ni(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+Rm(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return $o(r.fields,(o,s)=>{i+=o.length+Rm(s)}),i})(n.mapValue);default:throw ne(13486,{value:n})}}function AO(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function MI(n){return!!n&&"integerValue"in n}function hD(n){return!!n&&"arrayValue"in n}function xO(n){return!!n&&"nullValue"in n}function RO(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Mm(n){return!!n&&"mapValue"in n}function OP(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[uD])===null||t===void 0?void 0:t.stringValue)===dD}function ed(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return $o(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ed(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ed(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===kP}var Nve={mapValue:{fields:{[uD]:{stringValue:dD},[Nc]:{arrayValue:{}}}}};var Ln=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Mm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ed(t)}setAll(e){let t=Vn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ed(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Mm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Mm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){$o(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ed(this.value))}};function FP(n){let e=[];return $o(n.fields,(t,r)=>{let i=new Vn([t]);if(Mm(r)){let o=FP(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Xn(e)}var br=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,pe.min(),pe.min(),pe.min(),Ln.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,pe.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,pe.min(),pe.min(),Ln.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,pe.min(),pe.min(),Ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Pc=class{constructor(e,t){this.position=e,this.inclusive=t}};function MO(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=kc(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function NO(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gr(n.position[t],e.position[t]))return!1;return!0}var ea=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function T6(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Bm=class{},At=class n extends Bm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new kI(e,t,r):t==="array-contains"?new FI(e,r):t==="in"?new LI(e,r):t==="not-in"?new VI(e,r):t==="array-contains-any"?new jI(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new OI(e,r):new PI(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(kc(t,this.value)):t!==null&&Lo(this.value)===Lo(t)&&this.matchesComparison(kc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Er=class n extends Bm{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return LP(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function LP(n){return n.op==="and"}function VP(n){return S6(n)&&LP(n)}function S6(n){for(let e of n.filters)if(e instanceof Er)return!1;return!0}function NI(n){if(n instanceof At)return n.field.canonicalString()+n.op.toString()+Oc(n.value);if(VP(n))return n.filters.map(e=>NI(e)).join(",");{let e=n.filters.map(t=>NI(t)).join(",");return`${n.op}(${e})`}}function jP(n,e){return n instanceof At?(function(r,i){return i instanceof At&&r.op===i.op&&r.field.isEqual(i.field)&&Gr(r.value,i.value)})(n,e):n instanceof Er?(function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&jP(s,i.filters[a]),!0):!1})(n,e):void ne(19439)}function BP(n){return n instanceof At?(function(t){return`${t.field.canonicalString()} ${t.op} ${Oc(t.value)}`})(n):n instanceof Er?(function(t){return t.op.toString()+" {"+t.getFilters().map(BP).join(" ,")+"}"})(n):"Filter"}var kI=class extends At{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},OI=class extends At{constructor(e,t){super(e,"in",t),this.keys=UP("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},PI=class extends At{constructor(e,t){super(e,"not-in",t),this.keys=UP("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function UP(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var FI=class extends At{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return hD(t)&&cd(t.arrayValue,this.value)}},LI=class extends At{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&cd(this.value.arrayValue,t)}},VI=class extends At{constructor(e,t){super(e,"not-in",t)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!cd(this.value.arrayValue,t)}},jI=class extends At{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!hD(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}};var BI=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function kO(n,e=null,t=[],r=[],i=null,o=null,s=null){return new BI(n,e,t,r,i,o,s)}function fD(n){let e=de(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>NI(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),fg(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Oc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Oc(r)).join(",")),e.Pe=t}return e.Pe}function pD(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!T6(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!NO(n.startAt,e.startAt)&&NO(n.endAt,e.endAt)}function UI(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Vo=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=c,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function A6(n,e,t,r,i,o,s,a){return new Vo(n,e,t,r,i,o,s,a)}function mD(n){return new Vo(n)}function OO(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function $P(n){return n.collectionGroup!==null}function td(n){let e=de(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ut(Vn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new ea(o,r))}),t.has(Vn.keyField().canonicalString())||e.Te.push(new ea(Vn.keyField(),r))}return e.Te}function Hr(n){let e=de(n);return e.Ie||(e.Ie=x6(e,td(n))),e.Ie}function x6(n,e){if(n.limitType==="F")return kO(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ea(i.field,o)});let t=n.endAt?new Pc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Pc(n.startAt.position,n.startAt.inclusive):null;return kO(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function $I(n,e){let t=n.filters.concat([e]);return new Vo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function zI(n,e,t){return new Vo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mg(n,e){return pD(Hr(n),Hr(e))&&n.limitType===e.limitType}function zP(n){return`${fD(Hr(n))}|lt:${n.limitType}`}function Cc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>BP(i)).join(", ")}]`),fg(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Oc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Oc(i)).join(",")),`Target(${r})`})(Hr(n))}; limitType=${n.limitType})`}function gg(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of td(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,c){let u=MO(s,a,c);return s.inclusive?u<=0:u<0})(r.startAt,td(r),i)||r.endAt&&!(function(s,a,c){let u=MO(s,a,c);return s.inclusive?u>=0:u>0})(r.endAt,td(r),i))})(n,e)}function R6(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HP(n){return(e,t)=>{let r=!1;for(let i of td(n)){let o=M6(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function M6(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):(function(o,s,a){let c=s.data.field(o),u=a.data.field(o);return c!==null&&u!==null?kc(c,u):ne(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne(19790,{direction:n.dir})}}var ki=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return AP(this.inner)}size(){return this.innerSize}};var N6=new ht(X.comparator);function Oi(){return N6}var qP=new ht(X.comparator);function Ju(...n){let e=qP;for(let t of n)e=e.insert(t.key,t);return e}function GP(n){let e=qP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ks(){return nd()}function WP(){return nd()}function nd(){return new ki(n=>n.toString(),(n,e)=>n.isEqual(e))}var k6=new ht(X.comparator),O6=new Ut(X.comparator);function Ce(...n){let e=O6;for(let t of n)e=e.add(t);return e}var P6=new Ut(be);function F6(){return P6}function gD(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sd(e)?"-0":e}}function KP(n){return{integerValue:""+n}}function L6(n,e){return h6(e)?KP(e):gD(n,e)}var Fc=class{constructor(){this._=void 0}};function V6(n,e,t){return n instanceof Lc?(function(i,o){let s={fields:{[RP]:{stringValue:xP},[NP]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&lD(o)&&(o=pg(o)),o&&(s.fields[MP]=o),{mapValue:s}})(t,e):n instanceof ta?QP(n,e):n instanceof na?ZP(n,e):(function(i,o){let s=YP(i,o),a=PO(s)+PO(i.Ee);return MI(s)&&MI(i.Ee)?KP(a):gD(i.serializer,a)})(n,e)}function j6(n,e,t){return n instanceof ta?QP(n,e):n instanceof na?ZP(n,e):t}function YP(n,e){return n instanceof Vc?(function(r){return MI(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Lc=class extends Fc{},ta=class extends Fc{constructor(e){super(),this.elements=e}};function QP(n,e){let t=XP(e);for(let r of n.elements)t.some(i=>Gr(i,r))||t.push(r);return{arrayValue:{values:t}}}var na=class extends Fc{constructor(e){super(),this.elements=e}};function ZP(n,e){let t=XP(e);for(let r of n.elements)t=t.filter(i=>!Gr(i,r));return{arrayValue:{values:t}}}var Vc=class extends Fc{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function PO(n){return at(n.integerValue||n.doubleValue)}function XP(n){return hD(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function B6(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof ta&&i instanceof ta||r instanceof na&&i instanceof na?Mc(r.elements,i.elements,Gr):r instanceof Vc&&i instanceof Vc?Gr(r.Ee,i.Ee):r instanceof Lc&&i instanceof Lc})(n.transform,e.transform)}var HI=class{constructor(e,t){this.version=e,this.transformResults=t}},xi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Nm(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var jc=class{};function JP(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new ld(n.key,xi.none()):new ra(n.key,n.data,xi.none());{let t=n.data,r=Ln.empty(),i=new Ut(Vn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wr(n.key,r,new Xn(i.toArray()),xi.none())}}function U6(n,e,t){n instanceof ra?(function(i,o,s){let a=i.value.clone(),c=LO(i.fieldTransforms,o,s.transformResults);a.setAll(c),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Wr?(function(i,o,s){if(!Nm(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=LO(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(e1(i)),c.setAll(a),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function rd(n,e,t,r){return n instanceof ra?(function(o,s,a,c){if(!Nm(o.precondition,s))return a;let u=o.value.clone(),d=VO(o.fieldTransforms,c,s);return u.setAll(d),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null})(n,e,t,r):n instanceof Wr?(function(o,s,a,c){if(!Nm(o.precondition,s))return a;let u=VO(o.fieldTransforms,c,s),d=s.data;return d.setAll(e1(o)),d.setAll(u),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return Nm(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function $6(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=YP(r.transform,i||null);o!=null&&(t===null&&(t=Ln.empty()),t.set(r.field,o))}return t||null}function FO(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mc(r,i,(o,s)=>B6(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ra=class extends jc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wr=class extends jc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function e1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function LO(n,e,t){let r=new Map;Le(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,j6(s,a,t[i]))}return r}function VO(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,V6(o,s,e))}return r}var ld=class extends jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},qI=class extends jc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var GI=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&U6(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=rd(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=rd(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=WP();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let c=JP(s,a);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Mc(this.mutations,e.mutations,(t,r)=>FO(t,r))&&Mc(this.baseMutations,e.baseMutations,(t,r)=>FO(t,r))}},WI=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return k6})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var KI=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var YI=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Tt,Se;function z6(n){switch(n){case N.OK:return ne(64938);case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0;default:return ne(15467,{code:n})}}function t1(n){if(n===void 0)return Ri("GRPC error has no .code"),N.UNKNOWN;switch(n){case Tt.OK:return N.OK;case Tt.CANCELLED:return N.CANCELLED;case Tt.UNKNOWN:return N.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return N.INTERNAL;case Tt.UNAVAILABLE:return N.UNAVAILABLE;case Tt.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Tt.NOT_FOUND:return N.NOT_FOUND;case Tt.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Tt.ABORTED:return N.ABORTED;case Tt.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Tt.DATA_LOSS:return N.DATA_LOSS;default:return ne(39323,{code:n})}}(Se=Tt||(Tt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";var jO=null;var H6=new Ti([4294967295,4294967295],0);function BO(n){let e=dP().encode(n),t=new uI;return t.update(e),new Uint8Array(t.digest())}function UO(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ti([t,r],0),new Ti([i,o],0)]}var QI=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ys(`Invalid padding: ${t}`);if(r<0)throw new Ys(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ys(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Ys(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=Ti.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(Ti.fromNumber(r)));return i.compare(H6)===1&&(i=new Ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=BO(e),[r,i]=UO(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=BO(e),[r,i]=UO(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Ys=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Um=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,ud.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(pe.min(),i,new ht(be),Oi(),Ce())}},ud=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ce(),Ce(),Ce())}};var Ac=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},$m=class{constructor(e,t){this.targetId=e,this.De=t}},zm=class{constructor(e,t,r=an.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Hm=class{constructor(){this.ve=0,this.Ce=$O(),this.Fe=an.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ce(),t=Ce(),r=Ce();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ne(38017,{changeType:o})}}),new ud(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=$O()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},ZI=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Oi(),this.je=Am(),this.Je=Am(),this.He=new ht(be)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:ne(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(UI(o))if(r===0){let s=new X(o.path);this.Xe(t,s,br.newNoDocument(s,pe.min()))}else Le(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),c=a?this.ut(a,e,s):1;if(c!==0){this.rt(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,u)}jO?.ct((function(d,p,m,g,I){var x,M,L,H,J,Ve;let Mt={localCacheCount:d,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},De=p.unchangedNames;return De&&(Mt.bloomFilter={applied:I===0,hashCount:(x=De?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(H=(L=(M=De?.bits)===null||M===void 0?void 0:M.bitmap)===null||L===void 0?void 0:L.length)!==null&&H!==void 0?H:0,padding:(Ve=(J=De?.bits)===null||J===void 0?void 0:J.padding)!==null&&Ve!==void 0?Ve:0,mightContain:D=>{var b;return(b=g?.mightContain(D))!==null&&b!==void 0&&b}}),Mt})(s,e.De,this.We.lt(),a,c))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=Ni(r).toUint8Array()}catch(c){if(c instanceof Lm)return Fo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new QI(s,i,o)}catch(c){return Fo(c instanceof Ys?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&UI(a.target)){let c=new X(a.target.path);this.Tt(c).has(s)||this.It(s,c)||this.Xe(s,c,br.newNoDocument(c,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=Ce();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.st(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new Um(e,t,this.He,this.ze,r);return this.ze=Oi(),this.je=Am(),this.Je=Am(),this.He=new ht(be),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new Hm,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new Ut(be),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new Ut(be),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new Hm),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Am(){return new ht(X.comparator)}function $O(){return new ht(X.comparator)}var q6={asc:"ASCENDING",desc:"DESCENDING"},G6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W6={and:"AND",or:"OR"},XI=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function JI(n,e){return n.useProto3Json||fg(e)?e:{value:e}}function qm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function K6(n,e){return qm(n,e.toTimestamp())}function qr(n){return Le(!!n,49232),pe.fromTimestamp((function(t){let r=Mi(t);return new Rt(r.seconds,r.nanos)})(n))}function vD(n,e){return eC(n,e).canonicalString()}function eC(n,e){let t=(function(i){return new ct(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function r1(n){let e=ct.fromString(n);return Le(c1(e),10190,{key:e.toString()}),e}function tC(n,e){return vD(n.databaseId,e.path)}function gI(n,e){let t=r1(e);if(t.get(1)!==n.databaseId.projectId)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new j(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(o1(t))}function i1(n,e){return vD(n.databaseId,e)}function Y6(n){let e=r1(n);return e.length===4?ct.emptyPath():o1(e)}function nC(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function o1(n){return Le(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function zO(n,e,t){return{name:tC(n,e),fields:t.value.mapValue.fields}}function Q6(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(u,d){return u.useProto3Json?(Le(d===void 0||typeof d=="string",58123),an.fromBase64String(d||"")):(Le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),an.fromUint8Array(d||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(u){let d=u.code===void 0?N.UNKNOWN:t1(u.code);return new j(d,u.message||"")})(s);t=new zm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=gI(n,r.document.name),o=qr(r.document.updateTime),s=r.document.createTime?qr(r.document.createTime):pe.min(),a=new Ln({mapValue:{fields:r.document.fields}}),c=br.newFoundDocument(i,o,s,a),u=r.targetIds||[],d=r.removedTargetIds||[];t=new Ac(u,d,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=gI(n,r.document),o=r.readTime?qr(r.readTime):pe.min(),s=br.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ac([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=gI(n,r.document),o=r.removedTargetIds||[];t=new Ac([],o,i,null)}else{if(!("filter"in e))return ne(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new YI(i,o),a=r.targetId;t=new $m(a,s)}}return t}function Z6(n,e){let t;if(e instanceof ra)t={update:zO(n,e.key,e.value)};else if(e instanceof ld)t={delete:tC(n,e.key)};else if(e instanceof Wr)t={update:zO(n,e.key,e.data),updateMask:s5(e.fieldMask)};else{if(!(e instanceof qI))return ne(16599,{Rt:e.type});t={verify:tC(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Lc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ta)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof na)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Vc)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw ne(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:K6(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ne(27497)})(n,e.precondition)),t}function X6(n,e){return n&&n.length>0?(Le(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?qr(i.updateTime):qr(o);return s.isEqual(pe.min())&&(s=qr(o)),new HI(s,i.transformResults||[])})(t,e))):[]}function J6(n,e){return{documents:[i1(n,e.path)]}}function e5(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=i1(n,i);let o=(function(u){if(u.length!==0)return a1(Er.create(u,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(u){if(u.length!==0)return u.map(d=>(function(m){return{field:Dc(m.field),direction:r5(m.dir)}})(d))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=JI(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{Vt:t,parent:i}}function t5(n){let e=Y6(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Le(r===1,65062);let d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=(function(p){let m=s1(p);return m instanceof Er&&VP(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(I){return new ea(Tc(I.field),(function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,fg(m)?null:m})(t.limit));let c=null;t.startAt&&(c=(function(p){let m=!!p.before,g=p.values||[];return new Pc(g,m)})(t.startAt));let u=null;return t.endAt&&(u=(function(p){let m=!p.before,g=p.values||[];return new Pc(g,m)})(t.endAt)),A6(e,i,s,o,a,"F",c,u)}function n5(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function s1(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Tc(t.unaryFilter.field);return At.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Tc(t.unaryFilter.field);return At.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Tc(t.unaryFilter.field);return At.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Tc(t.unaryFilter.field);return At.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ne(61313);default:return ne(60726)}})(n):n.fieldFilter!==void 0?(function(t){return At.create(Tc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ne(58110);default:return ne(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Er.create(t.compositeFilter.filters.map(r=>s1(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ne(1026)}})(t.compositeFilter.op))})(n):ne(30097,{filter:n})}function r5(n){return q6[n]}function i5(n){return G6[n]}function o5(n){return W6[n]}function Dc(n){return{fieldPath:n.canonicalString()}}function Tc(n){return Vn.fromServerFormat(n.fieldPath)}function a1(n){return n instanceof At?(function(t){if(t.op==="=="){if(RO(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NAN"}};if(xO(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(RO(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NOT_NAN"}};if(xO(t.value))return{unaryFilter:{field:Dc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dc(t.field),op:i5(t.op),value:t.value}}})(n):n instanceof Er?(function(t){let r=t.getFilters().map(i=>a1(i));return r.length===1?r[0]:{compositeFilter:{op:o5(t.op),filters:r}}})(n):ne(54877,{filter:n})}function s5(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function c1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var dd=class n{constructor(e,t,r,i,o=pe.min(),s=pe.min(),a=an.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var rC=class{constructor(e){this.gt=e}};function a5(n){let e=t5({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?zI(e,e.limit,"L"):e}var Gm=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(at(e.integerValue));else if("doubleValue"in e){let r=at(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),sd(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=Mi(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(Ni(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?PP(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):OP(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):ne(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=Nc,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(at(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),X.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};Gm.Ut=new Gm;var iC=class{constructor(){this.Dn=new oC}addToCollectionParentIndex(e,t){return this.Dn.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(Js.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(Js.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},oC=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ut(ct.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ut(ct.comparator)).toArray()}};var kve=new Uint8Array(0);var HO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l1=41943040,Zn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};Zn.DEFAULT_COLLECTION_PERCENTILE=10,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Zn.DEFAULT=new Zn(l1,Zn.DEFAULT_COLLECTION_PERCENTILE,Zn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Zn.DISABLED=new Zn(-1,0,0);var hd=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var qO="LruGarbageCollector",c5=1048576;function GO([n,e],[t,r]){let i=be(n,t);return i===0?be(e,r):i}var sC=class{constructor(e){this.Tr=e,this.buffer=new Ut(GO),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();GO(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},aC=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){U(qO,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>y(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){qc(t)?U(qO,"Ignoring IndexedDB error during garbage collection: ",t):yield Hc(t)}yield this.Rr(3e5)}))}},cC=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return F.resolve(aD.ue);let r=new sC(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(HO)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),HO):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,c,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(u=Date.now(),Ic()<=we.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-d}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(c-a)+`ms
	Removed ${p} documents in `+(u-c)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function l5(n,e){return new cC(n,e)}var lC=class{constructor(){this.changes=new ki(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var uC=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var dC=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&rd(r.mutation,i,Xn.empty(),Rt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ce()){let i=Ks();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ju();return o.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Ks();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Oi(),s=nd(),a=(function(){return nd()})();return t.forEach((c,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Wr)?o=o.insert(u.key,u):d!==void 0?(s.set(u.key,d.mutation.getFieldMask()),rd(d.mutation,u,d.mutation.getFieldMask(),Rt.now())):s.set(u.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,o).next(c=>(c.forEach((u,d)=>s.set(u,d)),t.forEach((u,d)=>{var p;return a.set(u,new uC(d,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=nd(),i=new ht((s,a)=>s-a),o=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let d=r.get(c)||Xn.empty();d=a.applyToLocalView(u,d),r.set(c,d);let p=(i.get(a.batchId)||Ce()).add(c);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,d=c.value,p=WP();d.forEach(m=>{if(!o.has(m)){let g=JP(t.get(m),r.get(m));g!==null&&p.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$P(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):F.resolve(Ks()),a=od,c=o;return s.next(u=>F.forEach(u,(d,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{c=c.insert(d,m)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,c,u,Ce())).next(d=>({batchId:a,changes:GP(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=Ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ju();return this.indexManager.getCollectionParents(e,o).next(a=>F.forEach(a,c=>{let u=(function(p,m){return new Vo(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((c,u)=>{let d=u.getKey();s.get(d)===null&&(s=s.insert(d,br.newInvalidDocument(d)))});let a=Ju();return s.forEach((c,u)=>{let d=o.get(c);d!==void 0&&rd(d.mutation,u,Xn.empty(),Rt.now()),gg(t,u)&&(a=a.insert(c,u))}),a})}};var hC=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return F.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}})(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:a5(i.bundledQuery),readTime:qr(i.readTime)}})(t)),F.resolve()}};var fC=class{constructor(){this.overlays=new ht(X.comparator),this.kr=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ks();return F.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let i=Ks(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return F.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ht((u,d)=>u-d),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=o.get(u.largestBatchId);d===null&&(d=Ks(),o=o.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=Ks(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return F.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new KI(t,r));let o=this.kr.get(t);o===void 0&&(o=Ce(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var pC=class{constructor(){this.sessionToken=an.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}};var fd=class{constructor(){this.qr=new Ut(St.Qr),this.$r=new Ut(St.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new St(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new St(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new X(new ct([])),r=new St(t,e),i=new St(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new X(new ct([])),r=new St(t,e),i=new St(t,e+1),o=Ce();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new St(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},St=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return X.comparator(e.key,t.key)||be(e.Hr,t.Hr)}static Ur(e,t){return be(e.Hr,t.Hr)||X.comparator(e.key,t.key)}};var mC=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new Ut(St.Qr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new GI(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new St(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return F.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?cD:this.er-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new St(t,0),i=new St(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),F.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ut(be);return t.forEach(i=>{let o=new St(i,0),s=new St(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),F.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new St(new X(o),0),a=new Ut(be);return this.Yr.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},s),F.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Le(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return F.forEach(t.mutations,i=>{let o=new St(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new St(t,0),i=this.Yr.firstAfterOrEqual(r);return F.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var gC=class{constructor(e){this.ni=e,this.docs=(function(){return new ht(X.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():br.newInvalidDocument(t))}getEntries(e,t){let r=Oi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():br.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Oi(),s=t.path,a=new X(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:d}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||l6(c6(d),r)<=0||(i.has(d.key)||gg(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return F.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ne(9500)}ri(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new vC(this)}getSize(e){return F.resolve(this.size)}},vC=class extends lC{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var _C=class{constructor(e){this.persistence=e,this.ii=new ki(t=>fD(t),pD),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.si=0,this.oi=new fd,this.targetCount=0,this._i=hd.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),F.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new hd(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.hr(t),F.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(o).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),F.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.oi.containsKey(t))}};var Wm=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new aD(0),this.ci=!1,this.ci=!0,this.li=new pC,this.referenceDelegate=e(this),this.hi=new _C(this),this.indexManager=new iC,this.remoteDocumentCache=(function(i){return new gC(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new rC(t),this.Ti=new hC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new mC(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){U("MemoryPersistence","Starting transaction:",e);let i=new yC(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return F.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},yC=class extends AI{constructor(e){super(),this.currentSequenceNumber=e}},bC=class n{constructor(e){this.persistence=e,this.Ai=new fd,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw ne(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),F.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.mi,r=>{let i=X.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,pe.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return F.or([()=>F.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},Km=class n{constructor(e,t){this.persistence=e,this.gi=new ki(r=>f6(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=l5(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return F.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return F.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?F.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,pe.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),F.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),F.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Rm(e.data.value)),t}Sr(e,t,r){return F.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var EC=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=Ce(),i=Ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var wC=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var IC=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return UN()?8:d6(jt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new wC;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(Ic()<=we.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Cc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(Ic()<=we.DEBUG&&U("QueryEngine","Query:",Cc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(Ic()<=we.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Cc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hr(t))):F.resolve())}ps(e,t){if(OO(t))return F.resolve(null);let r=Hr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=zI(t,null,"F"),r=Hr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ce(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.bs(t,a);return this.Ds(t,u,s,c.readTime)?this.ps(e,zI(t,null,"F")):this.vs(e,u,t,c)}))})))}ys(e,t,r,i){return OO(t)||i.isEqual(pe.min())?F.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?F.resolve(null):(Ic()<=we.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Cc(t)),this.vs(e,s,t,a6(i,od)).next(a=>a))})}bs(e,t){let r=new Ut(HP(e));return t.forEach((i,o)=>{gg(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return Ic()<=we.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Cc(t)),this.gs.getDocumentsMatchingQuery(e,t,Js.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var _D="LocalStore",u5=3e8,CC=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new ht(be),this.Ms=new ki(o=>fD(o),pD),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function d5(n,e,t,r){return new CC(n,e,t,r)}function u1(n,e){return y(this,null,function*(){let t=de(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],c=Ce();for(let u of i){s.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}for(let u of o){a.push(u.batchId);for(let d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Bs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function h5(n,e){let t=de(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,c,u,d){let p=u.batch,m=p.keys(),g=F.resolve();return m.forEach(I=>{g=g.next(()=>d.getEntry(c,I)).next(x=>{let M=u.docVersions.get(I);Le(M!==null,48541),x.version.compareTo(M)<0&&(p.applyToRemoteDocument(x,u),x.isValidDocument()&&(x.setReadTime(u.commitVersion),d.addEntry(x)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let c=Ce();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function d1(n){let e=de(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function f5(n,e){let t=de(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((d,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,d.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,d.addedDocuments,p)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?g=g.withResumeToken(an.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(p,g),(function(x,M,L){return x.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=u5?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0})(m,g,d)&&a.push(t.hi.updateTargetData(o,g))});let c=Oi(),u=Ce();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(p5(o,s,e.documentUpdates).next(d=>{c=d.Ls,u=d.ks})),!r.isEqual(pe.min())){let d=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,c,u)).next(()=>c)}).then(o=>(t.Fs=i,o))}function p5(n,e,t){let r=Ce(),i=Ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Oi();return t.forEach((a,c)=>{let u=o.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(pe.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):U(_D,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ls:s,ks:i}})}function m5(n,e){let t=de(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=cD),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function g5(n,e){let t=de(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,F.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new dd(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function DC(n,e,t){return y(this,null,function*(){let r=de(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!qc(s))throw s;U(_D,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function WO(n,e,t){let r=de(n),i=pe.min(),o=Ce();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(c,u,d){let p=de(c),m=p.Ms.get(d);return m!==void 0?F.resolve(p.Fs.get(m)):p.hi.getTargetData(u,d)})(r,s,Hr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(c=>{o=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:pe.min(),t?o:Ce())).next(a=>(v5(r,R6(e),a),{documents:a,qs:o})))}function v5(n,e,t){let r=n.xs.get(e)||pe.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Ym=class{constructor(){this.activeTargetIds=F6()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var TC=class{constructor(){this.Fo=new Ym,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ym,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var SC=class{xo(e){}shutdown(){}};var KO="ConnectivityMonitor",Qm=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){U(KO,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){U(KO,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var xm=null;function AC(){return xm===null?xm=(function(){return 268435456+Math.round(2147483648*Math.random())})():xm++,"0x"+xm.toString(16)}var vI="RestConnection",_5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},xC=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===Vm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=AC(),a=this.Go(e,t.toUriEncodedString());U(vI,`Sending RPC '${e}' ${s}:`,a,r);let c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(c,i,o);let{host:u}=new URL(a),d=Eo(u);return this.jo(e,a,c,r,d).then(p=>(U(vI,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Fo(vI,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+zc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=_5[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var RC=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var sn="WebChannelConnection",MC=class extends xC{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=AC();return new Promise((a,c)=>{let u=new dI;u.setWithCredentials(!0),u.listenOnce(hI.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Xu.NO_ERROR:let p=u.getResponseJson();U(sn,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case Xu.TIMEOUT:U(sn,`RPC '${e}' ${s} timed out`),c(new j(N.DEADLINE_EXCEEDED,"Request time out"));break;case Xu.HTTP_ERROR:let m=u.getStatus();if(U(sn,`RPC '${e}' ${s} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);let I=g?.error;if(I&&I.status&&I.message){let x=(function(L){let H=L.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(H)>=0?H:N.UNKNOWN})(I.status);c(new j(x,I.message))}else c(new j(N.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new j(N.UNAVAILABLE,"Connection failed."));break;default:ne(9055,{c_:e,streamId:s,l_:u.getLastErrorCode(),h_:u.getLastError()})}}finally{U(sn,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);U(sn,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",d,r,15)})}P_(e,t,r){let i=AC(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=mI(),a=pI(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.zo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let d=o.join("");U(sn,`Creating RPC '${e}' stream ${i}: ${d}`,c);let p=s.createWebChannel(d,c);this.T_(p);let m=!1,g=!1,I=new RC({Ho:M=>{g?U(sn,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(U(sn,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),U(sn,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},Yo:()=>p.close()}),x=(M,L,H)=>{M.listen(L,J=>{try{H(J)}catch(Ve){setTimeout(()=>{throw Ve},0)}})};return x(p,wc.EventType.OPEN,()=>{g||(U(sn,`RPC '${e}' stream ${i} transport opened.`),I.s_())}),x(p,wc.EventType.CLOSE,()=>{g||(g=!0,U(sn,`RPC '${e}' stream ${i} transport closed`),I.__(),this.I_(p))}),x(p,wc.EventType.ERROR,M=>{g||(g=!0,Fo(sn,`RPC '${e}' stream ${i} transport errored. Name:`,M.name,"Message:",M.message),I.__(new j(N.UNAVAILABLE,"The operation could not be completed")))}),x(p,wc.EventType.MESSAGE,M=>{var L;if(!g){let H=M.data[0];Le(!!H,16349);let J=H,Ve=J?.error||((L=J[0])===null||L===void 0?void 0:L.error);if(Ve){U(sn,`RPC '${e}' stream ${i} received error:`,Ve);let Mt=Ve.status,De=(function(w){let C=Tt[w];if(C!==void 0)return t1(C)})(Mt),D=Ve.message;De===void 0&&(De=N.INTERNAL,D="Unknown error status: "+Mt+" with message "+Ve.message),g=!0,I.__(new j(De,D)),p.close()}else U(sn,`RPC '${e}' stream ${i} received:`,H),I.a_(H)}}),x(a,fI.STAT_EVENT,M=>{M.stat===Tm.PROXY?U(sn,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===Tm.NOPROXY&&U(sn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{I.o_()},0),I}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function _I(){return typeof document<"u"?document:null}function vg(n){return new XI(n,!0)}var Zm=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var YO="PersistentStream",Xm=class{constructor(e,t,r,i,o,s,a,c){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Zm(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return y(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return y(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return y(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===N.RESOURCE_EXHAUSTED?(Ri(t.toString()),Ri("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===N.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new j(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>y(this,null,function*(){this.state=0,this.start()}))}G_(e){return U(YO,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(U(YO,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},NC=class extends Xm{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=Q6(this.serializer,e),r=(function(o){if(!("targetChange"in o))return pe.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?pe.min():s.readTime?qr(s.readTime):pe.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=nC(this.serializer),t.addTarget=(function(o,s){let a,c=s.target;if(a=UI(c)?{documents:J6(o,c)}:{query:e5(o,c).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=n1(o,s.resumeToken);let u=JI(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(pe.min())>0){a.readTime=qm(o,s.snapshotVersion.toTimestamp());let u=JI(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a})(this.serializer,e);let r=n5(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=nC(this.serializer),t.removeTarget=e,this.k_(t)}},kC=class extends Xm{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=X6(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=nC(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Z6(this.serializer,r))};this.k_(t)}};var OC=class{},PC=class extends OC{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,eC(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(N.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,eC(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new j(N.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},FC=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Ri(t),this._a=!1):U("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var ia="RemoteStore",LC=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>y(this,null,function*(){sa(this)&&(U(ia,"Restarting streams for network reachability change."),yield(function(c){return y(this,null,function*(){let u=de(c);u.Ia.add(4),yield vd(u),u.Aa.set("Unknown"),u.Ia.delete(4),yield _g(u)})})(this))}))}),this.Aa=new FC(r,i)}};function _g(n){return y(this,null,function*(){if(sa(n))for(let e of n.da)yield e(!0)})}function vd(n){return y(this,null,function*(){for(let e of n.da)yield e(!1)})}function h1(n,e){let t=de(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),wD(t)?ED(t):Gc(t).x_()&&bD(t,e))}function yD(n,e){let t=de(n),r=Gc(t);t.Ta.delete(e),r.x_()&&f1(t,e),t.Ta.size===0&&(r.x_()?r.B_():sa(t)&&t.Aa.set("Unknown"))}function bD(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Gc(n).H_(e)}function f1(n,e){n.Ra.$e(e),Gc(n).Y_(e)}function ED(n){n.Ra=new ZI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),Gc(n).start(),n.Aa.aa()}function wD(n){return sa(n)&&!Gc(n).M_()&&n.Ta.size>0}function sa(n){return de(n).Ia.size===0}function p1(n){n.Ra=void 0}function y5(n){return y(this,null,function*(){n.Aa.set("Online")})}function b5(n){return y(this,null,function*(){n.Ta.forEach((e,t)=>{bD(n,e)})})}function E5(n,e){return y(this,null,function*(){p1(n),wD(n)?(n.Aa.la(e),ED(n)):n.Aa.set("Unknown")})}function w5(n,e,t){return y(this,null,function*(){if(n.Aa.set("Online"),e instanceof zm&&e.state===2&&e.cause)try{yield(function(i,o){return y(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){U(ia,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Jm(n,r)}else if(e instanceof Ac?n.Ra.Ye(e):e instanceof $m?n.Ra.it(e):n.Ra.et(e),!t.isEqual(pe.min()))try{let r=yield d1(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let d=o.Ta.get(u);d&&o.Ta.set(u,d.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let d=o.Ta.get(c);if(!d)return;o.Ta.set(c,d.withResumeToken(an.EMPTY_BYTE_STRING,d.snapshotVersion)),f1(o,c);let p=new dd(d.target,c,u,d.sequenceNumber);bD(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){U(ia,"Failed to raise snapshot:",r),yield Jm(n,r)}})}function Jm(n,e,t){return y(this,null,function*(){if(!qc(e))throw e;n.Ia.add(1),yield vd(n),n.Aa.set("Offline"),t||(t=()=>d1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>y(null,null,function*(){U(ia,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield _g(n)}))})}function m1(n,e){return e().catch(t=>Jm(n,t,e))}function yg(n){return y(this,null,function*(){let e=de(n),t=jo(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:cD;for(;I5(e);)try{let i=yield m5(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,C5(e,i)}catch(i){yield Jm(e,i)}g1(e)&&v1(e)})}function I5(n){return sa(n)&&n.Pa.length<10}function C5(n,e){n.Pa.push(e);let t=jo(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function g1(n){return sa(n)&&!jo(n).M_()&&n.Pa.length>0}function v1(n){jo(n).start()}function D5(n){return y(this,null,function*(){jo(n).na()})}function T5(n){return y(this,null,function*(){let e=jo(n);for(let t of n.Pa)e.X_(t.mutations)})}function S5(n,e,t){return y(this,null,function*(){let r=n.Pa.shift(),i=WI.from(r,e,t);yield m1(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield yg(n)})}function A5(n,e){return y(this,null,function*(){e&&jo(n).Z_&&(yield(function(r,i){return y(this,null,function*(){if((function(s){return z6(s)&&s!==N.ABORTED})(i.code)){let o=r.Pa.shift();jo(r).N_(),yield m1(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield yg(r)}})})(n,e)),g1(n)&&v1(n)})}function QO(n,e){return y(this,null,function*(){let t=de(n);t.asyncQueue.verifyOperationInProgress(),U(ia,"RemoteStore received new credentials");let r=sa(t);t.Ia.add(3),yield vd(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield _g(t)})}function x5(n,e){return y(this,null,function*(){let t=de(n);e?(t.Ia.delete(2),yield _g(t)):e||(t.Ia.add(2),yield vd(t),t.Aa.set("Unknown"))})}function Gc(n){return n.Va||(n.Va=(function(t,r,i){let o=de(t);return o.ia(),new NC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:y5.bind(null,n),e_:b5.bind(null,n),n_:E5.bind(null,n),J_:w5.bind(null,n)}),n.da.push(e=>y(null,null,function*(){e?(n.Va.N_(),wD(n)?ED(n):n.Aa.set("Unknown")):(yield n.Va.stop(),p1(n))}))),n.Va}function jo(n){return n.ma||(n.ma=(function(t,r,i){let o=de(t);return o.ia(),new kC(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:D5.bind(null,n),n_:A5.bind(null,n),ea:T5.bind(null,n),ta:S5.bind(null,n)}),n.da.push(e=>y(null,null,function*(){e?(n.ma.N_(),yield yg(n)):(yield n.ma.stop(),n.Pa.length>0&&(U(ia,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var VC=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ai,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ID(n,e){if(Ri("AsyncQueue",`${e}: ${n}`),qc(n))return new j(N.UNAVAILABLE,`${e}: ${n}`);throw n}var eg=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=Ju(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var tg=class{constructor(){this.fa=new ht(X.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):ne(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Bc=class n{constructor(e,t,r,i,o,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,eg.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var jC=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},BC=class{constructor(){this.queries=ZO(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=de(t),o=i.queries;i.queries=ZO(),o.forEach((s,a)=>{for(let c of a.wa)c.onError(r)})})(this,new j(N.ABORTED,"Firestore shutting down"))}};function ZO(){return new ki(n=>zP(n),mg)}function R5(n,e){return y(this,null,function*(){let t=de(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new jC,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=ID(s,`Initialization of query '${Cc(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&CD(t)})}function M5(n,e){return y(this,null,function*(){let t=de(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function N5(n,e){let t=de(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&CD(t)}function k5(n,e,t){let r=de(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function CD(n){n.Da.forEach(e=>{e.next()})}var UC,XO;(XO=UC||(UC={})).Fa="default",XO.Cache="cache";var $C=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Bc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Bc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==UC.Cache}};var ng=class{constructor(e){this.key=e}},rg=class{constructor(e){this.key=e}},zC=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ce(),this.mutatedKeys=Ce(),this.Xa=HP(e),this.eu=new eg(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new tg,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,p)=>{let m=i.get(d),g=gg(this.query,p)?p:null,I=!!m&&this.mutatedKeys.has(m.key),x=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations),M=!1;m&&g?m.data.isEqual(g.data)?I!==x&&(r.track({type:3,doc:g}),M=!0):this.iu(m,g)||(r.track({type:2,doc:g}),M=!0,(c&&this.Xa(g,c)>0||u&&this.Xa(g,u)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),M=!0):m&&!g&&(r.track({type:1,doc:m}),M=!0,(c||u)&&(a=!0)),M&&(g?(s=s.add(g),o=x?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let d=this.query.limitType==="F"?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((d,p)=>(function(g,I){let x=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne(20277,{At:M})}};return x(g)-x(I)})(d.type,p.type)||this.Xa(d.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],c=this.Za.size===0&&this.current&&!i?1:0,u=c!==this.Ya;return this.Ya=c,s.length!==0||u?{snapshot:new Bc(this.query,e.eu,o,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new tg,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=Ce(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new rg(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new ng(r))}),t}uu(e){this.Ha=e.qs,this.Za=Ce();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Bc.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},DD="SyncEngine",HC=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},qC=class{constructor(e){this.key=e,this.lu=!1}},GC=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new ki(a=>zP(a),mg),this.Tu=new Map,this.Iu=new Set,this.du=new ht(X.comparator),this.Eu=new Map,this.Au=new fd,this.Ru={},this.Vu=new Map,this.mu=hd.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function O5(n,e,t=!0){return y(this,null,function*(){let r=I1(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield _1(r,e,t,!0),i})}function P5(n,e){return y(this,null,function*(){let t=I1(n);yield _1(t,e,!0,!1)})}function _1(n,e,t,r){return y(this,null,function*(){let i=yield g5(n.localStore,Hr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield F5(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&h1(n.remoteStore,i),a})}function F5(n,e,t,r,i){return y(this,null,function*(){n.gu=(p,m,g)=>(function(x,M,L,H){return y(this,null,function*(){let J=M.view.nu(L);J.Ds&&(J=yield WO(x.localStore,M.query,!1).then(({documents:D})=>M.view.nu(D,J)));let Ve=H&&H.targetChanges.get(M.targetId),Mt=H&&H.targetMismatches.get(M.targetId)!=null,De=M.view.applyChanges(J,x.isPrimaryClient,Ve,Mt);return eP(x,M.targetId,De._u),De.snapshot})})(n,p,m,g);let o=yield WO(n.localStore,e,!0),s=new zC(e,o.qs),a=s.nu(o.documents),c=ud.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=s.applyChanges(a,n.isPrimaryClient,c);eP(n,t,u._u);let d=new HC(e,t,s);return n.Pu.set(e,d),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),u.snapshot})}function L5(n,e,t){return y(this,null,function*(){let r=de(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!mg(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield DC(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&yD(r.remoteStore,i.targetId),WC(r,i.targetId)}).catch(Hc))):(WC(r,i.targetId),yield DC(r.localStore,i.targetId,!0))})}function V5(n,e){return y(this,null,function*(){let t=de(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),yD(t.remoteStore,r.targetId))})}function j5(n,e,t){return y(this,null,function*(){let r=G5(n);try{let i=yield(function(s,a){let c=de(s),u=Rt.now(),d=a.reduce((g,I)=>g.add(I.key),Ce()),p,m;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let I=Oi(),x=Ce();return c.Os.getEntries(g,d).next(M=>{I=M,I.forEach((L,H)=>{H.isValidDocument()||(x=x.add(L))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,I)).next(M=>{p=M;let L=[];for(let H of a){let J=$6(H,p.get(H.key).overlayedDocument);J!=null&&L.push(new Wr(H.key,J,FP(J.value.mapValue),xi.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,L,a)}).next(M=>{m=M;let L=M.applyToLocalDocumentSet(p,x);return c.documentOverlayCache.saveOverlays(g,M.batchId,L)})}).then(()=>({batchId:m.batchId,changes:GP(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,c){let u=s.Ru[s.currentUser.toKey()];u||(u=new ht(be)),u=u.insert(a,c),s.Ru[s.currentUser.toKey()]=u})(r,i.batchId,t),yield _d(r,i.changes),yield yg(r.remoteStore)}catch(i){let o=ID(i,"Failed to persist write");t.reject(o)}})}function y1(n,e){return y(this,null,function*(){let t=de(n);try{let r=yield f5(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(Le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?Le(s.lu,14607):i.removedDocuments.size>0&&(Le(s.lu,42227),s.lu=!1))}),yield _d(t,r,e)}catch(r){yield Hc(r)}})}function JO(n,e,t){let r=de(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let c=de(s);c.onlineState=a;let u=!1;c.queries.forEach((d,p)=>{for(let m of p.wa)m.va(a)&&(u=!0)}),u&&CD(c)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function B5(n,e,t){return y(this,null,function*(){let r=de(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new ht(X.comparator);s=s.insert(o,br.newNoDocument(o,pe.min()));let a=Ce().add(o),c=new Um(pe.min(),new Map,new ht(be),s,a);yield y1(r,c),r.du=r.du.remove(o),r.Eu.delete(e),TD(r)}else yield DC(r.localStore,e,!1).then(()=>WC(r,e,t)).catch(Hc)})}function U5(n,e){return y(this,null,function*(){let t=de(n),r=e.batch.batchId;try{let i=yield h5(t.localStore,e);E1(t,r,null),b1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield _d(t,i)}catch(i){yield Hc(i)}})}function $5(n,e,t){return y(this,null,function*(){let r=de(n);try{let i=yield(function(s,a){let c=de(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Le(p!==null,37113),d=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})})(r.localStore,e);E1(r,e,t),b1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield _d(r,i)}catch(i){yield Hc(i)}})}function b1(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function E1(n,e,t){let r=de(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function WC(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||w1(n,r)})}function w1(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(yD(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),TD(n))}function eP(n,e,t){for(let r of t)r instanceof ng?(n.Au.addReference(r.key,e),z5(n,r)):r instanceof rg?(U(DD,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||w1(n,r.key)):ne(19791,{yu:r})}function z5(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(U(DD,"New document in limbo: "+t),n.Iu.add(r),TD(n))}function TD(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new X(ct.fromString(e)),r=n.mu.next();n.Eu.set(r,new qC(t)),n.du=n.du.insert(t,r),h1(n.remoteStore,new dd(Hr(mD(t.path)),r,"TargetPurposeLimboResolution",aD.ue))}}function _d(n,e,t){return y(this,null,function*(){let r=de(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,c)=>{s.push(r.gu(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(d=t?.targetChanges.get(c.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){i.push(u);let p=EC.Es(c.targetId,u);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(c,u){return y(this,null,function*(){let d=de(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(u,m=>F.forEach(m.Is,g=>d.persistence.referenceDelegate.addReference(p,m.targetId,g)).next(()=>F.forEach(m.ds,g=>d.persistence.referenceDelegate.removeReference(p,m.targetId,g)))))}catch(p){if(!qc(p))throw p;U(_D,"Failed to update sequence numbers: "+p)}for(let p of u){let m=p.targetId;if(!p.fromCache){let g=d.Fs.get(m),I=g.snapshotVersion,x=g.withLastLimboFreeSnapshotVersion(I);d.Fs=d.Fs.insert(m,x)}}})})(r.localStore,o))})}function H5(n,e){return y(this,null,function*(){let t=de(n);if(!t.currentUser.isEqual(e)){U(DD,"User change. New user:",e.toKey());let r=yield u1(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(c=>{c.reject(new j(N.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield _d(t,r.Bs)}})}function q5(n,e){let t=de(n),r=t.Eu.get(e);if(r&&r.lu)return Ce().add(r.key);{let i=Ce(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function I1(n){let e=de(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=y1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=q5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=B5.bind(null,e),e.hu.J_=N5.bind(null,e.eventManager),e.hu.pu=k5.bind(null,e.eventManager),e}function G5(n){let e=de(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=U5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$5.bind(null,e),e}var C1=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return y(this,null,function*(){this.serializer=vg(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return d5(this.persistence,new IC,t.initialUser,this.serializer)}Du(t){return new Wm(bC.Vi,this.serializer)}bu(t){return new TC}terminate(){return y(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),KC=class extends C1{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Le(this.persistence.referenceDelegate instanceof Km,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new aC(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?Zn.withCacheSize(this.cacheSizeBytes):Zn.DEFAULT;return new Wm(r=>Km.Vi(r,t),this.serializer)}};var W5=(()=>{class n{initialize(t,r){return y(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>JO(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=H5.bind(null,this.syncEngine),yield x5(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new BC})()}createDatastore(t){let r=vg(t.databaseInfo.databaseId),i=(function(s){return new MC(s)})(t.databaseInfo);return(function(s,a,c,u){return new PC(s,a,c,u)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,c){return new LC(i,o,s,a,c)})(this.localStore,this.datastore,t.asyncQueue,r=>JO(this.syncEngine,r,0),(function(){return Qm.C()?new Qm:new SC})())}createSyncEngine(t,r){return(function(o,s,a,c,u,d,p){let m=new GC(o,s,a,c,u,d);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return y(this,null,function*(){var t,r;yield(function(o){return y(this,null,function*(){let s=de(o);U(ia,"RemoteStore shutting down."),s.Ia.add(5),yield vd(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var YC=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Ri("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Bo="FirestoreClient",QC=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Bt.UNAUTHENTICATED,this.clientId=id.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>y(this,null,function*(){U(Bo,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(U(Bo,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Ai;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>y(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ID(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function yI(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),U(Bo,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>y(null,null,function*(){r.isEqual(i)||(yield u1(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{Fo("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{U("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Fo("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function tP(n,e){return y(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield K5(n);U(Bo,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>QO(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>QO(e.remoteStore,i)),n._onlineComponents=e})}function K5(n){return y(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){U(Bo,"Using user provided OfflineComponentProvider");try{yield yI(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===N.FAILED_PRECONDITION||i.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Fo("Error using user provided cache. Falling back to memory cache: "+t),yield yI(n,new C1)}}else U(Bo,"Using default OfflineComponentProvider"),yield yI(n,new KC(void 0));return n._offlineComponents})}function D1(n){return y(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(U(Bo,"Using user provided OnlineComponentProvider"),yield tP(n,n._uninitializedComponentsProvider._online)):(U(Bo,"Using default OnlineComponentProvider"),yield tP(n,new W5))),n._onlineComponents})}function Y5(n){return D1(n).then(e=>e.syncEngine)}function nP(n){return y(this,null,function*(){let e=yield D1(n),t=e.eventManager;return t.onListen=O5.bind(null,e.syncEngine),t.onUnlisten=L5.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=P5.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=V5.bind(null,e.syncEngine),t})}function T1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var rP=new Map;var S1="firestore.googleapis.com",iP=!0,ig=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new j(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=S1,this.ssl=iP}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:iP;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<c5)throw new j(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}s6("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=T1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new j(N.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Uc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ig({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ig(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new bI;switch(r.type){case"firstParty":return new CI(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new j(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return y(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=rP.get(t);r&&(U("ComponentProvider","Removing Datastore"),rP.delete(t),r.terminate())})(this),Promise.resolve()}};function A1(n,e,t,r={}){var i;n=Mo(n,Uc);let o=Eo(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),c=`${e}:${t}`;o&&(Gp(`https://${c}`),Wp("Firestore",!0)),s.host!==S1&&s.host!==c&&Fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let u=Object.assign(Object.assign({},s),{host:c,ssl:o,emulatorOptions:r});if(!Kn(u,a)&&(n._setSettings(u),r.mockUserToken)){let d,p;if(typeof r.mockUserToken=="string")d=r.mockUserToken,p=Bt.MOCK_USER;else{d=FN(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new j(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Bt(m)}n._authCredentials=new EI(new km(d,p))}}var oa=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Qt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new No(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(gd(t,n._jsonSchema))return new n(e,r||null,new X(ct.fromString(t.referencePath)))}};Qt._jsonSchemaVersion="firestore/documentReference/1.0",Qt._jsonSchema={type:xt("string",Qt._jsonSchemaVersion),referencePath:xt("string")};var No=class n extends oa{constructor(e,t,r){super(e,t,mD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function x1(n,e,...t){if(n=st(n),hP("collection","path",e),n instanceof Uc){let r=ct.fromString(e,...t);return EO(r),new No(n,null,r)}{if(!(n instanceof Qt||n instanceof No))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ct.fromString(e,...t));return EO(r),new No(n.firestore,null,r)}}function SD(n,e,...t){if(n=st(n),arguments.length===1&&(e=id.newId()),hP("doc","path",e),n instanceof Uc){let r=ct.fromString(e,...t);return bO(r),new Qt(n,null,new X(r))}{if(!(n instanceof Qt||n instanceof No))throw new j(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ct.fromString(e,...t));return bO(r),new Qt(n.firestore,n instanceof No?n.converter:null,new X(r))}}var oP="AsyncQueue",og=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Zm(this,"async_queue_retry"),this.oc=()=>{let r=_I();r&&U(oP,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=_I();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=_I();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new Ai;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return y(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!qc(e))throw e;U(oP,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,Ri("INTERNAL UNHANDLED ERROR: ",sP(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=VC.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&ne(47125,{hc:sP(this.tc)})}verifyOperationInProgress(){}Pc(){return y(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function sP(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function aP(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var Uo=class extends Uc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new og,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return y(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new og(e),this._firestoreClient=void 0,yield e}})}};function R1(n,e){let t=typeof n=="object"?n:jr(),r=typeof n=="string"?n:e||Vm,i=Qn(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=PN("firestore");o&&A1(i,...o)}return i}function M1(n){if(n._terminated)throw new j(N.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Q5(n),n._firestoreClient}function Q5(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,c,u,d){return new xI(a,c,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,T1(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new QC(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}})(n._componentsProvider))}var ko=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(an.fromBase64String(e))}catch(t){throw new j(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(an.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gd(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ko._jsonSchemaVersion="firestore/bytes/1.0",ko._jsonSchema={type:xt("string",ko._jsonSchemaVersion),bytes:xt("string")};var $c=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new j(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var pd=class{constructor(e){this._methodName=e}};var Oo=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(gd(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};Oo._jsonSchemaVersion="firestore/geoPoint/1.0",Oo._jsonSchema={type:xt("string",Oo._jsonSchemaVersion),latitude:xt("number"),longitude:xt("number")};var Po=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gd(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new j(N.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};Po._jsonSchemaVersion="firestore/vectorValue/1.0",Po._jsonSchema={type:xt("string",Po._jsonSchemaVersion),vectorValues:xt("object")};var Z5=/^__.*__$/,ZC=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ra(e,this.data,t,this.fieldTransforms)}},sg=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function N1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne(40011,{Ec:n})}}var XC=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return cg(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(N1(this.Ec)&&Z5.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},JC=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vg(e)}Dc(e,t,r,i=!1){return new XC({Ec:e,methodName:t,bc:r,path:Vn.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function AD(n){let e=n._freezeSettings(),t=vg(n._databaseId);return new JC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function X5(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);xD("Data must be an object, but it was:",s,r);let a=k1(r,s),c,u;if(o.merge)c=new Xn(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){let d=[];for(let p of o.mergeFields){let m=eD(e,p,t);if(!s.contains(m))throw new j(N.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);P1(d,m)||d.push(m)}c=new Xn(d),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new ZC(new Ln(a),c,u)}var ag=class n extends pd{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function J5(n,e,t,r){let i=n.Dc(1,e,t);xD("Data must be an object, but it was:",i,r);let o=[],s=Ln.empty();$o(r,(c,u)=>{let d=RD(e,c,t);u=st(u);let p=i.gc(d);if(u instanceof ag)o.push(d);else{let m=yd(u,p);m!=null&&(o.push(d),s.set(d,m))}});let a=new Xn(o);return new sg(s,a,i.fieldTransforms)}function e9(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[eD(e,r,t)],c=[i];if(o.length%2!=0)throw new j(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(eD(e,o[m])),c.push(o[m+1]);let u=[],d=Ln.empty();for(let m=a.length-1;m>=0;--m)if(!P1(u,a[m])){let g=a[m],I=c[m];I=st(I);let x=s.gc(g);if(I instanceof ag)u.push(g);else{let M=yd(I,x);M!=null&&(u.push(g),d.set(g,M))}}let p=new Xn(u);return new sg(d,p,s.fieldTransforms)}function t9(n,e,t,r=!1){return yd(t,n.Dc(r?4:3,e))}function yd(n,e){if(O1(n=st(n)))return xD("Unsupported field value:",e,n),k1(n,e);if(n instanceof pd)return(function(r,i){if(!N1(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let c=yd(a,i.yc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=st(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return L6(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Rt.fromDate(r);return{timestampValue:qm(i.serializer,o)}}if(r instanceof Rt){let o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qm(i.serializer,o)}}if(r instanceof Oo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ko)return{bytesValue:n1(i.serializer,r._byteString)};if(r instanceof Qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:vD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Po)return(function(s,a){return{mapValue:{fields:{[uD]:{stringValue:dD},[Nc]:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.wc("VectorValues must only contain numeric values.");return gD(a.serializer,u)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${hg(r)}`)})(n,e)}function k1(n,e){let t={};return AP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(n,(r,i)=>{let o=yd(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function O1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Rt||n instanceof Oo||n instanceof ko||n instanceof Qt||n instanceof pd||n instanceof Po)}function xD(n,e,t){if(!O1(t)||!fP(t)){let r=hg(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function eD(n,e,t){if((e=st(e))instanceof $c)return e._internalPath;if(typeof e=="string")return RD(n,e);throw cg("Field path arguments must be of type string or ",n,!1,void 0,t)}var n9=new RegExp("[~\\*/\\[\\]]");function RD(n,e,t){if(e.search(n9)>=0)throw cg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new $c(...e.split("."))._internalPath}catch{throw cg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cg(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new j(N.INVALID_ARGUMENT,a+n+c)}function P1(n,e){return n.some(t=>t.isEqual(e))}var lg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(MD("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},tD=class extends lg{data(){return super.data()}};function MD(n,e){return typeof e=="string"?RD(n,e):e instanceof $c?e._internalPath:e._delegate._internalPath}function r9(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new j(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var md=class{},ug=class extends md{};function F1(n,e,...t){let r=[];e instanceof md&&r.push(e),r=r.concat(t),(function(o){let s=o.filter(c=>c instanceof rD).length,a=o.filter(c=>c instanceof nD).length;if(s>1||s>0&&a>0)throw new j(N.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(let i of r)n=i._apply(n);return n}var nD=class n extends ug{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return V1(e._query,t),new oa(e.firestore,e.converter,$I(e._query,t))}_parse(e){let t=AD(e.firestore);return(function(o,s,a,c,u,d,p){let m;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new j(N.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){lP(p,d);let I=[];for(let x of p)I.push(cP(c,o,x));m={arrayValue:{values:I}}}else m=cP(c,o,p)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||lP(p,d),m=t9(a,s,p,d==="in"||d==="not-in");return At.create(u,d,m)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var rD=class n extends md{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Er.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let s=i,a=o.getFlattenedFilters();for(let c of a)V1(s,c),s=$I(s,c)})(e._query,t),new oa(e.firestore,e.converter,$I(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var iD=class n extends ug{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=(function(i,o,s){if(i.startAt!==null)throw new j(N.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new j(N.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ea(o,s)})(e._query,this._field,this._direction);return new oa(e.firestore,e.converter,(function(i,o){let s=i.explicitOrderBy.concat([o]);return new Vo(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}};function L1(n,e="asc"){let t=e,r=MD("orderBy",n);return iD._create(r,t)}function cP(n,e,t){if(typeof(t=st(t))=="string"){if(t==="")throw new j(N.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$P(e)&&t.indexOf("/")!==-1)throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(ct.fromString(t));if(!X.isDocumentKey(r))throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return AO(n,new X(r))}if(t instanceof Qt)return AO(n,t._key);throw new j(N.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${hg(t)}.`)}function lP(n,e){if(!Array.isArray(n)||n.length===0)throw new j(N.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function V1(n,e){let t=(function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(N.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var oD=class{convertValue(e,t="none"){switch(Lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return $o(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Nc].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>at(s.doubleValue));return new Po(o)}convertGeoPoint(e){return new Oo(at(e.latitude),at(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=pg(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){let t=Mi(e);return new Rt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ct.fromString(e);Le(c1(r),9688,{name:e});let i=new jm(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||Ri(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function i9(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Qs=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Zs=class n extends lg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(MD("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new j(N.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:xt("string",Zs._jsonSchemaVersion),bundleSource:xt("string","DocumentSnapshot"),bundleName:xt("string"),bundle:xt("string")};var xc=class extends Zs{data(e={}){return super.data(e)}},Rc=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new xc(this._firestore,this._userDataWriter,r.key,r,new Qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let c=new xc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let c=new xc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),u=-1,d=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:o9(a.type),doc:c,oldIndex:u,newIndex:d}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new j(N.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=id.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function o9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne(61501,{type:n})}}Rc._jsonSchemaVersion="firestore/querySnapshot/1.0",Rc._jsonSchema={type:xt("string",Rc._jsonSchemaVersion),bundleSource:xt("string","QuerySnapshot"),bundleName:xt("string"),bundle:xt("string")};var dg=class extends oD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ko(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,t)}};function j1(n,e,t,...r){n=Mo(n,Qt);let i=Mo(n.firestore,Uo),o=AD(i),s;return s=typeof(e=st(e))=="string"||e instanceof $c?e9(o,"updateDoc",n._key,e,t,r):J5(o,"updateDoc",n._key,e),kD(i,[s.toMutation(n._key,xi.exists(!0))])}function B1(n){return kD(Mo(n.firestore,Uo),[new ld(n._key,xi.none())])}function U1(n,e){let t=Mo(n.firestore,Uo),r=SD(n),i=i9(n.converter,e);return kD(t,[X5(AD(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function ND(n,...e){var t,r,i;n=st(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||aP(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(aP(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let c,u,d;if(n instanceof Qt)u=Mo(n.firestore,Uo),d=mD(n._key.path),c={next:p=>{e[s]&&e[s](s9(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Mo(n,oa);u=Mo(p.firestore,Uo),d=p._query;let m=new dg(u);c={next:g=>{e[s]&&e[s](new Rc(u,m,p,g))},error:e[s+1],complete:e[s+2]},r9(n._query)}return(function(m,g,I,x){let M=new YC(x),L=new $C(g,M,I);return m.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return R5(yield nP(m),L)})),()=>{M.Ou(),m.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return M5(yield nP(m),L)}))}})(M1(u),d,a,c)}function kD(n,e){return(function(r,i){let o=new Ai;return r.asyncQueue.enqueueAndForget(()=>y(null,null,function*(){return j5(yield Y5(r),i,o)})),o.promise})(M1(n),e)}function s9(n,e,t){let r=t.docs.get(e._key),i=new dg(n);return new Zs(n,i,e._key,r,new Qs(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){zc=i})(Io),Yt(new bt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Uo(new wI(r.getProvider("auth-internal")),new DI(s,r.getProvider("app-check-internal")),(function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new j(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jm(u.options.projectId,d)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Fe(gO,vO,e),Fe(gO,vO,"esm2017")})();var bg=function(){return bg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},bg.apply(this,arguments)};var l9={includeMetadataChanges:!1};function $1(n,e){return e===void 0&&(e=l9),new Q(function(t){var r=ND(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function z1(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:bg(bg({},r),(t={},t[e.idField]=n.id,t))}function H1(n){return $1(n,{includeMetadataChanges:!0}).pipe(q(function(e){return e.docs}))}function q1(n,e){return e===void 0&&(e={}),H1(n).pipe(q(function(t){return t.map(function(r){return z1(r,e)})}))}var aa=class{constructor(e){return e}},G1="firestore",OD=class{constructor(){return Co(G1)}};var PD=new O("angularfire2.firestore-instances");function u9(n,e){let t=$s(G1,n,e);return t&&new aa(t)}function d9(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new aa(r)}}var h9={provide:OD,deps:[[new yt,PD]]},f9={provide:aa,useFactory:u9,deps:[[new yt,PD],_r]};function W1(n,...e){return Fe("angularfire",Br.full,"fst"),qt([f9,h9,{provide:PD,useFactory:d9(n),multi:!0,deps:[$,ee,Ur,Ii,[new yt,Zu],[new yt,bc],...e]}])}var K1=Et(q1,!0);var Y1=Et(U1,!0,2);var Q1=Et(x1,!0,2);var Z1=Et(B1,!0,2);var X1=Et(SD,!0,2);var J1=Et(R1,!0);var eF=Et(L1,!0,2),tF=Et(F1,!0,2);var nF=Et(j1,!0,2);var oF="@firebase/installations",jD="0.6.18";var sF=1e4,aF=`w:${jD}`,cF="FIS_v2",p9="https://firebaseinstallations.googleapis.com/v1",m9=3600*1e3,g9="installations",v9="Installations";var _9={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},la=new _n(g9,v9,_9);function lF(n){return n instanceof Kt&&n.code.includes("request-failed")}function uF({projectId:n}){return`${p9}/projects/${n}/installations`}function dF(n){return{token:n.token,requestStatus:2,expiresIn:b9(n.expiresIn),creationTime:Date.now()}}function hF(n,e){return y(this,null,function*(){let r=(yield e.json()).error;return la.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function fF({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function y9(n,{refreshToken:e}){let t=fF(n);return t.append("Authorization",E9(e)),t}function pF(n){return y(this,null,function*(){let e=yield n();return e.status>=500&&e.status<600?n():e})}function b9(n){return Number(n.replace("s","000"))}function E9(n){return`${cF} ${n}`}function w9(r,i){return y(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let o=uF(n),s=fF(n),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let c={fid:t,authVersion:cF,appId:n.appId,sdkVersion:aF},u={method:"POST",headers:s,body:JSON.stringify(c)},d=yield pF(()=>fetch(o,u));if(d.ok){let p=yield d.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:dF(p.authToken)}}else throw yield hF("Create Installation",d)})}function mF(n){return new Promise(e=>{setTimeout(e,n)})}function I9(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var C9=/^[cdef][\w-]{21}$/,VD="";function D9(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=T9(n);return C9.test(t)?t:VD}catch{return VD}}function T9(n){return I9(n).substr(0,22)}function wg(n){return`${n.appName}!${n.appId}`}var gF=new Map;function vF(n,e){let t=wg(n);_F(t,e),S9(t,e)}function _F(n,e){let t=gF.get(n);if(t)for(let r of t)r(e)}function S9(n,e){let t=A9();t&&t.postMessage({key:n,fid:e}),x9()}var ca=null;function A9(){return!ca&&"BroadcastChannel"in self&&(ca=new BroadcastChannel("[Firebase] FID Change"),ca.onmessage=n=>{_F(n.data.key,n.data.fid)}),ca}function x9(){gF.size===0&&ca&&(ca.close(),ca=null)}var R9="firebase-installations-database",M9=1,ua="firebase-installations-store",FD=null;function BD(){return FD||(FD=Jp(R9,M9,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(ua)}}})),FD}function Eg(n,e){return y(this,null,function*(){let t=wg(n),i=(yield BD()).transaction(ua,"readwrite"),o=i.objectStore(ua),s=yield o.get(t);return yield o.put(e,t),yield i.done,(!s||s.fid!==e.fid)&&vF(n,e.fid),e})}function yF(n){return y(this,null,function*(){let e=wg(n),r=(yield BD()).transaction(ua,"readwrite");yield r.objectStore(ua).delete(e),yield r.done})}function Ig(n,e){return y(this,null,function*(){let t=wg(n),i=(yield BD()).transaction(ua,"readwrite"),o=i.objectStore(ua),s=yield o.get(t),a=e(s);return a===void 0?yield o.delete(t):yield o.put(a,t),yield i.done,a&&(!s||s.fid!==a.fid)&&vF(n,a.fid),a})}function UD(n){return y(this,null,function*(){let e,t=yield Ig(n.appConfig,r=>{let i=N9(r),o=k9(n,i);return e=o.registrationPromise,o.installationEntry});return t.fid===VD?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})}function N9(n){let e=n||{fid:D9(),registrationStatus:0};return bF(e)}function k9(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(la.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=O9(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:P9(n)}:{installationEntry:e}}function O9(n,e){return y(this,null,function*(){try{let t=yield w9(n,e);return Eg(n.appConfig,t)}catch(t){throw lF(t)&&t.customData.serverCode===409?yield yF(n.appConfig):yield Eg(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})}function P9(n){return y(this,null,function*(){let e=yield rF(n.appConfig);for(;e.registrationStatus===1;)yield mF(100),e=yield rF(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=yield UD(n);return r||t}return e})}function rF(n){return Ig(n,e=>{if(!e)throw la.create("installation-not-found");return bF(e)})}function bF(n){return F9(n)?{fid:n.fid,registrationStatus:0}:n}function F9(n){return n.registrationStatus===1&&n.registrationTime+sF<Date.now()}function L9(r,i){return y(this,arguments,function*({appConfig:n,heartbeatServiceProvider:e},t){let o=V9(n,t),s=y9(n,t),a=e.getImmediate({optional:!0});if(a){let p=yield a.getHeartbeatsHeader();p&&s.append("x-firebase-client",p)}let c={installation:{sdkVersion:aF,appId:n.appId}},u={method:"POST",headers:s,body:JSON.stringify(c)},d=yield pF(()=>fetch(o,u));if(d.ok){let p=yield d.json();return dF(p)}else throw yield hF("Generate Auth Token",d)})}function V9(n,{fid:e}){return`${uF(n)}/${e}/authTokens:generate`}function $D(n,e=!1){return y(this,null,function*(){let t,r=yield Ig(n.appConfig,o=>{if(!EF(o))throw la.create("not-registered");let s=o.authToken;if(!e&&U9(s))return o;if(s.requestStatus===1)return t=j9(n,e),o;{if(!navigator.onLine)throw la.create("app-offline");let a=z9(o);return t=B9(n,a),a}});return t?yield t:r.authToken})}function j9(n,e){return y(this,null,function*(){let t=yield iF(n.appConfig);for(;t.authToken.requestStatus===1;)yield mF(100),t=yield iF(n.appConfig);let r=t.authToken;return r.requestStatus===0?$D(n,e):r})}function iF(n){return Ig(n,e=>{if(!EF(e))throw la.create("not-registered");let t=e.authToken;return H9(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function B9(n,e){return y(this,null,function*(){try{let t=yield L9(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Eg(n.appConfig,r),t}catch(t){if(lF(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))yield yF(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Eg(n.appConfig,r)}throw t}})}function EF(n){return n!==void 0&&n.registrationStatus===2}function U9(n){return n.requestStatus===2&&!$9(n)}function $9(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+m9}function z9(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function H9(n){return n.requestStatus===1&&n.requestTime+sF<Date.now()}function q9(n){return y(this,null,function*(){let e=n,{installationEntry:t,registrationPromise:r}=yield UD(e);return r?r.catch(console.error):$D(e).catch(console.error),t.fid})}function G9(n,e=!1){return y(this,null,function*(){let t=n;return yield W9(t),(yield $D(t,e)).token})}function W9(n){return y(this,null,function*(){let{registrationPromise:e}=yield UD(n);e&&(yield e)})}function K9(n){if(!n||!n.options)throw LD("App Configuration");if(!n.name)throw LD("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw LD(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function LD(n){return la.create("missing-app-config-values",{valueName:n})}var wF="installations",Y9="installations-internal",Q9=n=>{let e=n.getProvider("app").getImmediate(),t=K9(e),r=Qn(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Z9=n=>{let e=n.getProvider("app").getImmediate(),t=Qn(e,wF).getImmediate();return{getId:()=>q9(t),getToken:i=>G9(t,i)}};function X9(){Yt(new bt(wF,Q9,"PUBLIC")),Yt(new bt(Y9,Z9,"PRIVATE"))}X9();Fe(oF,jD);Fe(oF,jD,"esm2017");var Cg="analytics",J9="firebase_id",eK="origin",tK=60*1e3,nK="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",YD="https://www.googletagmanager.com/gtag/js";var yn=new Yn("@firebase/analytics");var rK={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},jn=new _n("analytics","Analytics",rK);function iK(n){if(!n.startsWith(YD)){let e=jn.create("invalid-gtag-resource",{gtagURL:n});return yn.warn(e.message),""}return n}function xF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function oK(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function sK(n,e){let t=oK("firebase-js-sdk-policy",{createScriptURL:iK}),r=document.createElement("script"),i=`${YD}?l=${n}&id=${e}`;r.src=t?t?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function aK(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}function cK(n,e,t,r,i,o){return y(this,null,function*(){let s=r[i];try{if(s)yield e[s];else{let c=(yield xF(t)).find(u=>u.measurementId===i);c&&(yield e[c.appId])}}catch(a){yn.error(a)}n("config",i,o)})}function lK(n,e,t,r,i){return y(this,null,function*(){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);let a=yield xF(t);for(let c of s){let u=a.find(p=>p.measurementId===c),d=u&&e[u.appId];if(d)o.push(d);else{o=[];break}}}o.length===0&&(o=Object.values(e)),yield Promise.all(o),n("event",r,i||{})}catch(o){yn.error(o)}})}function uK(n,e,t,r){function i(o,...s){return y(this,null,function*(){try{if(o==="event"){let[a,c]=s;yield lK(n,e,t,a,c)}else if(o==="config"){let[a,c]=s;yield cK(n,e,t,r,a,c)}else if(o==="consent"){let[a,c]=s;n("consent",a,c)}else if(o==="get"){let[a,c,u]=s;n("get",a,c,u)}else if(o==="set"){let[a]=s;n("set",a)}else n(o,...s)}catch(a){yn.error(a)}})}return i}function dK(n,e,t,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=uK(o,n,e,t),{gtagCore:o,wrappedGtag:window[i]}}function hK(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(YD)&&t.src.includes(n))return t;return null}var fK=30,pK=1e3,HD=class{constructor(e={},t=pK){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},RF=new HD;function mK(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function gK(n){return y(this,null,function*(){var e;let{appId:t,apiKey:r}=n,i={method:"GET",headers:mK(r)},o=nK.replace("{app-id}",t),s=yield fetch(o,i);if(s.status!==200&&s.status!==304){let a="";try{let c=yield s.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw jn.create("config-fetch-failed",{httpStatus:s.status,responseMessage:a})}return s.json()})}function vK(r){return y(this,arguments,function*(n,e=RF,t){let{appId:i,apiKey:o,measurementId:s}=n.options;if(!i)throw jn.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:i};throw jn.create("no-api-key")}let a=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new qD;return setTimeout(()=>y(null,null,function*(){c.abort()}),t!==void 0?t:tK),MF({appId:i,apiKey:o,measurementId:s},a,c,e)})}function MF(o,s,a){return y(this,arguments,function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=RF){var c;let{appId:u,measurementId:d}=n;try{yield _K(r,e)}catch(p){if(d)return yn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:u,measurementId:d};throw p}try{let p=yield gK(n);return i.deleteThrottleMetadata(u),p}catch(p){let m=p;if(!yK(m)){if(i.deleteThrottleMetadata(u),d)return yn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:u,measurementId:d};throw p}let g=Number((c=m?.customData)===null||c===void 0?void 0:c.httpStatus)===503?Qp(t,i.intervalMillis,fK):Qp(t,i.intervalMillis),I={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return i.setThrottleMetadata(u,I),yn.debug(`Calling attemptFetch again in ${g} millis`),MF(n,I,r,i)}})}function _K(n,e){return new Promise((t,r)=>{let i=Math.max(e-Date.now(),0),o=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(o),r(jn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function yK(n){if(!(n instanceof Kt)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var qD=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var GD;function bK(n,e,t,r,i){return y(this,null,function*(){if(i&&i.global){n("event",t,r);return}else{let o=yield e,s=Object.assign(Object.assign({},r),{send_to:o});n("event",t,s)}})}function EK(n,e,t,r){return y(this,null,function*(){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();{let i=yield e;n("config",i,{update:!0,user_id:t})}})}var WD;function wK(n){WD=n}function IK(n){GD=n}function CK(){return y(this,null,function*(){if(js())try{yield Yp()}catch(n){return yn.warn(jn.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return yn.warn(jn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0})}function DK(n,e,t,r,i,o,s){return y(this,null,function*(){var a;let c=vK(n);c.then(g=>{t[g.measurementId]=g.appId,n.options.measurementId&&g.measurementId!==n.options.measurementId&&yn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>yn.error(g)),e.push(c);let u=CK().then(g=>{if(g)return r.getId()}),[d,p]=yield Promise.all([c,u]);hK(o)||sK(o,d.measurementId),WD&&(i("consent","default",WD),wK(void 0)),i("js",new Date);let m=(a=s?.config)!==null&&a!==void 0?a:{};return m[eK]="firebase",m.update=!0,p!=null&&(m[J9]=p),i("config",d.measurementId,m),GD&&(i("set",GD),IK(void 0)),d.measurementId})}var KD=class{constructor(e){this.app=e}_delete(){return delete Wc[this.app.options.appId],Promise.resolve()}},Wc={},IF=[],CF={},zD="dataLayer",TK="gtag",DF,QD,TF=!1;function SK(){let n=[];if(Kp()&&n.push("This is a browser extension environment."),$N()||n.push("Cookies are not available."),n.length>0){let e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=jn.create("invalid-analytics-context",{errorInfo:e});yn.warn(t.message)}}function AK(n,e,t){SK();let r=n.options.appId;if(!r)throw jn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)yn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw jn.create("no-api-key");if(Wc[r]!=null)throw jn.create("already-exists",{id:r});if(!TF){aK(zD);let{wrappedGtag:o,gtagCore:s}=dK(Wc,IF,CF,zD,TK);QD=o,DF=s,TF=!0}return Wc[r]=DK(n,IF,CF,e,DF,zD,t),new KD(n)}function NF(n=jr()){n=st(n);let e=Qn(n,Cg);return e.isInitialized()?e.getImmediate():kF(n)}function kF(n,e={}){let t=Qn(n,Cg);if(t.isInitialized()){let i=t.getImmediate();if(Kn(e,t.getOptions()))return i;throw jn.create("already-initialized")}return t.initialize({options:e})}function OF(n,e,t){n=st(n),EK(QD,Wc[n.app.options.appId],e,t).catch(r=>yn.error(r))}function ZD(n,e,t,r){n=st(n),bK(QD,Wc[n.app.options.appId],e,t,r).catch(i=>yn.error(i))}var SF="@firebase/analytics",AF="0.10.17";function xK(){Yt(new bt(Cg,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return AK(r,i,t)},"PUBLIC")),Yt(new bt("analytics-internal",n,"PRIVATE")),Fe(SF,AF),Fe(SF,AF,"esm2017");function n(e){try{let t=e.getProvider(Cg).getImmediate();return{logEvent:(r,i,o)=>ZD(t,r,i,o)}}catch(t){throw jn.create("interop-component-reg-failed",{reason:t})}}}xK();var Pi=class{constructor(e){return e}},PF="analytics",XD=class{constructor(){return Co(PF)}};var FF=Et(NF,!0);var Dg=Et(ZD,!1,2);var LF=Et(OF,!0,2);var xye=Math.floor(Math.random()*(2**32-1))-2**31;var JD=new O("angularfire2.analytics-instances");function RK(n,e,t){if(!pu(t))return null;let r=$s(PF,n,e);return r&&new Pi(r)}function MK(n){return(e,t,r)=>{if(!pu(r))return null;let i=e.runOutsideAngular(()=>n(t));return new Pi(i)}}var NK={provide:XD,deps:[[new yt,JD]]},kK={provide:Pi,useFactory:RK,deps:[[new yt,JD],_r,Nn]};function VF(n,...e){return Fe("angularfire",Br.full,"analytics"),qt([kK,NK,{provide:JD,useFactory:MK(n),multi:!0,deps:[$,ee,Nn,Ur,Ii,...e]}])}var BF=[];var OK={apiKey:"AIzaSyD4y3wrTd_L8iyuZ5PZErZWD0TeKRmh6hk",authDomain:"shopping-list-eb050.firebaseapp.com",projectId:"shopping-list-eb050",storageBucket:"shopping-list-eb050.firebasestorage.app",messagingSenderId:"928814225023",appId:"1:928814225023:web:45b6ebf3e995322489514a",measurementId:"G-RKSPH4TN0H"},UF={providers:[vy(),tE({eventCoalescing:!0}),tw(BF),ak(()=>ck(OK)),W1(()=>J1()),uO(()=>hO()),VF(()=>FF())]};function nT(n){return n==null||rT(n)===0}function rT(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var KF=new O(""),YF=new O(""),PK=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Sg=class{static min(e){return FK(e)}static max(e){return LK(e)}static required(e){return VK(e)}static requiredTrue(e){return jK(e)}static email(e){return BK(e)}static minLength(e){return UK(e)}static maxLength(e){return $K(e)}static pattern(e){return zK(e)}static nullValidator(e){return QF()}static compose(e){return nL(e)}static composeAsync(e){return rL(e)}};function FK(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function LK(n){return e=>{if(e.value==null||n==null)return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function VK(n){return nT(n.value)?{required:!0}:null}function jK(n){return n.value===!0?null:{required:!0}}function BK(n){return nT(n.value)||PK.test(n.value)?null:{email:!0}}function UK(n){return e=>{let t=e.value?.length??rT(e.value);return t===null||t===0?null:t<n?{minlength:{requiredLength:n,actualLength:t}}:null}}function $K(n){return e=>{let t=e.value?.length??rT(e.value);return t!==null&&t>n?{maxlength:{requiredLength:n,actualLength:t}}:null}}function zK(n){if(!n)return QF;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(nT(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function QF(n){return null}function ZF(n){return n!=null}function XF(n){return xs(n)?Ze(n):n}function JF(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function eL(n,e){return e.map(t=>t(n))}function HK(n){return!n.validate}function tL(n){return n.map(e=>HK(e)?e:t=>e.validate(t))}function nL(n){if(!n)return null;let e=n.filter(ZF);return e.length==0?null:function(t){return JF(eL(t,e))}}function iT(n){return n!=null?nL(tL(n)):null}function rL(n){if(!n)return null;let e=n.filter(ZF);return e.length==0?null:function(t){let r=eL(t,e).map(XF);return Tl(r).pipe(q(JF))}}function oT(n){return n!=null?rL(tL(n)):null}function $F(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function iL(n){return n._rawValidators}function oL(n){return n._rawAsyncValidators}function eT(n){return n?Array.isArray(n)?n:[n]:[]}function Ag(n,e){return Array.isArray(n)?n.includes(e):n===e}function zF(n,e){let t=eT(e);return eT(n).forEach(i=>{Ag(t,i)||t.push(i)}),t}function HF(n,e){return eT(e).filter(t=>!Ag(n,t))}var xg=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iT(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=oT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Qc=class extends xg{name;get formDirective(){return null}get path(){return null}},Rg=class extends xg{_parent=null;name=null;valueAccessor=null};var qK={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},nbe=oe(k({},qK),{"[class.ng-submitted]":"isSubmitted"});var bd="VALID",Tg="INVALID",Kc="PENDING",Ed="DISABLED",zo=class{},Mg=class extends zo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Id=class extends zo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Cd=class extends zo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},Yc=class extends zo{status;source;constructor(e,t){super(),this.status=e,this.source=t}},Ng=class extends zo{source;constructor(e){super(),this.source=e}},kg=class extends zo{source;constructor(e){super(),this.source=e}};function sL(n){return(Vg(n)?n.validators:n)||null}function GK(n){return Array.isArray(n)?iT(n):n||null}function aL(n,e){return(Vg(e)?e.asyncValidators:n)||null}function WK(n){return Array.isArray(n)?oT(n):n||null}function Vg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function KK(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[t])throw new B(1001,"")}function YK(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new B(1002,"")})}var Og=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Lt(this.statusReactive)}set status(e){Lt(()=>this.statusReactive.set(e))}_status=gr(()=>this.statusReactive());statusReactive=$e(void 0);get valid(){return this.status===bd}get invalid(){return this.status===Tg}get pending(){return this.status==Kc}get disabled(){return this.status===Ed}get enabled(){return this.status!==Ed}errors;get pristine(){return Lt(this.pristineReactive)}set pristine(e){Lt(()=>this.pristineReactive.set(e))}_pristine=gr(()=>this.pristineReactive());pristineReactive=$e(!0);get dirty(){return!this.pristine}get touched(){return Lt(this.touchedReactive)}set touched(e){Lt(()=>this.touchedReactive.set(e))}_touched=gr(()=>this.touchedReactive());touchedReactive=$e(!1);get untouched(){return!this.touched}_events=new G;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(zF(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(zF(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(HF(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(HF(e,this._rawAsyncValidators))}hasValidator(e){return Ag(this._rawValidators,e)}hasAsyncValidator(e){return Ag(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Cd(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Cd(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Id(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Id(!0,r))}markAsPending(e={}){this.status=Kc;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Yc(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ed,this.errors=null,this._forEachChild(i=>{i.disable(oe(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mg(this.value,r)),this._events.next(new Yc(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=bd,this._forEachChild(r=>{r.enable(oe(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bd||this.status===Kc)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mg(this.value,t)),this._events.next(new Yc(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ed:bd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Kc,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=XF(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Yc(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ye,this.statusChanges=new ye}_calculateStatus(){return this._allControlsDisabled()?Ed:this.errors?Tg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Kc)?Kc:this._anyControlsHaveStatus(Tg)?Tg:bd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Id(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Cd(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Vg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=GK(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WK(this._rawAsyncValidators)}},Pg=class extends Og{constructor(e,t,r){super(sL(t),aL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){YK(this,!0,e),Object.keys(e).forEach(r=>{KK(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var sT=new O("",{providedIn:"root",factory:()=>aT}),aT="always";function tT(n,e,t=aT){cT(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),ZK(n,e),JK(n,e),XK(n,e),QK(n,e)}function qF(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Lg(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Fg(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function QK(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function cT(n,e){let t=iL(n);e.validator!==null?n.setValidators($F(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=oL(n);e.asyncValidator!==null?n.setAsyncValidators($F(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();Fg(e._rawValidators,i),Fg(e._rawAsyncValidators,i)}function Lg(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=iL(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=oL(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return Fg(e._rawValidators,r),Fg(e._rawAsyncValidators,r),t}function ZK(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&cL(n,e)})}function XK(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&cL(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function cL(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JK(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function lL(n,e){n==null,cT(n,e)}function e7(n,e){return Lg(n,e)}function uL(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function t7(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var n7={provide:Qc,useExisting:to(()=>lT)},wd=Promise.resolve(),lT=(()=>{class n extends Qc{callSetDisabledState;get submitted(){return Lt(this.submittedReactive)}_submitted=gr(()=>this.submittedReactive());submittedReactive=$e(!1);_directives=new Set;form;ngSubmit=new ye;options;constructor(t,r,i){super(),this.callSetDisabledState=i,this.form=new Pg({},iT(t),oT(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wd.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),tT(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){wd.then(()=>{let r=this._findContainer(t.path),i=new Pg({});lL(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wd.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){wd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),uL(this.form,this._directives),this.ngSubmit.emit(t),this.form._events.next(new Ng(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1),this.form._events.next(new kg(this.form))}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static \u0275fac=function(r){return new(r||n)(Ft(KF,10),Ft(YF,10),Ft(sT,8))};static \u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Wn([n7]),Nr]})}return n})();function GF(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function WF(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var r7=class extends Og{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(sL(t),aL(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(WF(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){GF(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){GF(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){WF(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var i7=n=>n instanceof r7;var o7={provide:Qc,useExisting:to(()=>uT)},uT=(()=>{class n extends Qc{callSetDisabledState;get submitted(){return Lt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=gr(()=>this._submittedReactive());_submittedReactive=$e(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ye;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Lg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return tT(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){qF(t.control||null,t,!1),t7(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),uL(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ng(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new kg(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(qF(r||null,t),i7(i)&&(tT(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);lL(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&e7(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cT(this.form,this),this._oldForm&&Lg(this._oldForm,this)}static \u0275fac=function(r){return new(r||n)(Ft(KF,10),Ft(YF,10),Ft(sT,8))};static \u0275dir=Ne({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ae("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Wn([o7]),Nr,Mn]})}return n})();var s7=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({})}return n})();var dL=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:sT,useValue:t.callSetDisabledState??aT}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[s7]})}return n})();function Dd(n){return n.buttons===0||n.detail===0}function Td(n){let e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var dT;function hL(){if(dT==null){let n=typeof document<"u"?document.head:null;dT=!!(n&&(n.createShadowRoot||n.attachShadow))}return dT}function hT(n){if(hL()){let e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function bn(n){return n.composedPath?n.composedPath()[0]:n.target}var fT;try{fT=typeof Intl<"u"&&Intl.v8BreakIterator}catch{fT=!1}var rt=(()=>{class n{_platformId=_(Nn);isBrowser=this._platformId?pu(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||fT)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Sd;function fL(){if(Sd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sd=!0}))}finally{Sd=Sd||!1}return Sd}function Ho(n){return fL()?n:!!n.capture}function Ad(n,e=0){return pL(n)?Number(n):arguments.length===2?e:0}function pL(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Kr(n){return n instanceof Ee?n.nativeElement:n}var mL=new O("cdk-input-modality-detector-options"),gL={ignoreKeys:[18,17,224,91,16]},vL=650,pT={passive:!0,capture:!0},_L=(()=>{class n{_platform=_(rt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new pt(null);_options;_lastTouchMs=0;_onKeydown=t=>{this._options?.ignoreKeys?.some(r=>r===t.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=bn(t))};_onMousedown=t=>{Date.now()-this._lastTouchMs<vL||(this._modality.next(Dd(t)?"keyboard":"mouse"),this._mostRecentTarget=bn(t))};_onTouchstart=t=>{if(Td(t)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=bn(t)};constructor(){let t=_($),r=_(ce),i=_(mL,{optional:!0});if(this._options=k(k({},gL),i),this.modalityDetected=this._modality.pipe(Ml(1)),this.modalityChanged=this.modalityDetected.pipe(Al()),this._platform.isBrowser){let o=_(Pt).createRenderer(null,null);this._listenerCleanups=t.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,pT),o.listen(r,"mousedown",this._onMousedown,pT),o.listen(r,"touchstart",this._onTouchstart,pT)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(t=>t())}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),xd=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(xd||{}),yL=new O("cdk-focus-monitor-default-options"),jg=Ho({passive:!0,capture:!0}),Rd=(()=>{class n{_ngZone=_($);_platform=_(rt);_inputModalityDetector=_(_L);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=_(ce);_stopInputModalityDetector=new G;constructor(){let t=_(yL,{optional:!0});this._detectionMode=t?.detectionMode||xd.IMMEDIATE}_rootNodeFocusAndBlurListener=t=>{let r=bn(t);for(let i=r;i;i=i.parentElement)t.type==="focus"?this._onFocus(t,i):this._onBlur(t,i)};monitor(t,r=!1){let i=Kr(t);if(!this._platform.isBrowser||i.nodeType!==1)return W();let o=hT(i)||this._document,s=this._elementInfo.get(i);if(s)return r&&(s.checkChildren=!0),s.subject;let a={checkChildren:r,subject:new G,rootNode:o};return this._elementInfo.set(i,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){let r=Kr(t),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(t,r,i){let o=Kr(t),s=this._document.activeElement;o===s?this._getClosestElementsInfo(o).forEach(([a,c])=>this._originChanged(a,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((t,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return this._detectionMode===xd.EVENTUAL||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,r){t.classList.toggle("cdk-focused",!!r),t.classList.toggle("cdk-touch-focused",r==="touch"),t.classList.toggle("cdk-keyboard-focused",r==="keyboard"),t.classList.toggle("cdk-mouse-focused",r==="mouse"),t.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(t,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=t,this._originFromTouchInteraction=t==="touch"&&r,this._detectionMode===xd.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?vL:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(t,r){let i=this._elementInfo.get(r),o=bn(t);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(t,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&t.relatedTarget instanceof Node&&r.contains(t.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(t,r){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(r))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;let r=t.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,jg),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,jg)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ye(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){let r=t.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,jg),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,jg),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,r,i){this._setClasses(t,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(t){let r=[];return this._elementInfo.forEach((i,o)=>{(o===t||i.checkChildren&&o.contains(t))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(t){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===t||t.nodeName!=="INPUT"&&t.nodeName!=="TEXTAREA"||t.disabled)return!1;let o=t.labels;if(o){for(let s=0;s<o.length;s++)if(o[s].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Bg=new WeakMap,Jn=(()=>{class n{_appRef;_injector=_(ee);_environmentInjector=_(Xe);load(t){let r=this._appRef=this._appRef||this._injector.get(Cn),i=Bg.get(r);i||(i={loaders:new Set,refs:[]},Bg.set(r,i),r.onDestroy(()=>{Bg.get(r)?.refs.forEach(o=>o.destroy()),Bg.delete(r)})),i.loaders.has(t)||(i.loaders.add(t),i.refs.push(cp(t,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ug=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return n})();function Zc(n){return Array.isArray(n)?n:[n]}var bL=new Set,da,$g=(()=>{class n{_platform=_(rt);_nonce=_(Ja,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):c7}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&a7(t,this._nonce),this._matchMedia(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function a7(n,e){if(!bL.has(n))try{da||(da=document.createElement("style"),e&&da.setAttribute("nonce",e),da.setAttribute("type","text/css"),document.head.appendChild(da)),da.sheet&&(da.sheet.insertRule(`@media ${n} {body{ }}`,0),bL.add(n))}catch(t){console.error(t)}}function c7(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var mT=(()=>{class n{_mediaMatcher=_($g);_zone=_($);_queries=new Map;_destroySubject=new G;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return EL(Zc(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let i=EL(Zc(t)).map(s=>this._registerQuery(s).observable),o=Ma(i);return o=Yi(o.pipe(dn(1)),o.pipe(Ml(1),Sl(0))),o.pipe(q(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:u})=>{a.matches=a.matches||c,a.breakpoints[u]=c}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);let r=this._mediaMatcher.matchMedia(t),o={observable:new Q(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(Bn(r),q(({matches:s})=>({query:t,matches:s})),Ye(this._destroySubject)),mql:r};return this._queries.set(t,o),o}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function EL(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var l7=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var zg=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({providers:[l7]})}return n})();var CL=new O("liveAnnouncerElement",{providedIn:"root",factory:DL});function DL(){return null}var TL=new O("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),u7=0,vT=(()=>{class n{_ngZone=_($);_defaultOptions=_(TL,{optional:!0});_liveElement;_document=_(ce);_previousTimeout;_currentPromise;_currentResolve;constructor(){let t=_(CL,{optional:!0});this._liveElement=t||this._createLiveElement()}announce(t,...r){let i=this._defaultOptions,o,s;return r.length===1&&typeof r[0]=="number"?s=r[0]:[o,s]=r,this.clear(),clearTimeout(this._previousTimeout),o||(o=i&&i.politeness?i.politeness:"polite"),s==null&&i&&(s=i.duration),this._liveElement.setAttribute("aria-live",o),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(a=>this._currentResolve=a)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,typeof s=="number"&&(this._previousTimeout=setTimeout(()=>this.clear(),s)),this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){let t="cdk-live-announcer-element",r=this._document.getElementsByClassName(t),i=this._document.createElement("div");for(let o=0;o<r.length;o++)r[o].remove();return i.classList.add(t),i.classList.add("cdk-visually-hidden"),i.setAttribute("aria-atomic","true"),i.setAttribute("aria-live","polite"),i.id=`cdk-live-announcer-${u7++}`,this._document.body.appendChild(i),i}_exposeAnnouncerToModals(t){let r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let i=0;i<r.length;i++){let o=r[i],s=o.getAttribute("aria-owns");s?s.indexOf(t)===-1&&o.setAttribute("aria-owns",s+" "+t):o.setAttribute("aria-owns",t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var qo=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(qo||{}),wL="cdk-high-contrast-black-on-white",IL="cdk-high-contrast-white-on-black",gT="cdk-high-contrast-active",Hg=(()=>{class n{_platform=_(rt);_hasCheckedHighContrastMode;_document=_(ce);_breakpointSubscription;constructor(){this._breakpointSubscription=_(mT).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return qo.NONE;let t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(t):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return qo.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return qo.BLACK_ON_WHITE}return qo.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let t=this._document.body.classList;t.remove(gT,wL,IL),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===qo.BLACK_ON_WHITE?t.add(gT,wL):r===qo.WHITE_ON_BLACK&&t.add(gT,IL)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_T=(()=>{class n{constructor(){_(Hg)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[zg]})}return n})();var yT={},er=(()=>{class n{_appId=_(ho);getId(t){return this._appId!=="ng"&&(t+=this._appId),yT.hasOwnProperty(t)||(yT[t]=0),`${t}${yT[t]++}`}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var d7=200,qg=class{_letterKeyStream=new G;_items=[];_selectedItemIndex=-1;_pressedLetters=[];_skipPredicateFn;_selectedItem=new G;selectedItem=this._selectedItem;constructor(e,t){let r=typeof t?.debounceInterval=="number"?t.debounceInterval:d7;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(r)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(it(t=>this._pressedLetters.push(t)),Sl(e),Oe(()=>this._pressedLetters.length>0),q(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let r=1;r<this._items.length+1;r++){let i=(this._selectedItemIndex+r)%this._items.length,o=this._items[i];if(!this._skipPredicateFn?.(o)&&o.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(o);break}}this._pressedLetters=[]})}};function tr(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Gg=class{_items;_activeItemIndex=$e(-1);_activeItem=$e(null);_wrap=!1;_typeaheadSubscription=Ie.EMPTY;_itemChangesSubscription;_vertical=!0;_horizontal;_allowedModifierKeys=[];_homeAndEnd=!1;_pageUpAndDown={enabled:!1,delta:10};_effectRef;_typeahead;_skipPredicateFn=e=>e.disabled;constructor(e,t){this._items=e,e instanceof Ds?this._itemChangesSubscription=e.changes.subscribe(r=>this._itemsChanged(r.toArray())):bs(e)&&(this._effectRef=oc(()=>this._itemsChanged(e()),{injector:t}))}tabOut=new G;change=new G;skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new qg(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:r=>this._skipPredicateFn(r)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(r=>{this.setActiveItem(r)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem();this.updateActiveItem(e),this._activeItem()!==t&&this.change.next(this._activeItemIndex())}onKeydown(e){let t=e.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&i){this.setNextItemActive();break}else return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&i){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&i){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&i){let o=this._activeItemIndex()+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}else return;default:(i||tr(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex()}get activeItem(){return this._activeItem()}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex()<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex()<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),r=typeof e=="number"?e:t.indexOf(e),i=t[r];this._activeItem.set(i??null),this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let r=1;r<=t.length;r++){let i=(this._activeItemIndex()+e*r+t.length)%t.length,o=t[i];if(!this._skipPredicateFn(o)){this.setActiveItem(i);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex()+e,e)}_setActiveItemByIndex(e,t){let r=this._getItemsArray();if(r[e]){for(;this._skipPredicateFn(r[e]);)if(e+=t,!r[e])return;this.setActiveItem(e)}}_getItemsArray(){return bs(this._items)?this._items():this._items instanceof Ds?this._items.toArray():this._items}_itemsChanged(e){this._typeahead?.setItems(e);let t=this._activeItem();if(t){let r=e.indexOf(t);r>-1&&r!==this._activeItemIndex()&&(this._activeItemIndex.set(r),this._typeahead?.setCurrentSelectedItemIndex(r))}}};var Md=class extends Gg{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}};var ML=" ";function CT(n,e,t){let r=Kg(n,e);t=t.trim(),!r.some(i=>i.trim()===t)&&(r.push(t),n.setAttribute(e,r.join(ML)))}function Yg(n,e,t){let r=Kg(n,e);t=t.trim();let i=r.filter(o=>o!==t);i.length?n.setAttribute(e,i.join(ML)):n.removeAttribute(e)}function Kg(n,e){return n.getAttribute(e)?.match(/\S+/g)??[]}var NL="cdk-describedby-message",Wg="cdk-describedby-host",IT=0,kL=(()=>{class n{_platform=_(rt);_document=_(ce);_messageRegistry=new Map;_messagesContainer=null;_id=`${IT++}`;constructor(){_(Jn).load(Ug),this._id=_(ho)+"-"+IT++}describe(t,r,i){if(!this._canBeDescribed(t,r))return;let o=wT(r,i);typeof r!="string"?(RL(r,this._id),this._messageRegistry.set(o,{messageElement:r,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(r,i),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,r,i){if(!r||!this._isElementNode(t))return;let o=wT(r,i);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),typeof r=="string"){let s=this._messageRegistry.get(o);s&&s.referenceCount===0&&this._deleteMessageElement(o)}this._messagesContainer?.childNodes.length===0&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){let t=this._document.querySelectorAll(`[${Wg}="${this._id}"]`);for(let r=0;r<t.length;r++)this._removeCdkDescribedByReferenceIds(t[r]),t[r].removeAttribute(Wg);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,r){let i=this._document.createElement("div");RL(i,this._id),i.textContent=t,r&&i.setAttribute("role",r),this._createMessagesContainer(),this._messagesContainer.appendChild(i),this._messageRegistry.set(wT(t,r),{messageElement:i,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;let t="cdk-describedby-message-container",r=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<r.length;o++)r[o].remove();let i=this._document.createElement("div");i.style.visibility="hidden",i.classList.add(t),i.classList.add("cdk-visually-hidden"),this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._messagesContainer=i}_removeCdkDescribedByReferenceIds(t){let r=Kg(t,"aria-describedby").filter(i=>i.indexOf(NL)!=0);t.setAttribute("aria-describedby",r.join(" "))}_addMessageReference(t,r){let i=this._messageRegistry.get(r);CT(t,"aria-describedby",i.messageElement.id),t.setAttribute(Wg,this._id),i.referenceCount++}_removeMessageReference(t,r){let i=this._messageRegistry.get(r);i.referenceCount--,Yg(t,"aria-describedby",i.messageElement.id),t.removeAttribute(Wg)}_isElementDescribedByMessage(t,r){let i=Kg(t,"aria-describedby"),o=this._messageRegistry.get(r),s=o&&o.messageElement.id;return!!s&&i.indexOf(s)!=-1}_canBeDescribed(t,r){if(!this._isElementNode(t))return!1;if(r&&typeof r=="object")return!0;let i=r==null?"":`${r}`.trim(),o=t.getAttribute("aria-label");return i?!o||o.trim()!==i:!1}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wT(n,e){return typeof n=="string"?`${e||""}/${n}`:n}function RL(n,e){n.id||(n.id=`${NL}-${e}-${IT++}`)}var h7=new O("cdk-dir-doc",{providedIn:"root",factory:f7});function f7(){return _(ce)}var p7=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function OL(n){let e=n?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?p7.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Yr=(()=>{class n{get value(){return this.valueSignal()}valueSignal=$e("ltr");change=new ye;constructor(){let t=_(h7,{optional:!0});if(t){let r=t.body?t.body.dir:null,i=t.documentElement?t.documentElement.dir:null;this.valueSignal.set(OL(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Go=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({})}return n})();function wt(n){return n==null?"":typeof n=="string"?n:`${n}px`}function Nd(n){return n!=null&&`${n}`!="false"}var ha;function PL(){if(ha==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ha=!1,ha;if("scrollBehavior"in document.documentElement.style)ha=!0;else{let n=Element.prototype.scrollTo;n?ha=!/\{\s*\[native code\]\s*\}/.test(n.toString()):ha=!1}}return ha}function DT(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var TT=class{_box;_destroyed=new G;_resizeSubject=new G;_resizeObserver;_elementObservables=new Map;constructor(e){this._box=e,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new Q(t=>{let r=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),r.unsubscribe(),this._elementObservables.delete(e)}}).pipe(Oe(t=>t.some(r=>r.target===e)),Gh({bufferSize:1,refCount:!0}),Ye(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}},FL=(()=>{class n{_cleanupErrorListener;_observers=new Map;_ngZone=_($);constructor(){typeof ResizeObserver<"u"}ngOnDestroy(){for(let[,t]of this._observers)t.destroy();this._observers.clear(),this._cleanupErrorListener?.()}observe(t,r){let i=r?.box||"content-box";return this._observers.has(i)||this._observers.set(i,new TT(i)),this._observers.get(i).observe(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var m7=new O("MATERIAL_ANIMATIONS");var LL=null;function g7(){return _(m7,{optional:!0})?.animationsDisabled||_(nu,{optional:!0})==="NoopAnimations"?"di-disabled":(LL??=_($g).matchMedia("(prefers-reduced-motion)").matches,LL?"reduced-motion":"enabled")}function En(){return g7()!=="enabled"}var v7=["notch"],_7=["matFormFieldNotchedOutline",""],y7=["*"],VL=["iconPrefixContainer"],jL=["textPrefixContainer"],BL=["iconSuffixContainer"],UL=["textSuffixContainer"],b7=["textField"],E7=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],w7=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];function I7(n,e){n&1&&dt(0,"span",20)}function C7(n,e){if(n&1&&(z(0,"label",19),ot(1,1),ze(2,I7,1,0,"span",20),K()),n&2){let t=xe(2);Be("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),lt("for",t._control.disableAutomaticLabeling?null:t._control.id),Y(2),He(!t.hideRequiredMarker&&t._control.required?2:-1)}}function D7(n,e){if(n&1&&ze(0,C7,3,5,"label",19),n&2){let t=xe();He(t._hasFloatingLabel()?0:-1)}}function T7(n,e){n&1&&dt(0,"div",7)}function S7(n,e){}function A7(n,e){if(n&1&&fo(0,S7,0,0,"ng-template",13),n&2){xe(2);let t=pr(1);Be("ngTemplateOutlet",t)}}function x7(n,e){if(n&1&&(z(0,"div",9),ze(1,A7,1,1,null,13),K()),n&2){let t=xe();Be("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),Y(),He(t._forceDisplayInfixLabel()?-1:1)}}function R7(n,e){n&1&&(z(0,"div",10,2),ot(2,2),K())}function M7(n,e){n&1&&(z(0,"div",11,3),ot(2,3),K())}function N7(n,e){}function k7(n,e){if(n&1&&fo(0,N7,0,0,"ng-template",13),n&2){xe();let t=pr(1);Be("ngTemplateOutlet",t)}}function O7(n,e){n&1&&(z(0,"div",14,4),ot(2,4),K())}function P7(n,e){n&1&&(z(0,"div",15,5),ot(2,5),K())}function F7(n,e){n&1&&dt(0,"div",16)}function L7(n,e){n&1&&ot(0,6)}function V7(n,e){if(n&1&&(z(0,"mat-hint",21),Qe(1),K()),n&2){let t=xe(2);Be("id",t._hintLabelId),Y(),Tn(t.hintLabel)}}function j7(n,e){if(n&1&&(ze(0,V7,2,2,"mat-hint",21),ot(1,7),dt(2,"div",22),ot(3,8)),n&2){let t=xe();He(t.hintLabel?0:-1)}}var $L=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["mat-label"]]})}return n})(),B7=new O("MatError");var zL=(()=>{class n{align="start";id=_(er).getId("mat-mdc-hint-");static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(r,i){r&2&&(rc("id",i.id),lt("align",null),Ue("mat-mdc-form-field-hint-end",i.align==="end"))},inputs:{align:"align",id:"id"}})}return n})(),U7=new O("MatPrefix");var $7=new O("MatSuffix");var QL=new O("FloatingLabelParent"),HL=(()=>{class n{_elementRef=_(Ee);get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}_floating=!1;get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}_monitorResize=!1;_resizeObserver=_(FL);_ngZone=_($);_parent=_(QL);_resizeSubscription=new Ie;constructor(){}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return z7(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(r,i){r&2&&Ue("mdc-floating-label--float-above",i.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();function z7(n){let e=n;if(e.offsetParent!==null)return e.scrollWidth;let t=e.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);let r=t.scrollWidth;return t.remove(),r}var qL="mdc-line-ripple--active",Qg="mdc-line-ripple--deactivating",GL=(()=>{class n{_elementRef=_(Ee);_cleanupTransitionEnd;constructor(){let t=_($),r=_(kn);t.runOutsideAngular(()=>{this._cleanupTransitionEnd=r.listen(this._elementRef.nativeElement,"transitionend",this._handleTransitionEnd)})}activate(){let t=this._elementRef.nativeElement.classList;t.remove(Qg),t.add(qL)}deactivate(){this._elementRef.nativeElement.classList.add(Qg)}_handleTransitionEnd=t=>{let r=this._elementRef.nativeElement.classList,i=r.contains(Qg);t.propertyName==="opacity"&&i&&r.remove(qL,Qg)};ngOnDestroy(){this._cleanupTransitionEnd()}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),WL=(()=>{class n{_elementRef=_(Ee);_ngZone=_($);open=!1;_notch;ngAfterViewInit(){let t=this._elementRef.nativeElement,r=t.querySelector(".mdc-floating-label");r?(t.classList.add("mdc-notched-outline--upgraded"),typeof requestAnimationFrame=="function"&&(r.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>r.style.transitionDuration="")}))):t.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){let r=this._notch.nativeElement;!this.open||!t?r.style.width="":r.style.width=`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`}_setMaxWidth(t){this._notch.nativeElement.style.setProperty("--mat-form-field-notch-max-width",`calc(100% - ${t}px)`)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(r,i){if(r&1&&Dt(v7,5),r&2){let o;qe(o=Ge())&&(i._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(r,i){r&2&&Ue("mdc-notched-outline--notched",i.open)},inputs:{open:[0,"matFormFieldNotchedOutlineOpen","open"]},attrs:_7,ngContentSelectors:y7,decls:5,vars:0,consts:[["notch",""],[1,"mat-mdc-notch-piece","mdc-notched-outline__leading"],[1,"mat-mdc-notch-piece","mdc-notched-outline__notch"],[1,"mat-mdc-notch-piece","mdc-notched-outline__trailing"]],template:function(r,i){r&1&&(Dn(),kr(0,"div",1),mo(1,"div",2,0),ot(3),go(),kr(4,"div",3))},encapsulation:2,changeDetection:0})}return n})(),ST=(()=>{class n{value;stateChanges;id;placeholder;ngControl;focused;empty;shouldLabelFloat;required;disabled;errorState;controlType;autofilled;userAriaDescribedBy;disableAutomaticLabeling;describedByIds;static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n})}return n})();var AT=new O("MatFormField"),H7=new O("MAT_FORM_FIELD_DEFAULT_OPTIONS"),KL="fill",q7="auto",YL="fixed",G7="translateY(-50%)",Zg=(()=>{class n{_elementRef=_(Ee);_changeDetectorRef=_(gn);_platform=_(rt);_idGenerator=_(er);_ngZone=_($);_defaults=_(H7,{optional:!0});_currentDirection;_textField;_iconPrefixContainer;_textPrefixContainer;_iconSuffixContainer;_textSuffixContainer;_floatingLabel;_notchedOutline;_lineRipple;_iconPrefixContainerSignal=uu("iconPrefixContainer");_textPrefixContainerSignal=uu("textPrefixContainer");_iconSuffixContainerSignal=uu("iconSuffixContainer");_textSuffixContainerSignal=uu("textSuffixContainer");_prefixSuffixContainers=gr(()=>[this._iconPrefixContainerSignal(),this._textPrefixContainerSignal(),this._iconSuffixContainerSignal(),this._textSuffixContainerSignal()].map(t=>t?.nativeElement).filter(t=>t!==void 0));_formFieldControl;_prefixChildren;_suffixChildren;_errorChildren;_hintChildren;_labelChild=hM($L);get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Nd(t)}_hideRequiredMarker=!1;color="primary";get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||q7}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}_floatLabel;get appearance(){return this._appearanceSignal()}set appearance(t){let r=t||this._defaults?.appearance||KL;this._appearanceSignal.set(r)}_appearanceSignal=$e(KL);get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||YL}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||YL}_subscriptSizing=null;get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}_hintLabel="";_hasIconPrefix=!1;_hasTextPrefix=!1;_hasIconSuffix=!1;_hasTextSuffix=!1;_labelId=this._idGenerator.getId("mat-mdc-form-field-label-");_hintLabelId=this._idGenerator.getId("mat-mdc-hint-");_describedByIds;get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}_destroyed=new G;_isFocused=null;_explicitFormFieldControl;_previousControl=null;_previousControlValidatorFn=null;_stateChanges;_valueChanges;_describedByChanges;_outlineLabelOffsetResizeObserver=null;_animationsDisabled=En();constructor(){let t=this._defaults,r=_(Yr);t&&(t.appearance&&(this.appearance=t.appearance),this._hideRequiredMarker=!!t?.hideRequiredMarker,t.color&&(this.color=t.color)),oc(()=>this._currentDirection=r.valueSignal()),this._syncOutlineLabelOffset()}ngAfterViewInit(){this._updateFocusState(),this._animationsDisabled||this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-form-field-animations-enabled")},300)}),this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeSubscript(),this._initializePrefixAndSuffix()}ngAfterContentChecked(){this._assertFormFieldControl(),this._control!==this._previousControl&&(this._initializeControl(this._previousControl),this._control.ngControl&&this._control.ngControl.control&&(this._previousControlValidatorFn=this._control.ngControl.control.validator),this._previousControl=this._control),this._control.ngControl&&this._control.ngControl.control&&this._control.ngControl.control.validator!==this._previousControlValidatorFn&&this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._outlineLabelOffsetResizeObserver?.disconnect(),this._stateChanges?.unsubscribe(),this._valueChanges?.unsubscribe(),this._describedByChanges?.unsubscribe(),this._destroyed.next(),this._destroyed.complete()}getLabelId=gr(()=>this._hasFloatingLabel()?this._labelId:null);getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(t){let r=this._control,i="mat-mdc-form-field-type-";t&&this._elementRef.nativeElement.classList.remove(i+t.controlType),r.controlType&&this._elementRef.nativeElement.classList.add(i+r.controlType),this._stateChanges?.unsubscribe(),this._stateChanges=r.stateChanges.subscribe(()=>{this._updateFocusState(),this._changeDetectorRef.markForCheck()}),this._describedByChanges?.unsubscribe(),this._describedByChanges=r.stateChanges.pipe(Bn([void 0,void 0]),q(()=>[r.errorState,r.userAriaDescribedBy]),xl(),Oe(([[o,s],[a,c]])=>o!==a||s!==c)).subscribe(()=>this._syncDescribedByIds()),this._valueChanges?.unsubscribe(),r.ngControl&&r.ngControl.valueChanges&&(this._valueChanges=r.ngControl.valueChanges.pipe(Ye(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()))}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),as(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){this._control}_updateFocusState(){let t=this._control.focused;t&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!t&&(this._isFocused||this._isFocused===null)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._elementRef.nativeElement.classList.toggle("mat-focused",t),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",t)}_syncOutlineLabelOffset(){mM({earlyRead:()=>{if(this._appearanceSignal()!=="outline")return this._outlineLabelOffsetResizeObserver?.disconnect(),null;if(globalThis.ResizeObserver){this._outlineLabelOffsetResizeObserver||=new globalThis.ResizeObserver(()=>{this._writeOutlinedLabelStyles(this._getOutlinedLabelOffset())});for(let t of this._prefixSuffixContainers())this._outlineLabelOffsetResizeObserver.observe(t,{box:"border-box"})}return this._getOutlinedLabelOffset()},write:t=>this._writeOutlinedLabelStyles(t())})}_shouldAlwaysFloat(){return this.floatLabel==="always"}_hasOutline(){return this.appearance==="outline"}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel=gr(()=>!!this._labelChild());_shouldLabelFloat(){return this._hasFloatingLabel()?this._control.shouldLabelFloat||this._shouldAlwaysFloat():!1}_shouldForward(t){let r=this._control?this._control.ngControl:null;return r&&r[t]}_getSubscriptMessageType(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){!this._hasOutline()||!this._floatingLabel||!this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(0):this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth())}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){this._hintChildren}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&typeof this._control.userAriaDescribedBy=="string"&&t.push(...this._control.userAriaDescribedBy.split(" ")),this._getSubscriptMessageType()==="hint"){let o=this._hintChildren?this._hintChildren.find(a=>a.align==="start"):null,s=this._hintChildren?this._hintChildren.find(a=>a.align==="end"):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));let r=this._control.describedByIds,i;if(r){let o=this._describedByIds||t;i=t.concat(r.filter(s=>s&&!o.includes(s)))}else i=t;this._control.setDescribedByIds(i),this._describedByIds=t}}_getOutlinedLabelOffset(){if(!this._hasOutline()||!this._floatingLabel)return null;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return["",null];if(!this._isAttachedToDom())return null;let t=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,i=this._iconSuffixContainer?.nativeElement,o=this._textSuffixContainer?.nativeElement,s=t?.getBoundingClientRect().width??0,a=r?.getBoundingClientRect().width??0,c=i?.getBoundingClientRect().width??0,u=o?.getBoundingClientRect().width??0,d=this._currentDirection==="rtl"?"-1":"1",p=`${s+a}px`,g=`calc(${d} * (${p} + var(--mat-mdc-form-field-label-offset-x, 0px)))`,I=`var(--mat-mdc-form-field-label-transform, ${G7} translateX(${g}))`,x=s+a+c+u;return[I,x]}_writeOutlinedLabelStyles(t){if(t!==null){let[r,i]=t;this._floatingLabel&&(this._floatingLabel.element.style.transform=r),i!==null&&this._notchedOutline?._setMaxWidth(i)}}_isAttachedToDom(){let t=this._elementRef.nativeElement;if(t.getRootNode){let r=t.getRootNode();return r&&r!==t}return document.documentElement.contains(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["mat-form-field"]],contentQueries:function(r,i,o){if(r&1&&(Qb(o,i._labelChild,$L,5),fr(o,ST,5),fr(o,U7,5),fr(o,$7,5),fr(o,B7,5),fr(o,zL,5)),r&2){sp();let s;qe(s=Ge())&&(i._formFieldControl=s.first),qe(s=Ge())&&(i._prefixChildren=s),qe(s=Ge())&&(i._suffixChildren=s),qe(s=Ge())&&(i._errorChildren=s),qe(s=Ge())&&(i._hintChildren=s)}},viewQuery:function(r,i){if(r&1&&(ic(i._iconPrefixContainerSignal,VL,5),ic(i._textPrefixContainerSignal,jL,5),ic(i._iconSuffixContainerSignal,BL,5),ic(i._textSuffixContainerSignal,UL,5),Dt(b7,5),Dt(VL,5),Dt(jL,5),Dt(BL,5),Dt(UL,5),Dt(HL,5),Dt(WL,5),Dt(GL,5)),r&2){sp(4);let o;qe(o=Ge())&&(i._textField=o.first),qe(o=Ge())&&(i._iconPrefixContainer=o.first),qe(o=Ge())&&(i._textPrefixContainer=o.first),qe(o=Ge())&&(i._iconSuffixContainer=o.first),qe(o=Ge())&&(i._textSuffixContainer=o.first),qe(o=Ge())&&(i._floatingLabel=o.first),qe(o=Ge())&&(i._notchedOutline=o.first),qe(o=Ge())&&(i._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:38,hostBindings:function(r,i){r&2&&Ue("mat-mdc-form-field-label-always-float",i._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",i._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",i._hasIconSuffix)("mat-form-field-invalid",i._control.errorState)("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-form-field-appearance-fill",i.appearance=="fill")("mat-form-field-appearance-outline",i.appearance=="outline")("mat-form-field-hide-placeholder",i._hasFloatingLabel()&&!i._shouldLabelFloat())("mat-primary",i.color!=="accent"&&i.color!=="warn")("mat-accent",i.color==="accent")("mat-warn",i.color==="warn")("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Wn([{provide:AT,useExisting:n},{provide:QL,useExisting:n}])],ngContentSelectors:w7,decls:19,vars:25,consts:[["labelTemplate",""],["textField",""],["iconPrefixContainer",""],["textPrefixContainer",""],["textSuffixContainer",""],["iconSuffixContainer",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],[1,"mat-mdc-form-field-focus-overlay"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[1,"mat-mdc-form-field-icon-prefix"],[1,"mat-mdc-form-field-text-prefix"],[1,"mat-mdc-form-field-infix"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align"],["aria-atomic","true","aria-live","polite"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[3,"id"],[1,"mat-mdc-form-field-hint-spacer"]],template:function(r,i){if(r&1){let o=on();Dn(E7),fo(0,D7,1,1,"ng-template",null,0,Xb),z(2,"div",6,1),Ae("click",function(a){return Je(o),et(i._control.onContainerClick(a))}),ze(4,T7,1,0,"div",7),z(5,"div",8),ze(6,x7,2,2,"div",9),ze(7,R7,3,0,"div",10),ze(8,M7,3,0,"div",11),z(9,"div",12),ze(10,k7,1,1,null,13),ot(11),K(),ze(12,O7,3,0,"div",14),ze(13,P7,3,0,"div",15),K(),ze(14,F7,1,0,"div",16),K(),z(15,"div",17)(16,"div",18),ze(17,L7,1,0)(18,j7,4,1),K()()}if(r&2){let o;Y(2),Ue("mdc-text-field--filled",!i._hasOutline())("mdc-text-field--outlined",i._hasOutline())("mdc-text-field--no-label",!i._hasFloatingLabel())("mdc-text-field--disabled",i._control.disabled)("mdc-text-field--invalid",i._control.errorState),Y(2),He(!i._hasOutline()&&!i._control.disabled?4:-1),Y(2),He(i._hasOutline()?6:-1),Y(),He(i._hasIconPrefix?7:-1),Y(),He(i._hasTextPrefix?8:-1),Y(2),He(!i._hasOutline()||i._forceDisplayInfixLabel()?10:-1),Y(2),He(i._hasTextSuffix?12:-1),Y(),He(i._hasIconSuffix?13:-1),Y(),He(i._hasOutline()?-1:14),Y(),Ue("mat-mdc-form-field-subscript-dynamic-size",i.subscriptSizing==="dynamic");let s=i._getSubscriptMessageType();Y(),Ue("mat-mdc-form-field-error-wrapper",s==="error")("mat-mdc-form-field-hint-wrapper",s==="hint"),Y(),He((o=s)==="error"?17:o==="hint"?18:-1)}},dependencies:[HL,WL,hE,GL,zL],styles:[`.mdc-text-field{display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color;border-top-left-radius:4px;border-top-right-radius:4px;border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field__input{width:100%;min-width:0;border:none;border-radius:0;background:none;padding:0;-moz-appearance:none;-webkit-appearance:none;height:28px}.mdc-text-field__input::-webkit-calendar-picker-indicator,.mdc-text-field__input::-webkit-search-cancel-button{display:none}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}.mdc-text-field__input::placeholder{opacity:0}.mdc-text-field__input::-moz-placeholder{opacity:0}.mdc-text-field__input::-webkit-input-placeholder{opacity:0}.mdc-text-field__input:-ms-input-placeholder{opacity:0}.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{opacity:1}.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-moz-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive::-webkit-input-placeholder{opacity:0}.mdc-text-field--disabled:not(.mdc-text-field--no-label) .mdc-text-field__input.mat-mdc-input-disabled-interactive:-ms-input-placeholder{opacity:0}.mdc-text-field--outlined .mdc-text-field__input,.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-filled-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-filled-caret-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-filled-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mat-form-field-outlined-input-text-color, var(--mat-sys-on-surface));caret-color:var(--mat-form-field-outlined-caret-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-outlined-input-text-placeholder-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-filled-error-caret-color, var(--mat-sys-error))}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mat-form-field-outlined-error-caret-color, var(--mat-sys-error))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-filled-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mat-form-field-outlined-disabled-input-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}@media(forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}}.mdc-text-field--filled{height:56px;border-bottom-right-radius:0;border-bottom-left-radius:0;border-top-left-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small));border-top-right-radius:var(--mat-form-field-filled-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mat-form-field-filled-container-color, var(--mat-sys-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mat-form-field-filled-disabled-container-color, color-mix(in srgb, var(--mat-sys-on-surface) 4%, transparent))}.mdc-text-field--outlined{height:56px;overflow:visible;padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)));padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px)}[dir=rtl] .mdc-text-field--outlined{padding-right:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)) + 4px);padding-left:max(16px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}.mdc-floating-label{position:absolute;left:0;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label{right:0;left:auto;transform-origin:right top;text-align:right}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:auto}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label{left:auto;right:4px}.mdc-text-field--filled .mdc-floating-label{left:16px;right:auto}[dir=rtl] .mdc-text-field--filled .mdc-floating-label{left:auto;right:16px}.mdc-text-field--disabled .mdc-floating-label{cursor:default}@media(forced-colors: active){.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-filled-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-filled-hover-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-filled-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-filled-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-filled-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-filled-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mat-form-field-filled-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-filled-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-filled-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-filled-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label{color:var(--mat-form-field-outlined-label-text-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-focus-label-text-color, var(--mat-sys-primary))}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-floating-label{color:var(--mat-form-field-outlined-hover-label-text-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label{color:var(--mat-form-field-outlined-disabled-label-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-floating-label{color:var(--mat-form-field-outlined-error-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mdc-floating-label{color:var(--mat-form-field-outlined-error-focus-label-text-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--disabled):hover .mdc-floating-label{color:var(--mat-form-field-outlined-error-hover-label-text-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mat-form-field-outlined-label-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-form-field-outlined-label-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-form-field-outlined-label-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-form-field-outlined-label-text-tracking, var(--mat-sys-body-large-tracking))}.mdc-floating-label--float-above{cursor:auto;transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1);font-size:.75rem}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline{text-align:right}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mat-mdc-notch-piece{box-sizing:border-box;height:100%;pointer-events:none;border-top:1px solid;border-bottom:1px solid}.mdc-text-field--focused .mat-mdc-notch-piece{border-width:2px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-outline-color, var(--mat-sys-outline));border-width:var(--mat-form-field-outlined-outline-width, 1px)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-hover-outline-color, var(--mat-sys-on-surface))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-focus-outline-color, var(--mat-sys-primary))}.mdc-text-field--outlined.mdc-text-field--disabled .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-disabled-outline-color, color-mix(in srgb, var(--mat-sys-on-surface) 12%, transparent))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-notched-outline .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-hover-outline-color, var(--mat-sys-on-error-container))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--invalid.mdc-text-field--focused .mat-mdc-notch-piece{border-color:var(--mat-form-field-outlined-error-focus-outline-color, var(--mat-sys-error))}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mat-mdc-notch-piece{border-width:var(--mat-form-field-outlined-focus-outline-width, 2px)}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px,var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small)))}[dir=rtl] .mdc-notched-outline__leading{border-left:none;border-right:1px solid;border-bottom-left-radius:0;border-top-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__trailing{flex-grow:1;border-left:none;border-right:1px solid;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-right-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}[dir=rtl] .mdc-notched-outline__trailing{border-left:1px solid;border-right:none;border-top-right-radius:0;border-bottom-right-radius:0;border-top-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small));border-bottom-left-radius:var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:min(var(--mat-form-field-notch-max-width, 100%),calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{max-width:min(100%,calc(100% - max(12px, var(--mat-form-field-outlined-container-shape, var(--mat-sys-corner-extra-small))) * 2))}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1;border-bottom-width:var(--mat-form-field-filled-active-indicator-height, 1px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-active-indicator-color, var(--mat-sys-on-surface-variant))}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-hover-active-indicator-color, var(--mat-sys-on-surface))}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-disabled-active-indicator-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-active-indicator-color, var(--mat-sys-error))}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--invalid:not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mat-form-field-filled-error-hover-active-indicator-color, var(--mat-sys-on-error-container))}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mat-form-field-filled-focus-active-indicator-height, 2px)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-focus-active-indicator-color, var(--mat-sys-primary))}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mat-form-field-filled-error-focus-active-indicator-color, var(--mat-sys-error))}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-text-field--disabled{pointer-events:none}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;will-change:auto}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto;will-change:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:1px solid rgba(0,0,0,0)}[dir=rtl] .mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field.mat-mdc-form-field .mdc-notched-outline__notch{border-left:none;border-right:1px solid rgba(0,0,0,0)}.mat-mdc-form-field-infix{min-height:var(--mat-form-field-container-height, 56px);padding-top:var(--mat-form-field-filled-with-label-container-padding-top, 24px);padding-bottom:var(--mat-form-field-filled-with-label-container-padding-bottom, 8px)}.mdc-text-field--outlined .mat-mdc-form-field-infix,.mdc-text-field--no-label .mat-mdc-form-field-infix{padding-top:var(--mat-form-field-container-vertical-padding, 16px);padding-bottom:var(--mat-form-field-container-vertical-padding, 16px)}.mat-mdc-text-field-wrapper .mat-mdc-form-field-flex .mat-mdc-floating-label{top:calc(var(--mat-form-field-container-height, 56px)/2)}.mdc-text-field--filled .mat-mdc-floating-label{display:var(--mat-form-field-filled-label-display, block)}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{--mat-mdc-form-field-label-transform: translateY(calc(calc(6.75px + var(--mat-form-field-container-height, 56px) / 2) * -1)) scale(var(--mat-mdc-form-field-floating-label-scale, 0.75));transform:var(--mat-mdc-form-field-label-transform)}@keyframes _mat-form-field-subscript-animation{from{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translateY(0)}}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px;opacity:1;transform:translateY(0);animation:_mat-form-field-subscript-animation 0ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block;color:var(--mat-form-field-error-text-color, var(--mat-sys-error))}.mat-mdc-form-field-subscript-wrapper,.mat-mdc-form-field-bottom-align::before{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-subscript-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-form-field-subscript-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-form-field-subscript-text-size, var(--mat-sys-body-small-size));letter-spacing:var(--mat-form-field-subscript-text-tracking, var(--mat-sys-body-small-tracking));font-weight:var(--mat-form-field-subscript-text-weight, var(--mat-sys-body-small-weight))}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none;background-color:var(--mat-form-field-state-layer-color, var(--mat-sys-on-surface))}.mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{opacity:var(--mat-form-field-focus-state-layer-opacity, 0)}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option{color:var(--mat-form-field-select-option-text-color, var(--mat-sys-neutral10))}select.mat-mdc-form-field-input-control:not(.mat-mdc-native-select-inline) option:disabled{color:var(--mat-form-field-select-disabled-option-text-color, color-mix(in srgb, var(--mat-sys-neutral10) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none;color:var(--mat-form-field-enabled-select-arrow-color, var(--mat-sys-on-surface-variant))}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select.mat-focused .mat-mdc-form-field-infix::after{color:var(--mat-form-field-focus-select-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field-type-mat-native-select.mat-form-field-disabled .mat-mdc-form-field-infix::after{color:var(--mat-form-field-disabled-select-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}@media(forced-colors: active){.mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}}@media(forced-colors: active){.mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}}@media(forced-colors: active){.mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-form-field-container-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-form-field-container-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-form-field-container-text-tracking, var(--mat-sys-body-large-tracking));font-weight:var(--mat-form-field-container-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size)*var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%;z-index:0}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:0 12px;box-sizing:content-box}.mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-leading-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-prefix{color:var(--mat-form-field-disabled-leading-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-trailing-icon-color, var(--mat-sys-on-surface-variant))}.mat-form-field-disabled .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-disabled-trailing-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-form-field-invalid .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-trailing-icon-color, var(--mat-sys-error))}.mat-form-field-invalid:not(.mat-focused):not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper:hover .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-hover-trailing-icon-color, var(--mat-sys-on-error-container))}.mat-form-field-invalid.mat-focused .mat-mdc-text-field-wrapper .mat-mdc-form-field-icon-suffix{color:var(--mat-form-field-error-focus-trailing-icon-color, var(--mat-sys-error))}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field-infix:has(textarea[cols]){width:auto}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input{transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-moz-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input::-webkit-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-moz-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-moz-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input::-webkit-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input::-webkit-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mat-mdc-form-field.mat-form-field-animations-enabled.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field.mat-form-field-animations-enabled .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field.mat-form-field-animations-enabled .mat-mdc-form-field-error-wrapper{animation-duration:300ms}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}
`],encapsulation:2,changeDetection:0})}return n})();var W7=20,Xc=(()=>{class n{_ngZone=_($);_platform=_(rt);_renderer=_(Pt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new G;_scrolledCount=0;scrollContainers=new Map;register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=W7){return this._platform.isBrowser?new Q(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=t>0?this._scrolled.pipe(zh(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):W()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){let i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Oe(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(t){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,t)&&r.push(o)}),r}_scrollableContainsElement(t,r){let i=Kr(r),o=t.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var K7=20,Wo=(()=>{class n{_platform=_(rt);_listeners;_viewportSize;_change=new G;_document=_(ce);constructor(){let t=_($),r=_(Pt).createRenderer(null,null);t.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(t=>t()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,r=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect(),s=-o.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(t=K7){return t>0?this._change.pipe(zh(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fa=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({})}return n})(),xT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[Go,fa,Go,fa]})}return n})();var kd=class{_attachedHost;attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Od=class extends kd{component;viewContainerRef;injector;projectableNodes;constructor(e,t,r,i){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.projectableNodes=i}},Pd=class extends kd{templateRef;viewContainerRef;context;injector;constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},RT=class extends kd{element;constructor(e){super(),this.element=e instanceof Ee?e.nativeElement:e}},MT=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Od)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof Pd)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof RT)return this._attachedPortal=e,this.attachDomPortal(e)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},Xg=class extends MT{outletElement;_appRef;_defaultInjector;constructor(e,t,r){super(),this.outletElement=e,this._appRef=t,this._defaultInjector=r}attachComponentPortal(e){let t;if(e.viewContainerRef){let r=e.injector||e.viewContainerRef.injector,i=r.get(uo,null,{optional:!0})||void 0;t=e.viewContainerRef.createComponent(e.component,{index:e.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:e.projectableNodes||void 0}),this.setDisposeFn(()=>t.destroy())}else{let r=this._appRef,i=e.injector||this._defaultInjector||ee.NULL,o=i.get(Xe,r.injector);t=cp(e.component,{elementInjector:i,environmentInjector:o,projectableNodes:e.projectableNodes||void 0}),r.attachView(t.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(t.hostView),t.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(t)),this._attachedPortal=e,t}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);i!==-1&&t.remove(i)}),this._attachedPortal=e,r}attachDomPortal=e=>{let t=e.element;t.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");t.parentNode.insertBefore(r,t),this.outletElement.appendChild(t),this._attachedPortal=e,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(t,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var ZL=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({})}return n})();var XL=PL();function oV(n){return new Jg(n.get(Wo),n.get(ce))}var Jg=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(e,t){this._viewportRuler=e,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=wt(-this._previousScrollPosition.left),e.style.top=wt(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,r=e.style,i=t.style,o=r.scrollBehavior||"",s=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),XL&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XL&&(r.scrollBehavior=o,i.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.documentElement,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}};function sV(n,e){return new ev(n.get(Xc),n.get($),n.get(Wo),e)}var ev=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(Oe(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Fd=class{enable(){}disable(){}attach(){}};function NT(n,e){return e.some(t=>{let r=n.bottom<t.top,i=n.top>t.bottom,o=n.right<t.left,s=n.left>t.right;return r||i||o||s})}function JL(n,e){return e.some(t=>{let r=n.top<t.top,i=n.bottom>t.bottom,o=n.left<t.left,s=n.right>t.right;return r||i||o||s})}function Qr(n,e){return new tv(n.get(Xc),n.get(Wo),n.get($),e)}var tv=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();NT(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},aV=(()=>{class n{_injector=_(ee);constructor(){}noop=()=>new Fd;close=t=>sV(this._injector,t);block=()=>oV(this._injector);reposition=t=>Qr(this._injector,t);static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ld=class{positionStrategy;scrollStrategy=new Fd;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(e){if(e){let t=Object.keys(e);for(let r of t)e[r]!==void 0&&(this[r]=e[r])}}};var nv=class{connectionPair;scrollableViewProperties;constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var cV=(()=>{class n{_attachedOverlays=[];_document=_(ce);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){let r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),lV=(()=>{class n extends cV{_ngZone=_($);_renderer=_(Pt).createRenderer(null,null);_cleanupKeydown;add(t){super.add(t),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=t=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(t));break}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=hi(n)))(i||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),uV=(()=>{class n extends cV{_platform=_(rt);_ngZone=_($);_renderer=_(Pt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(t){if(super.add(t),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(t=>t()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=t=>{this._pointerDownEventTarget=bn(t)};_clickListener=t=>{let r=bn(t),i=t.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let s=o.length-1;s>-1;s--){let a=o[s];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(eV(a.overlayElement,r)||eV(a.overlayElement,i))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(t)):c.next(t)}};static \u0275fac=(()=>{let t;return function(i){return(t||(t=hi(n)))(i||n)}})();static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function eV(n,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,r=e;for(;r;){if(r===n)return!0;r=t&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var dV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),hV=(()=>{class n{_platform=_(rt);_containerElement;_document=_(ce);_styleLoader=_(Jn);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let t="cdk-overlay-container";if(this._platform.isBrowser||DT()){let i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(t),DT()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(dV)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),kT=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(e,t,r,i){this._renderer=t,this._ngZone=r,this.element=e.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=t.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let e=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(e,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),e.style.pointerEvents="none",e.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},rv=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new G;_attachments=new G;_detachments=new G;_positionStrategy;_scrollStrategy;_locationChanges=Ie.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_previousHostParent;_keydownEvents=new G;_outsidePointerEvents=new G;_afterNextRenderRef;constructor(e,t,r,i,o,s,a,c,u,d=!1,p,m){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=c,this._outsideClickDispatcher=u,this._animationsDisabled=d,this._injector=p,this._renderer=m,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=hr(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,e&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=k(k({},this._config),e),this._updateElementSize()}setDirection(e){this._config=oe(k({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=wt(this._config.width),e.height=wt(this._config.height),e.minWidth=wt(this._config.minWidth),e.minHeight=wt(this._config.minHeight),e.maxWidth=wt(this._config.maxWidth),e.maxHeight=wt(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new kT(this._document,this._renderer,this._ngZone,t=>{this._backdropClick.next(t)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(e))}):this._backdropRef.element.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(e,t,r){let i=Zc(t||[]).filter(o=>!!o);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenEmpty(){let e=!1;try{this._detachContentAfterRenderRef=hr(()=>{e=!0,this._detachContent()},{injector:this._injector})}catch(t){if(e)throw t;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let e=this._scrollStrategy;e?.disable(),e?.detach?.()}},tV="cdk-overlay-connected-position-bounding-box",Y7=/([A-Za-z%]+)$/;function Vd(n,e){return new iv(e,n.get(Wo),n.get(ce),n.get(rt),n.get(hV))}var iv=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new G;_resizeSubscription=Ie.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(e,t,r,i,o){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(tV),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],s;for(let a of this._preferredPositions){let c=this._getOriginPoint(e,i,a),u=this._getOverlayPoint(c,t,a),d=this._getOverlayFit(u,t,r,a);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(d,u,r)){o.push({position:a,origin:c,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!s||s.overlayFit.visibleArea<d.visibleArea)&&(s={overlayFit:d,overlayPoint:u,originPoint:c,position:a,overlayRect:t})}if(o.length){let a=null,c=-1;for(let u of o){let d=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);d>c&&(c=d,a=u)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(s.position,s.originPoint);return}this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tV),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i;if(r.originX=="center")i=e.left+e.width/2;else{let s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;i=r.originX=="start"?s:a}t.left<0&&(i-=t.left);let o;return r.originY=="center"?o=e.top+e.height/2:o=r.originY=="top"?e.top:e.bottom,t.top<0&&(o-=t.top),{x:i,y:o}}_getOverlayPoint(e,t,r){let i;r.overlayX=="center"?i=-t.width/2:r.overlayX==="start"?i=this._isRtl()?-t.width:0:i=this._isRtl()?0:-t.width;let o;return r.overlayY=="center"?o=-t.height/2:o=r.overlayY=="top"?0:-t.height,{x:e.x+i,y:e.y+o}}_getOverlayFit(e,t,r,i){let o=rV(t),{x:s,y:a}=e,c=this._getOffset(i,"x"),u=this._getOffset(i,"y");c&&(s+=c),u&&(a+=u);let d=0-s,p=s+o.width-r.width,m=0-a,g=a+o.height-r.height,I=this._subtractOverflows(o.width,d,p),x=this._subtractOverflows(o.height,m,g),M=I*x;return{visibleArea:M,isCompletelyWithinViewport:o.width*o.height===M,fitsInViewportVertically:x===o.height,fitsInViewportHorizontally:I==o.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){let i=r.bottom-t.y,o=r.right-t.x,s=nV(this._overlayRef.getConfig().minHeight),a=nV(this._overlayRef.getConfig().minWidth),c=e.fitsInViewportVertically||s!=null&&s<=i,u=e.fitsInViewportHorizontally||a!=null&&a<=o;return c&&u}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let i=rV(t),o=this._viewportRect,s=Math.max(e.x+i.width-o.width,0),a=Math.max(e.y+i.height-o.height,0),c=Math.max(o.top-r.top-e.y,0),u=Math.max(o.left-r.left-e.x,0),d=0,p=0;return i.width<=o.width?d=u||-s:d=e.x<this._viewportMargin?o.left-r.left-e.x:0,i.height<=o.height?p=c||-a:p=e.y<this._viewportMargin?o.top-r.top-e.y:0,this._previousPushAmount={x:d,y:p},{x:e.x+d,y:e.y+p}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!Q7(this._lastScrollVisibility,r)){let i=new nv(e,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=e.overlayY;e.overlayX==="center"?r="center":this._isRtl()?r=e.overlayX==="start"?"right":"left":r=e.overlayX==="start"?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){let r=this._viewportRect,i=this._isRtl(),o,s,a;if(t.overlayY==="top")s=e.y,o=r.height-s+this._viewportMargin;else if(t.overlayY==="bottom")a=r.height-e.y+this._viewportMargin*2,o=r.height-a+this._viewportMargin;else{let g=Math.min(r.bottom-e.y+r.top,e.y),I=this._lastBoundingBoxSize.height;o=g*2,s=e.y-g,o>I&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-I/2)}let c=t.overlayX==="start"&&!i||t.overlayX==="end"&&i,u=t.overlayX==="end"&&!i||t.overlayX==="start"&&i,d,p,m;if(u)m=r.width-e.x+this._viewportMargin*2,d=e.x-this._viewportMargin;else if(c)p=e.x,d=r.right-e.x;else{let g=Math.min(r.right-e.x+r.left,e.x),I=this._lastBoundingBoxSize.width;d=g*2,p=e.x-g,d>I&&!this._isInitialRender&&!this._growAfterOpen&&(p=e.x-I/2)}return{top:s,left:p,bottom:a,right:m,width:d,height:o}}_setBoundingBoxStyles(e,t){let r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;i.height=wt(r.height),i.top=wt(r.top),i.bottom=wt(r.bottom),i.width=wt(r.width),i.left=wt(r.left),i.right=wt(r.right),t.overlayX==="center"?i.alignItems="center":i.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?i.justifyContent="center":i.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=wt(o)),s&&(i.maxWidth=wt(s))}this._lastBoundingBoxSize=r,pa(this._boundingBox.style,i)}_resetBoundingBoxStyles(){pa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();pa(r,this._getExactOverlayY(t,e,d)),pa(r,this._getExactOverlayX(t,e,d))}else r.position="static";let a="",c=this._getOffset(t,"x"),u=this._getOffset(t,"y");c&&(a+=`translateX(${c}px) `),u&&(a+=`translateY(${u}px)`),r.transform=a.trim(),s.maxHeight&&(i?r.maxHeight=wt(s.maxHeight):o&&(r.maxHeight="")),s.maxWidth&&(i?r.maxWidth=wt(s.maxWidth):o&&(r.maxWidth="")),pa(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),e.overlayY==="bottom"){let s=this._document.documentElement.clientHeight;i.bottom=`${s-(o.y+this._overlayRect.height)}px`}else i.top=wt(o.y);return i}_getExactOverlayX(e,t,r){let i={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let s;if(this._isRtl()?s=e.overlayX==="end"?"left":"right":s=e.overlayX==="end"?"right":"left",s==="right"){let a=this._document.documentElement.clientWidth;i.right=`${a-(o.x+this._overlayRect.width)}px`}else i.left=wt(o.x);return i}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JL(e,r),isOriginOutsideView:NT(e,r),isOverlayClipped:JL(t,r),isOverlayOutsideView:NT(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Zc(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof Ee)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}};function pa(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function nV(n){if(typeof n!="number"&&n!=null){let[e,t]=n.split(Y7);return!t||t==="px"?parseFloat(e):null}return n||null}function rV(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function Q7(n,e){return n===e?!0:n.isOriginClipped===e.isOriginClipped&&n.isOriginOutsideView===e.isOriginOutsideView&&n.isOverlayClipped===e.isOverlayClipped&&n.isOverlayOutsideView===e.isOverlayOutsideView}var iV="cdk-global-overlay-wrapper";function fV(n){return new ov}var ov=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(iV),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:s,maxHeight:a}=r,c=(i==="100%"||i==="100vw")&&(!s||s==="100%"||s==="100vw"),u=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),d=this._xPosition,p=this._xOffset,m=this._overlayRef.getConfig().direction==="rtl",g="",I="",x="";c?x="flex-start":d==="center"?(x="center",m?I=p:g=p):m?d==="left"||d==="end"?(x="flex-end",g=p):(d==="right"||d==="start")&&(x="flex-start",I=p):d==="left"||d==="start"?(x="flex-start",g=p):(d==="right"||d==="end")&&(x="flex-end",I=p),e.position=this._cssPosition,e.marginLeft=c?"0":g,e.marginTop=u?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=c?"0":I,t.justifyContent=x,t.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(iV),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},pV=(()=>{class n{_injector=_(ee);constructor(){}global(){return fV()}flexibleConnectedTo(t){return Vd(this._injector,t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jd(n,e){n.get(Jn).load(dV);let t=n.get(hV),r=n.get(ce),i=n.get(er),o=n.get(Cn),s=n.get(Yr),a=r.createElement("div"),c=r.createElement("div");c.id=i.getId("cdk-overlay-"),c.classList.add("cdk-overlay-pane"),a.appendChild(c),t.getContainerElement().appendChild(a);let u=new Xg(c,o,n),d=new Ld(e),p=n.get(kn,null,{optional:!0})||n.get(Pt).createRenderer(null,null);return d.direction=d.direction||s.value,new rv(u,a,c,d,n.get($),n.get(lV),r,n.get(_o),n.get(uV),e?.disableAnimations??n.get(nu,null,{optional:!0})==="NoopAnimations",n.get(Xe),p)}var mV=(()=>{class n{scrollStrategies=_(aV);_positionBuilder=_(pV);_injector=_(ee);constructor(){}create(t){return jd(this._injector,t)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Z7=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],gV=new O("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let n=_(ee);return()=>Qr(n)}}),Jc=(()=>{class n{elementRef=_(Ee);constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]})}return n})(),av=(()=>{class n{_dir=_(Yr,{optional:!0});_injector=_(ee);_overlayRef;_templatePortal;_backdropSubscription=Ie.EMPTY;_attachSubscription=Ie.EMPTY;_detachSubscription=Ie.EMPTY;_positionSubscription=Ie.EMPTY;_offsetX;_offsetY;_position;_scrollStrategyFactory=_(gV);_disposeOnNavigation=!1;_ngZone=_($);origin;positions;positionStrategy;get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}width;height;minWidth;minHeight;backdropClass;panelClass;viewportMargin=0;scrollStrategy;open=!1;disableClose=!1;transformOriginSelector;hasBackdrop=!1;lockPosition=!1;flexibleDimensions=!1;growAfterOpen=!1;push=!1;get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(t){this._disposeOnNavigation=t}backdropClick=new ye;positionChange=new ye;attach=new ye;detach=new ye;overlayKeydown=new ye;overlayOutsideClick=new ye;constructor(){let t=_(Mr),r=_(In);this._templatePortal=new Pd(t,r),this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef?.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef?.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this.attachOverlay():this.detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=Z7);let t=this._overlayRef=jd(this._injector,this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(r=>{this.overlayKeydown.next(r),r.keyCode===27&&!this.disableClose&&!tr(r)&&(r.preventDefault(),this.detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(r=>{let i=this._getOriginElement(),o=bn(r);(!i||i!==o&&!i.contains(o))&&this.overlayOutsideClick.next(r)})}_buildConfig(){let t=this._position=this.positionStrategy||this._createPositionStrategy(),r=new Ld({direction:this._dir||"ltr",positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(r.width=this.width),(this.height||this.height===0)&&(r.height=this.height),(this.minWidth||this.minWidth===0)&&(r.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(r.minHeight=this.minHeight),this.backdropClass&&(r.backdropClass=this.backdropClass),this.panelClass&&(r.panelClass=this.panelClass),r}_updatePositionStrategy(t){let r=this.positions.map(i=>({originX:i.originX,originY:i.originY,overlayX:i.overlayX,overlayY:i.overlayY,offsetX:i.offsetX||this.offsetX,offsetY:i.offsetY||this.offsetY,panelClass:i.panelClass||void 0}));return t.setOrigin(this._getOrigin()).withPositions(r).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let t=Vd(this._injector,this._getOrigin());return this._updatePositionStrategy(t),t}_getOrigin(){return this.origin instanceof Jc?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof Jc?this.origin.elementRef.nativeElement:this.origin instanceof Ee?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(g_(()=>this.positionChange.observers.length>0)).subscribe(t=>{this._ngZone.run(()=>this.positionChange.emit(t)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()})),this.open=!0}detachOverlay(){this._overlayRef?.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.open=!1}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",Me],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",Me],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",Me],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",Me],push:[2,"cdkConnectedOverlayPush","push",Me],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",Me]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[Mn]})}return n})();function X7(n){let e=_(ee);return()=>Qr(e)}var J7={provide:gV,useFactory:X7},Bd=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({providers:[mV,J7],imports:[Go,ZL,xT,xT]})}return n})();var Ud=class{_multiple;_emitChanges;compareWith;_selection=new Set;_deselectedToEmit=[];_selectedToEmit=[];_selected;get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}changed=new G;constructor(e=!1,t,r=!0,i){this._multiple=e,this._emitChanges=r,this.compareWith=i,t&&t.length&&(e?t.forEach(o=>this._markSelected(o)):this._markSelected(t[0]),this._selectedToEmit.length=0)}select(...e){this._verifyValueAssignment(e),e.forEach(r=>this._markSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}deselect(...e){this._verifyValueAssignment(e),e.forEach(r=>this._unmarkSelected(r));let t=this._hasQueuedChanges();return this._emitChangeEvent(),t}setSelection(...e){this._verifyValueAssignment(e);let t=this.selected,r=new Set(e.map(o=>this._getConcreteValue(o)));e.forEach(o=>this._markSelected(o)),t.filter(o=>!r.has(this._getConcreteValue(o,r))).forEach(o=>this._unmarkSelected(o));let i=this._hasQueuedChanges();return this._emitChangeEvent(),i}toggle(e){return this.isSelected(e)?this.deselect(e):this.select(e)}clear(e=!0){this._unmarkAll();let t=this._hasQueuedChanges();return e&&this._emitChangeEvent(),t}isSelected(e){return this._selection.has(this._getConcreteValue(e))}isEmpty(){return this._selection.size===0}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){e=this._getConcreteValue(e),this.isSelected(e)||(this._multiple||this._unmarkAll(),this.isSelected(e)||this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){e=this._getConcreteValue(e),this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){e.length>1&&this._multiple}_hasQueuedChanges(){return!!(this._deselectedToEmit.length||this._selectedToEmit.length)}_getConcreteValue(e,t){if(this.compareWith){t=t??this._selection;for(let r of t)if(this.compareWith(e,r))return r;return e}else return e}};var nr=(function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n})(nr||{}),OT=class{_renderer;element;config;_animationForciblyDisabledThroughCss;state=nr.HIDDEN;constructor(e,t,r,i=!1){this._renderer=e,this.element=t,this.config=r,this._animationForciblyDisabledThroughCss=i}fadeOut(){this._renderer.fadeOutRipple(this)}},vV=Ho({passive:!0,capture:!0}),PT=class{_events=new Map;addHandler(e,t,r,i){let o=this._events.get(t);if(o){let s=o.get(r);s?s.add(i):o.set(r,new Set([i]))}else this._events.set(t,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,vV)})}removeHandler(e,t,r){let i=this._events.get(e);if(!i)return;let o=i.get(t);o&&(o.delete(r),o.size===0&&i.delete(t),i.size===0&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,vV)))}_delegateEventHandler=e=>{let t=bn(e);t&&this._events.get(e.type)?.forEach((r,i)=>{(i===t||i.contains(t))&&r.forEach(o=>o.handleEvent(e))})}},$d={enterDuration:225,exitDuration:150},eY=800,_V=Ho({passive:!0,capture:!0}),yV=["mousedown","touchstart"],bV=["mouseup","mouseleave","touchend","touchcancel"],tY=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["ng-component"]],hostAttrs:["mat-ripple-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.mat-ripple{overflow:hidden;position:relative}.mat-ripple:not(:empty){transform:translateZ(0)}.mat-ripple.mat-ripple-unbounded{overflow:visible}.mat-ripple-element{position:absolute;border-radius:50%;pointer-events:none;transition:opacity,transform 0ms cubic-bezier(0, 0, 0.2, 1);transform:scale3d(0, 0, 0);background-color:var(--mat-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface) 10%, transparent))}@media(forced-colors: active){.mat-ripple-element{display:none}}.cdk-drag-preview .mat-ripple-element,.cdk-drag-placeholder .mat-ripple-element{display:none}
`],encapsulation:2,changeDetection:0})}return n})(),zd=class n{_target;_ngZone;_platform;_containerElement;_triggerElement;_isPointerDown=!1;_activeRipples=new Map;_mostRecentTransientRipple;_lastTouchStartEvent;_pointerUpEventsRegistered=!1;_containerRect;static _eventManager=new PT;constructor(e,t,r,i,o){this._target=e,this._ngZone=t,this._platform=i,i.isBrowser&&(this._containerElement=Kr(r)),o&&o.get(Jn).load(tY)}fadeInRipple(e,t,r={}){let i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=k(k({},$d),r.animation);r.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);let s=r.radius||nY(e,t,i),a=e-i.left,c=t-i.top,u=o.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${a-s}px`,d.style.top=`${c-s}px`,d.style.height=`${s*2}px`,d.style.width=`${s*2}px`,r.color!=null&&(d.style.backgroundColor=r.color),d.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(d);let p=window.getComputedStyle(d),m=p.transitionProperty,g=p.transitionDuration,I=m==="none"||g==="0s"||g==="0s, 0s"||i.width===0&&i.height===0,x=new OT(this,d,r,I);d.style.transform="scale3d(1, 1, 1)",x.state=nr.FADING_IN,r.persistent||(this._mostRecentTransientRipple=x);let M=null;return!I&&(u||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let L=()=>{M&&(M.fallbackTimer=null),clearTimeout(J),this._finishRippleTransition(x)},H=()=>this._destroyRipple(x),J=setTimeout(H,u+100);d.addEventListener("transitionend",L),d.addEventListener("transitioncancel",H),M={onTransitionEnd:L,onTransitionCancel:H,fallbackTimer:J}}),this._activeRipples.set(x,M),(I||!u)&&this._finishRippleTransition(x),x}fadeOutRipple(e){if(e.state===nr.FADING_OUT||e.state===nr.HIDDEN)return;let t=e.element,r=k(k({},$d),e.config.animation);t.style.transitionDuration=`${r.exitDuration}ms`,t.style.opacity="0",e.state=nr.FADING_OUT,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){let t=Kr(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,yV.forEach(r=>{n._eventManager.addHandler(this._ngZone,r,t,this)}))}handleEvent(e){e.type==="mousedown"?this._onMousedown(e):e.type==="touchstart"?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{bV.forEach(t=>{this._triggerElement.addEventListener(t,this,_V)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){e.state===nr.FADING_IN?this._startFadeOutTransition(e):e.state===nr.FADING_OUT&&this._destroyRipple(e)}_startFadeOutTransition(e){let t=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=nr.VISIBLE,!r&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){let t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=nr.HIDDEN,t!==null&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel),t.fallbackTimer!==null&&clearTimeout(t.fallbackTimer)),e.element.remove()}_onMousedown(e){let t=Dd(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+eY;!this._target.rippleDisabled&&!t&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!Td(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let t=e.changedTouches;if(t)for(let r=0;r<t.length;r++)this.fadeInRipple(t[r].clientX,t[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{let t=e.state===nr.VISIBLE||e.config.terminateOnPointerUp&&e.state===nr.FADING_IN;!e.config.persistent&&t&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let e=this._triggerElement;e&&(yV.forEach(t=>n._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&(bV.forEach(t=>e.removeEventListener(t,this,_V)),this._pointerUpEventsRegistered=!1))}};function nY(n,e,t){let r=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),i=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(r*r+i*i)}var FT=new O("mat-ripple-global-options"),EV=(()=>{class n{_elementRef=_(Ee);_animationsDisabled=En();color;unbounded;centered;radius=0;animation;get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}_disabled=!1;get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}_trigger;_rippleRenderer;_globalOptions;_isInitialized=!1;constructor(){let t=_($),r=_(rt),i=_(FT,{optional:!0}),o=_(ee);this._globalOptions=i||{},this._rippleRenderer=new zd(this,t,this._elementRef,r,o)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:k(k(k({},this._globalOptions.animation),this._animationsDisabled?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,r=0,i){return typeof t=="number"?this._rippleRenderer.fadeInRipple(t,r,k(k({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,k(k({},this.rippleConfig),t))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(r,i){r&2&&Ue("mat-ripple-unbounded",i.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})();var wV=(()=>{class n{_animationsDisabled=En();state="unchecked";disabled=!1;appearance="full";constructor(){}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:12,hostBindings:function(r,i){r&2&&Ue("mat-pseudo-checkbox-indeterminate",i.state==="indeterminate")("mat-pseudo-checkbox-checked",i.state==="checked")("mat-pseudo-checkbox-disabled",i.disabled)("mat-pseudo-checkbox-minimal",i.appearance==="minimal")("mat-pseudo-checkbox-full",i.appearance==="full")("_mat-animation-noopable",i._animationsDisabled)},inputs:{state:"state",disabled:"disabled",appearance:"appearance"},decls:0,vars:0,template:function(r,i){},styles:[`.mat-pseudo-checkbox{border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{left:1px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{left:1px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-minimal-selected-checkmark-color, var(--mat-sys-primary))}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-minimal-disabled-selected-checkmark-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full{border-color:var(--mat-pseudo-checkbox-full-unselected-icon-color, var(--mat-sys-on-surface-variant));border-width:2px;border-style:solid}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-disabled{border-color:var(--mat-pseudo-checkbox-full-disabled-unselected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate{background-color:var(--mat-pseudo-checkbox-full-selected-icon-color, var(--mat-sys-primary));border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{color:var(--mat-pseudo-checkbox-full-selected-checkmark-color, var(--mat-sys-on-primary))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled{background-color:var(--mat-pseudo-checkbox-full-disabled-selected-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked.mat-pseudo-checkbox-disabled::after,.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate.mat-pseudo-checkbox-disabled::after{color:var(--mat-pseudo-checkbox-full-disabled-selected-checkmark-color, var(--mat-sys-surface))}.mat-pseudo-checkbox{width:18px;height:18px}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-checked::after{width:14px;height:6px;transform-origin:center;top:-4.2426406871px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-minimal.mat-pseudo-checkbox-indeterminate::after{top:8px;width:16px}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-checked::after{width:10px;height:4px;transform-origin:center;top:-2.8284271247px;left:0;bottom:0;right:0;margin:auto}.mat-pseudo-checkbox-full.mat-pseudo-checkbox-indeterminate::after{top:6px;width:12px}
`],encapsulation:2,changeDetection:0})}return n})();var cv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["structural-styles"]],decls:0,vars:0,template:function(r,i){},styles:[`.mat-focus-indicator{position:relative}.mat-focus-indicator::before{top:0;left:0;right:0;bottom:0;position:absolute;box-sizing:border-box;pointer-events:none;display:var(--mat-focus-indicator-display, none);border-width:var(--mat-focus-indicator-border-width, 3px);border-style:var(--mat-focus-indicator-border-style, solid);border-color:var(--mat-focus-indicator-border-color, transparent);border-radius:var(--mat-focus-indicator-border-radius, 4px)}.mat-focus-indicator:focus::before{content:""}@media(forced-colors: active){html{--mat-focus-indicator-display: block}}
`],encapsulation:2,changeDetection:0})}return n})();var rY=["text"],iY=[[["mat-icon"]],"*"],oY=["mat-icon","*"];function sY(n,e){if(n&1&&dt(0,"mat-pseudo-checkbox",1),n&2){let t=xe();Be("disabled",t.disabled)("state",t.selected?"checked":"unchecked")}}function aY(n,e){if(n&1&&dt(0,"mat-pseudo-checkbox",3),n&2){let t=xe();Be("disabled",t.disabled)}}function cY(n,e){if(n&1&&(z(0,"span",4),Qe(1),K()),n&2){let t=xe();Y(),mr("(",t.group.label,")")}}var VT=new O("MAT_OPTION_PARENT_COMPONENT"),jT=new O("MatOptgroup");var LT=class{source;isUserInput;constructor(e,t=!1){this.source=e,this.isUserInput=t}},el=(()=>{class n{_element=_(Ee);_changeDetectorRef=_(gn);_parent=_(VT,{optional:!0});group=_(jT,{optional:!0});_signalDisableRipple=!1;_selected=!1;_active=!1;_mostRecentViewValue="";get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}value;id=_(er).getId("mat-option-");get disabled(){return this.group&&this.group.disabled||this._disabled()}set disabled(t){this._disabled.set(t)}_disabled=$e(!1);get disableRipple(){return this._signalDisableRipple?this._parent.disableRipple():!!this._parent?.disableRipple}get hideSingleSelectionIndicator(){return!!(this._parent&&this._parent.hideSingleSelectionIndicator)}onSelectionChange=new ye;_text;_stateChanges=new G;constructor(){let t=_(Jn);t.load(cv),t.load(Ug),this._signalDisableRipple=!!this._parent&&bs(this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._text?.nativeElement.textContent||"").trim()}select(t=!0){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}deselect(t=!0){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),t&&this._emitSelectionChangeEvent())}focus(t,r){let i=this._getHostElement();typeof i.focus=="function"&&i.focus(r)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(t.keyCode===13||t.keyCode===32)&&!tr(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=this.multiple?!this._selected:!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){let t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue&&this._stateChanges.next(),this._mostRecentViewValue=t)}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new LT(this,t))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["mat-option"]],viewQuery:function(r,i){if(r&1&&Dt(rY,7),r&2){let o;qe(o=Ge())&&(i._text=o.first)}},hostAttrs:["role","option",1,"mat-mdc-option","mdc-list-item"],hostVars:11,hostBindings:function(r,i){r&1&&Ae("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),r&2&&(rc("id",i.id),lt("aria-selected",i.selected)("aria-disabled",i.disabled.toString()),Ue("mdc-list-item--selected",i.selected)("mat-mdc-option-multiple",i.multiple)("mat-mdc-option-active",i.active)("mdc-list-item--disabled",i.disabled))},inputs:{value:"value",id:"id",disabled:[2,"disabled","disabled",Me]},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:oY,decls:8,vars:5,consts:[["text",""],["aria-hidden","true",1,"mat-mdc-option-pseudo-checkbox",3,"disabled","state"],[1,"mdc-list-item__primary-text"],["state","checked","aria-hidden","true","appearance","minimal",1,"mat-mdc-option-pseudo-checkbox",3,"disabled"],[1,"cdk-visually-hidden"],["aria-hidden","true","mat-ripple","",1,"mat-mdc-option-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled"]],template:function(r,i){r&1&&(Dn(iY),ze(0,sY,1,2,"mat-pseudo-checkbox",1),ot(1),z(2,"span",2,0),ot(4,1),K(),ze(5,aY,1,1,"mat-pseudo-checkbox",3),ze(6,cY,2,1,"span",4),dt(7,"div",5)),r&2&&(He(i.multiple?0:-1),Y(5),He(!i.multiple&&i.selected&&!i.hideSingleSelectionIndicator?5:-1),Y(),He(i.group&&i.group._inert?6:-1),Y(),Be("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[wV,EV],styles:[`.mat-mdc-option{-webkit-user-select:none;user-select:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;min-height:48px;padding:0 16px;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);color:var(--mat-option-label-text-color, var(--mat-sys-on-surface));font-family:var(--mat-option-label-text-font, var(--mat-sys-label-large-font));line-height:var(--mat-option-label-text-line-height, var(--mat-sys-label-large-line-height));font-size:var(--mat-option-label-text-size, var(--mat-sys-body-large-size));letter-spacing:var(--mat-option-label-text-tracking, var(--mat-sys-label-large-tracking));font-weight:var(--mat-option-label-text-weight, var(--mat-sys-body-large-weight))}.mat-mdc-option:hover:not(.mdc-list-item--disabled){background-color:var(--mat-option-hover-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-hover-state-layer-opacity) * 100%), transparent))}.mat-mdc-option:focus.mdc-list-item,.mat-mdc-option.mat-mdc-option-active.mdc-list-item{background-color:var(--mat-option-focus-state-layer-color, color-mix(in srgb, var(--mat-sys-on-surface) calc(var(--mat-sys-focus-state-layer-opacity) * 100%), transparent));outline:0}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple){background-color:var(--mat-option-selected-state-layer-color, var(--mat-sys-secondary-container))}.mat-mdc-option.mdc-list-item--selected:not(.mdc-list-item--disabled):not(.mat-mdc-option-multiple) .mdc-list-item__primary-text{color:var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option .mat-pseudo-checkbox{--mat-pseudo-checkbox-minimal-selected-checkmark-color: var(--mat-option-selected-state-label-text-color, var(--mat-sys-on-secondary-container))}.mat-mdc-option.mdc-list-item{align-items:center;background:rgba(0,0,0,0)}.mat-mdc-option.mdc-list-item--disabled{cursor:default;pointer-events:none}.mat-mdc-option.mdc-list-item--disabled .mat-mdc-option-pseudo-checkbox,.mat-mdc-option.mdc-list-item--disabled .mdc-list-item__primary-text,.mat-mdc-option.mdc-list-item--disabled>mat-icon{opacity:.38}.mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:32px}[dir=rtl] .mat-mdc-optgroup .mat-mdc-option:not(.mat-mdc-option-multiple){padding-left:16px;padding-right:32px}.mat-mdc-option .mat-icon,.mat-mdc-option .mat-pseudo-checkbox-full{margin-right:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-icon,[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-full{margin-right:0;margin-left:16px}.mat-mdc-option .mat-pseudo-checkbox-minimal{margin-left:16px;flex-shrink:0}[dir=rtl] .mat-mdc-option .mat-pseudo-checkbox-minimal{margin-right:16px;margin-left:0}.mat-mdc-option .mat-mdc-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-option .mdc-list-item__primary-text{white-space:normal;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;font-family:inherit;text-decoration:inherit;text-transform:inherit;margin-right:auto}[dir=rtl] .mat-mdc-option .mdc-list-item__primary-text{margin-right:0;margin-left:auto}@media(forced-colors: active){.mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .mat-mdc-option.mdc-list-item--selected:not(:has(.mat-mdc-option-pseudo-checkbox))::after{right:auto;left:16px}}.mat-mdc-option-multiple{--mat-list-list-item-selected-container-color: var(--mat-list-list-item-container-color, transparent)}.mat-mdc-option-active .mat-focus-indicator::before{content:""}
`],encapsulation:2,changeDetection:0})}return n})();function IV(n,e,t){if(t.length){let r=e.toArray(),i=t.toArray(),o=0;for(let s=0;s<n+1;s++)r[s].group&&r[s].group===i[o]&&o++;return o}return 0}function CV(n,e,t,r){return n<t?n:n+e>t+r?Math.max(0,n-r+e):t}var DV=(()=>{class n{isErrorState(t,r){return!!(t&&t.invalid&&(t.touched||r&&r.submitted))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var dv=class{_defaultMatcher;ngControl;_parentFormGroup;_parentForm;_stateChanges;errorState=!1;matcher;constructor(e,t,r,i,o){this._defaultMatcher=e,this.ngControl=t,this._parentFormGroup=r,this._parentForm=i,this._stateChanges=o}updateErrorState(){let e=this.errorState,t=this._parentFormGroup||this._parentForm,r=this.matcher||this._defaultMatcher,i=this.ngControl?this.ngControl.control:null,o=r?.isErrorState(i,t)??!1;o!==e&&(this.errorState=o,this._stateChanges.next())}};var ft=(()=>{class n{constructor(){_(Hg)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[Go,Go]})}return n})();var hv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[ft,ft]})}return n})();var TV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[ft]})}return n})();var BT=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[hv,ft,TV,el]})}return n})();var SV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[ft,zg,Zg,ft]})}return n})();var lY=["trigger"],uY=["panel"],dY=[[["mat-select-trigger"]],"*"],hY=["mat-select-trigger","*"];function fY(n,e){if(n&1&&(z(0,"span",4),Qe(1),K()),n&2){let t=xe();Y(),Tn(t.placeholder)}}function pY(n,e){n&1&&ot(0)}function mY(n,e){if(n&1&&(z(0,"span",11),Qe(1),K()),n&2){let t=xe(2);Y(),Tn(t.triggerValue)}}function gY(n,e){if(n&1&&(z(0,"span",5),ze(1,pY,1,0)(2,mY,2,1,"span",11),K()),n&2){let t=xe();Y(),He(t.customTrigger?1:2)}}function vY(n,e){if(n&1){let t=on();z(0,"div",12,1),Ae("keydown",function(i){Je(t);let o=xe();return et(o._handleKeydown(i))}),ot(2,1),K()}if(n&2){let t=xe();Rs(Zb("mat-mdc-select-panel mdc-menu-surface mdc-menu-surface--open ",t._getPanelTheme())),Ue("mat-select-panel-animations-enabled",!t._animationsDisabled),Be("ngClass",t.panelClass),lt("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}var AV=new O("mat-select-scroll-strategy",{providedIn:"root",factory:()=>{let n=_(ee);return()=>Qr(n)}});function _Y(n){let e=_(ee);return()=>Qr(e)}var yY=new O("MAT_SELECT_CONFIG"),bY={provide:AV,deps:[],useFactory:_Y},EY=new O("MatSelectTrigger"),UT=class{source;value;constructor(e,t){this.source=e,this.value=t}},xV=(()=>{class n{_viewportRuler=_(Wo);_changeDetectorRef=_(gn);_elementRef=_(Ee);_dir=_(Yr,{optional:!0});_idGenerator=_(er);_renderer=_(kn);_parentFormField=_(AT,{optional:!0});ngControl=_(Rg,{self:!0,optional:!0});_liveAnnouncer=_(vT);_defaultOptions=_(yY,{optional:!0});_animationsDisabled=En();_initialized=new G;_cleanupDetach;options;optionGroups;customTrigger;_positions=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:"mat-mdc-select-panel-above"}];_scrollOptionIntoView(t){let r=this.options.toArray()[t];if(r){let i=this.panel.nativeElement,o=IV(t,this.options,this.optionGroups),s=r._getHostElement();t===0&&o===1?i.scrollTop=0:i.scrollTop=CV(s.offsetTop,s.offsetHeight,i.scrollTop,i.offsetHeight)}}_positioningSettled(){this._scrollOptionIntoView(this._keyManager.activeItemIndex||0)}_getChangeEvent(t){return new UT(this,t)}_scrollStrategyFactory=_(AV);_panelOpen=!1;_compareWith=(t,r)=>t===r;_uid=this._idGenerator.getId("mat-select-");_triggerAriaLabelledBy=null;_previousControl;_destroy=new G;_errorStateTracker;stateChanges=new G;disableAutomaticLabeling=!0;userAriaDescribedBy;_selectionModel;_keyManager;_preferredOverlayOrigin;_overlayWidth;_onChange=()=>{};_onTouched=()=>{};_valueId=this._idGenerator.getId("mat-select-value-");_scrollStrategy;_overlayPanelClass=this._defaultOptions?.overlayPanelClass||"";get focused(){return this._focused||this._panelOpen}_focused=!1;controlType="mat-select";trigger;panel;_overlayDir;panelClass;disabled=!1;get disableRipple(){return this._disableRipple()}set disableRipple(t){this._disableRipple.set(t)}_disableRipple=$e(!1);tabIndex=0;get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(t){this._hideSingleSelectionIndicator=t,this._syncParentProperties()}_hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1;get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}_placeholder;get required(){return this._required??this.ngControl?.control?.hasValidator(Sg.required)??!1}set required(t){this._required=t,this.stateChanges.next()}_required;get multiple(){return this._multiple}set multiple(t){this._selectionModel,this._multiple=t}_multiple=!1;disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1;get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}_value;ariaLabel="";ariaLabelledby;get errorStateMatcher(){return this._errorStateTracker.matcher}set errorStateMatcher(t){this._errorStateTracker.matcher=t}typeaheadDebounceInterval;sortComparator;get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}_id;get errorState(){return this._errorStateTracker.errorState}set errorState(t){this._errorStateTracker.errorState=t}panelWidth=this._defaultOptions&&typeof this._defaultOptions.panelWidth<"u"?this._defaultOptions.panelWidth:"auto";canSelectNullableOptions=this._defaultOptions?.canSelectNullableOptions??!1;optionSelectionChanges=ss(()=>{let t=this.options;return t?t.changes.pipe(Bn(t),mt(()=>as(...t.map(r=>r.onSelectionChange)))):this._initialized.pipe(mt(()=>this.optionSelectionChanges))});openedChange=new ye;_openedStream=this.openedChange.pipe(Oe(t=>t),q(()=>{}));_closedStream=this.openedChange.pipe(Oe(t=>!t),q(()=>{}));selectionChange=new ye;valueChange=new ye;constructor(){let t=_(DV),r=_(lT,{optional:!0}),i=_(uT,{optional:!0}),o=_(new Ms("tabindex"),{optional:!0});this.ngControl&&(this.ngControl.valueAccessor=this),this._defaultOptions?.typeaheadDebounceInterval!=null&&(this.typeaheadDebounceInterval=this._defaultOptions.typeaheadDebounceInterval),this._errorStateTracker=new dv(t,this.ngControl,i,r,this.stateChanges),this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=o==null?0:parseInt(o)||0,this.id=this.id}ngOnInit(){this._selectionModel=new Ud(this.multiple),this.stateChanges.next(),this._viewportRuler.change().pipe(Ye(this._destroy)).subscribe(()=>{this.panelOpen&&(this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._changeDetectorRef.detectChanges())})}ngAfterContentInit(){this._initialized.next(),this._initialized.complete(),this._initKeyManager(),this._selectionModel.changed.pipe(Ye(this._destroy)).subscribe(t=>{t.added.forEach(r=>r.select()),t.removed.forEach(r=>r.deselect())}),this.options.changes.pipe(Bn(null),Ye(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){let t=this._getTriggerAriaLabelledby(),r=this.ngControl;if(t!==this._triggerAriaLabelledBy){let i=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?i.setAttribute("aria-labelledby",t):i.removeAttribute("aria-labelledby")}r&&(this._previousControl!==r.control&&(this._previousControl!==void 0&&r.disabled!==null&&r.disabled!==this.disabled&&(this.disabled=r.disabled),this._previousControl=r.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this.typeaheadDebounceInterval)}ngOnDestroy(){this._cleanupDetach?.(),this._keyManager?.destroy(),this._destroy.next(),this._destroy.complete(),this.stateChanges.complete(),this._clearFromModal()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._parentFormField&&(this._preferredOverlayOrigin=this._parentFormField.getConnectedOverlayOrigin()),this._cleanupDetach?.(),this._overlayWidth=this._getOverlayWidth(this._preferredOverlayOrigin),this._applyModalPanelOwnership(),this._panelOpen=!0,this._overlayDir.positionChange.pipe(dn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()}),this._overlayDir.attachOverlay(),this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!0)))}_trackedModal=null;_applyModalPanelOwnership(){let t=this._elementRef.nativeElement.closest('body > .cdk-overlay-container [aria-modal="true"]');if(!t)return;let r=`${this.id}-panel`;this._trackedModal&&Yg(this._trackedModal,"aria-owns",r),CT(t,"aria-owns",r),this._trackedModal=t}_clearFromModal(){if(!this._trackedModal)return;let t=`${this.id}-panel`;Yg(this._trackedModal,"aria-owns",t),this._trackedModal=null}close(){this._panelOpen&&(this._panelOpen=!1,this._exitAndDetach(),this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched(),this.stateChanges.next(),Promise.resolve().then(()=>this.openedChange.emit(!1)))}_exitAndDetach(){if(this._animationsDisabled||!this.panel){this._detachOverlay();return}this._cleanupDetach?.(),this._cleanupDetach=()=>{r(),clearTimeout(i),this._cleanupDetach=void 0};let t=this.panel.nativeElement,r=this._renderer.listen(t,"animationend",o=>{o.animationName==="_mat-select-exit"&&(this._cleanupDetach?.(),this._detachOverlay())}),i=setTimeout(()=>{this._cleanupDetach?.(),this._detachOverlay()},200);t.classList.add("mat-select-panel-exit")}_detachOverlay(){this._overlayDir.detachOverlay(),this._changeDetectorRef.markForCheck()}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){let t=this._selectionModel.selected.map(r=>r.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}updateErrorState(){this._errorStateTracker.updateErrorState()}_isRtl(){return this._dir?this._dir.value==="rtl":!1}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){let r=t.keyCode,i=r===40||r===38||r===37||r===39,o=r===13||r===32,s=this._keyManager;if(!s.isTyping()&&o&&!tr(t)||(this.multiple||t.altKey)&&i)t.preventDefault(),this.open();else if(!this.multiple){let a=this.selected;s.onKeydown(t);let c=this.selected;c&&a!==c&&this._liveAnnouncer.announce(c.viewValue,1e4)}}_handleOpenKeydown(t){let r=this._keyManager,i=t.keyCode,o=i===40||i===38,s=r.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(!s&&(i===13||i===32)&&r.activeItem&&!tr(t))t.preventDefault(),r.activeItem._selectViaInteraction();else if(!s&&this._multiple&&i===65&&t.ctrlKey){t.preventDefault();let a=this.options.some(c=>!c.disabled&&!c.selected);this.options.forEach(c=>{c.disabled||(a?c.select():c.deselect())})}else{let a=r.activeItemIndex;r.onKeydown(t),this._multiple&&o&&t.shiftKey&&r.activeItem&&r.activeItemIndex!==a&&r.activeItem._selectViaInteraction()}}_handleOverlayKeydown(t){t.keyCode===27&&!tr(t)&&(t.preventDefault(),this.close())}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this._keyManager?.cancelTypeahead(),!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.options.forEach(r=>r.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(r=>this._selectOptionByValue(r)),this._sortValues();else{let r=this._selectOptionByValue(t);r?this._keyManager.updateActiveItem(r):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){let r=this.options.find(i=>{if(this._selectionModel.isSelected(i))return!1;try{return(i.value!=null||this.canSelectNullableOptions)&&this._compareWith(i.value,t)}catch{return!1}});return r&&this._selectionModel.select(r),r}_assignValue(t){return t!==this._value||this._multiple&&Array.isArray(t)?(this.options&&this._setSelectionByValue(t),this._value=t,!0):!1}_skipPredicate=t=>this.panelOpen?!1:t.disabled;_getOverlayWidth(t){return this.panelWidth==="auto"?(t instanceof Jc?t.elementRef:t||this._elementRef).nativeElement.getBoundingClientRect().width:this.panelWidth===null?"":this.panelWidth}_syncParentProperties(){if(this.options)for(let t of this.options)t._changeDetectorRef.markForCheck()}_initKeyManager(){this._keyManager=new Md(this.options).withTypeAhead(this.typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withPageUpDown().withAllowedModifierKeys(["shiftKey"]).skipPredicate(this._skipPredicate),this._keyManager.tabOut.subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){let t=as(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Ye(t)).subscribe(r=>{this._onSelect(r.source,r.isUserInput),r.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),as(...this.options.map(r=>r._stateChanges)).pipe(Ye(t)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this.stateChanges.next()})}_onSelect(t,r){let i=this._selectionModel.isSelected(t);!this.canSelectNullableOptions&&t.value==null&&!this._multiple?(t.deselect(),this._selectionModel.clear(),this.value!=null&&this._propagateChanges(t.value)):(i!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),r&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),r&&this.focus())),i!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){let t=this.options.toArray();this._selectionModel.sort((r,i)=>this.sortComparator?this.sortComparator(r,i,t):t.indexOf(r)-t.indexOf(i)),this.stateChanges.next()}}_propagateChanges(t){let r;this.multiple?r=this.selected.map(i=>i.value):r=this.selected?this.selected.value:t,this._value=r,this.valueChange.emit(r),this._onChange(r),this.selectionChange.emit(this._getChangeEvent(r)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){if(this._keyManager)if(this.empty){let t=-1;for(let r=0;r<this.options.length;r++)if(!this.options.get(r).disabled){t=r;break}this._keyManager.setActiveItem(t)}else this._keyManager.setActiveItem(this._selectionModel.selected[0])}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0&&!!this._overlayDir}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId()||null,r=t?t+" ":"";return this.ariaLabelledby?r+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;let t=this._parentFormField?.getLabelId()||"";return this.ariaLabelledby&&(t+=" "+this.ariaLabelledby),t||(t=this._valueId),t}get describedByIds(){return this._elementRef.nativeElement.getAttribute("aria-describedby")?.split(" ")||[]}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this.panelOpen||!this.empty||this.focused&&!!this.placeholder}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["mat-select"]],contentQueries:function(r,i,o){if(r&1&&(fr(o,EY,5),fr(o,el,5),fr(o,jT,5)),r&2){let s;qe(s=Ge())&&(i.customTrigger=s.first),qe(s=Ge())&&(i.options=s),qe(s=Ge())&&(i.optionGroups=s)}},viewQuery:function(r,i){if(r&1&&(Dt(lY,5),Dt(uY,5),Dt(av,5)),r&2){let o;qe(o=Ge())&&(i.trigger=o.first),qe(o=Ge())&&(i.panel=o.first),qe(o=Ge())&&(i._overlayDir=o.first)}},hostAttrs:["role","combobox","aria-haspopup","listbox",1,"mat-mdc-select"],hostVars:19,hostBindings:function(r,i){r&1&&Ae("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),r&2&&(lt("id",i.id)("tabindex",i.disabled?-1:i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),Ue("mat-mdc-select-disabled",i.disabled)("mat-mdc-select-invalid",i.errorState)("mat-mdc-select-required",i.required)("mat-mdc-select-empty",i.empty)("mat-mdc-select-multiple",i.multiple))},inputs:{userAriaDescribedBy:[0,"aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",disabled:[2,"disabled","disabled",Me],disableRipple:[2,"disableRipple","disableRipple",Me],tabIndex:[2,"tabIndex","tabIndex",t=>t==null?0:Or(t)],hideSingleSelectionIndicator:[2,"hideSingleSelectionIndicator","hideSingleSelectionIndicator",Me],placeholder:"placeholder",required:[2,"required","required",Me],multiple:[2,"multiple","multiple",Me],disableOptionCentering:[2,"disableOptionCentering","disableOptionCentering",Me],compareWith:"compareWith",value:"value",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:[2,"typeaheadDebounceInterval","typeaheadDebounceInterval",Or],sortComparator:"sortComparator",id:"id",panelWidth:"panelWidth",canSelectNullableOptions:[2,"canSelectNullableOptions","canSelectNullableOptions",Me]},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Wn([{provide:ST,useExisting:n},{provide:VT,useExisting:n}]),Mn],ngContentSelectors:hY,decls:11,vars:9,consts:[["fallbackOverlayOrigin","cdkOverlayOrigin","trigger",""],["panel",""],["cdk-overlay-origin","",1,"mat-mdc-select-trigger",3,"click"],[1,"mat-mdc-select-value"],[1,"mat-mdc-select-placeholder","mat-mdc-select-min-line"],[1,"mat-mdc-select-value-text"],[1,"mat-mdc-select-arrow-wrapper"],[1,"mat-mdc-select-arrow"],["viewBox","0 0 24 24","width","24px","height","24px","focusable","false","aria-hidden","true"],["d","M7 10l5 5 5-5z"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"detach","backdropClick","overlayKeydown","cdkConnectedOverlayDisableClose","cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayWidth","cdkConnectedOverlayFlexibleDimensions"],[1,"mat-mdc-select-min-line"],["role","listbox","tabindex","-1",3,"keydown","ngClass"]],template:function(r,i){if(r&1){let o=on();Dn(dY),z(0,"div",2,0),Ae("click",function(){return Je(o),et(i.open())}),z(3,"div",3),ze(4,fY,2,1,"span",4)(5,gY,3,1,"span",5),K(),z(6,"div",6)(7,"div",7),ci(),z(8,"svg",8),dt(9,"path",9),K()()()(),fo(10,vY,3,10,"ng-template",10),Ae("detach",function(){return Je(o),et(i.close())})("backdropClick",function(){return Je(o),et(i.close())})("overlayKeydown",function(a){return Je(o),et(i._handleOverlayKeydown(a))})}if(r&2){let o=pr(1);Y(3),lt("id",i._valueId),Y(),He(i.empty?4:5),Y(6),Be("cdkConnectedOverlayDisableClose",!0)("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",i._preferredOverlayOrigin||o)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayWidth",i._overlayWidth)("cdkConnectedOverlayFlexibleDimensions",!0)}},dependencies:[Jc,av,hu],styles:[`@keyframes _mat-select-enter{from{opacity:0;transform:scaleY(0.8)}to{opacity:1;transform:none}}@keyframes _mat-select-exit{from{opacity:1}to{opacity:0}}.mat-mdc-select{display:inline-block;width:100%;outline:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-select-enabled-trigger-text-color, var(--mat-sys-on-surface));font-family:var(--mat-select-trigger-text-font, var(--mat-sys-body-large-font));line-height:var(--mat-select-trigger-text-line-height, var(--mat-sys-body-large-line-height));font-size:var(--mat-select-trigger-text-size, var(--mat-sys-body-large-size));font-weight:var(--mat-select-trigger-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-select-trigger-text-tracking, var(--mat-sys-body-large-tracking))}div.mat-mdc-select-panel{box-shadow:var(--mat-select-container-elevation-shadow, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-select-disabled{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-disabled .mat-mdc-select-placeholder{color:var(--mat-select-disabled-trigger-text-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-mdc-select-disabled .mat-mdc-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-mdc-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-mdc-select-arrow-wrapper{height:24px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mdc-text-field--no-label .mat-mdc-select-arrow-wrapper{transform:none}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-invalid .mat-mdc-select-arrow,.mat-form-field-invalid:not(.mat-form-field-disabled) .mat-mdc-form-field-infix::after{color:var(--mat-select-invalid-arrow-color, var(--mat-sys-error))}.mat-mdc-select-arrow{width:10px;height:5px;position:relative;color:var(--mat-select-enabled-arrow-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field.mat-focused .mat-mdc-select-arrow{color:var(--mat-select-focused-arrow-color, var(--mat-sys-primary))}.mat-mdc-form-field .mat-mdc-select.mat-mdc-select-disabled .mat-mdc-select-arrow{color:var(--mat-select-disabled-arrow-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%)}@media(forced-colors: active){.mat-mdc-select-arrow svg{fill:CanvasText}.mat-mdc-select-disabled .mat-mdc-select-arrow svg{fill:GrayText}}div.mat-mdc-select-panel{width:100%;max-height:275px;outline:0;overflow:auto;padding:8px 0;border-radius:4px;box-sizing:border-box;position:relative;background-color:var(--mat-select-panel-background-color, var(--mat-sys-surface-container))}@media(forced-colors: active){div.mat-mdc-select-panel{outline:solid 1px}}.cdk-overlay-pane:not(.mat-mdc-select-panel-above) div.mat-mdc-select-panel{border-top-left-radius:0;border-top-right-radius:0;transform-origin:top center}.mat-mdc-select-panel-above div.mat-mdc-select-panel{border-bottom-left-radius:0;border-bottom-right-radius:0;transform-origin:bottom center}.mat-select-panel-animations-enabled{animation:_mat-select-enter 120ms cubic-bezier(0, 0, 0.2, 1)}.mat-select-panel-animations-enabled.mat-select-panel-exit{animation:_mat-select-exit 100ms linear}.mat-mdc-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1);color:var(--mat-select-placeholder-text-color, var(--mat-sys-on-surface-variant))}.mat-mdc-form-field:not(.mat-form-field-animations-enabled) .mat-mdc-select-placeholder,._mat-animation-noopable .mat-mdc-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-mdc-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mat-mdc-floating-label{max-width:calc(100% - 18px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-fill .mdc-floating-label--float-above{max-width:calc(100%/0.75 - 24px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mat-mdc-form-field-type-mat-select.mat-form-field-appearance-outline .mdc-text-field--label-floating .mdc-notched-outline__notch{max-width:calc(100% - 24px)}.mat-mdc-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}.mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:var(--mat-select-arrow-transform, translateY(-8px))}
`],encapsulation:2,changeDetection:0})}return n})();var RV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({providers:[bY],imports:[Bd,BT,ft,fa,SV,BT,ft]})}return n})();var wY={capture:!0},IY=["focus","mousedown","mouseenter","touchstart"],$T="mat-ripple-loader-uninitialized",zT="mat-ripple-loader-class-name",MV="mat-ripple-loader-centered",fv="mat-ripple-loader-disabled",NV=(()=>{class n{_document=_(ce);_animationsDisabled=En();_globalRippleOptions=_(FT,{optional:!0});_platform=_(rt);_ngZone=_($);_injector=_(ee);_eventCleanups;_hosts=new Map;constructor(){let t=_(Pt).createRenderer(null,null);this._eventCleanups=this._ngZone.runOutsideAngular(()=>IY.map(r=>t.listen(this._document,r,this._onInteraction,wY)))}ngOnDestroy(){let t=this._hosts.keys();for(let r of t)this.destroyRipple(r);this._eventCleanups.forEach(r=>r())}configureRipple(t,r){t.setAttribute($T,this._globalRippleOptions?.namespace??""),(r.className||!t.hasAttribute(zT))&&t.setAttribute(zT,r.className||""),r.centered&&t.setAttribute(MV,""),r.disabled&&t.setAttribute(fv,"")}setDisabled(t,r){let i=this._hosts.get(t);i?(i.target.rippleDisabled=r,!r&&!i.hasSetUpEvents&&(i.hasSetUpEvents=!0,i.renderer.setupTriggerEvents(t))):r?t.setAttribute(fv,""):t.removeAttribute(fv)}_onInteraction=t=>{let r=bn(t);if(r instanceof HTMLElement){let i=r.closest(`[${$T}="${this._globalRippleOptions?.namespace??""}"]`);i&&this._createRipple(i)}};_createRipple(t){if(!this._document||this._hosts.has(t))return;t.querySelector(".mat-ripple")?.remove();let r=this._document.createElement("span");r.classList.add("mat-ripple",t.getAttribute(zT)),t.append(r);let i=this._globalRippleOptions,o=this._animationsDisabled?0:i?.animation?.enterDuration??$d.enterDuration,s=this._animationsDisabled?0:i?.animation?.exitDuration??$d.exitDuration,a={rippleDisabled:this._animationsDisabled||i?.disabled||t.hasAttribute(fv),rippleConfig:{centered:t.hasAttribute(MV),terminateOnPointerUp:i?.terminateOnPointerUp,animation:{enterDuration:o,exitDuration:s}}},c=new zd(a,this._ngZone,r,this._platform,this._injector),u=!a.rippleDisabled;u&&c.setupTriggerEvents(t),this._hosts.set(t,{target:a,renderer:c,hasSetUpEvents:u}),t.removeAttribute($T)}destroyRipple(t){let r=this._hosts.get(t);r&&(r.renderer._removeTriggerEvents(),this._hosts.delete(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var CY=["mat-icon-button",""],DY=["*"],TY=new O("MAT_BUTTON_CONFIG");function kV(n){return n==null?void 0:Or(n)}var SY=(()=>{class n{_elementRef=_(Ee);_ngZone=_($);_animationsDisabled=En();_config=_(TY,{optional:!0});_focusMonitor=_(Rd);_cleanupClick;_renderer=_(kn);_rippleLoader=_(NV);_isAnchor;_isFab=!1;color;get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=t,this._updateRippleDisabled()}_disableRipple=!1;get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._updateRippleDisabled()}_disabled=!1;ariaDisabled;disabledInteractive;tabIndex;set _tabindex(t){this.tabIndex=t}constructor(){_(Jn).load(cv);let t=this._elementRef.nativeElement;this._isAnchor=t.tagName==="A",this.disabledInteractive=this._config?.disabledInteractive??!1,this.color=this._config?.color??null,this._rippleLoader?.configureRipple(t,{className:"mat-mdc-button-ripple"})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0),this._isAnchor&&this._setupAsAnchor()}ngOnDestroy(){this._cleanupClick?.(),this._focusMonitor.stopMonitoring(this._elementRef),this._rippleLoader?.destroyRipple(this._elementRef.nativeElement)}focus(t="program",r){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,r):this._elementRef.nativeElement.focus(r)}_getAriaDisabled(){return this.ariaDisabled!=null?this.ariaDisabled:this._isAnchor?this.disabled||null:this.disabled&&this.disabledInteractive?!0:null}_getDisabledAttribute(){return this.disabledInteractive||!this.disabled?null:!0}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}_getTabIndex(){return this._isAnchor?this.disabled&&!this.disabledInteractive?-1:this.tabIndex:this.tabIndex}_setupAsAnchor(){this._cleanupClick=this._ngZone.runOutsideAngular(()=>this._renderer.listen(this._elementRef.nativeElement,"click",t=>{this.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,hostAttrs:[1,"mat-mdc-button-base"],hostVars:13,hostBindings:function(r,i){r&2&&(lt("disabled",i._getDisabledAttribute())("aria-disabled",i._getAriaDisabled())("tabindex",i._getTabIndex()),Rs(i.color?"mat-"+i.color:""),Ue("mat-mdc-button-disabled",i.disabled)("mat-mdc-button-disabled-interactive",i.disabledInteractive)("mat-unthemed",!i.color)("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disableRipple:[2,"disableRipple","disableRipple",Me],disabled:[2,"disabled","disabled",Me],ariaDisabled:[2,"aria-disabled","ariaDisabled",Me],disabledInteractive:[2,"disabledInteractive","disabledInteractive",Me],tabIndex:[2,"tabIndex","tabIndex",kV],_tabindex:[2,"tabindex","_tabindex",kV]}})}return n})(),OV=(()=>{class n extends SY{constructor(){super(),this._rippleLoader.configureRipple(this._elementRef.nativeElement,{centered:!0})}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["button","mat-icon-button",""],["a","mat-icon-button",""],["button","matIconButton",""],["a","matIconButton",""]],hostAttrs:[1,"mdc-icon-button","mat-mdc-icon-button"],exportAs:["matButton","matAnchor"],features:[Nr],attrs:CY,ngContentSelectors:DY,decls:4,vars:0,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(r,i){r&1&&(Dn(),kr(0,"span",0),ot(1),kr(2,"span",1)(3,"span",2))},styles:[`.mat-mdc-icon-button{-webkit-user-select:none;user-select:none;display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;text-decoration:none;cursor:pointer;z-index:0;overflow:visible;border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%));flex-shrink:0;text-align:center;width:var(--mat-icon-button-state-layer-size, 40px);height:var(--mat-icon-button-state-layer-size, 40px);padding:calc(calc(var(--mat-icon-button-state-layer-size, 40px) - var(--mat-icon-button-icon-size, 24px)) / 2);font-size:var(--mat-icon-button-icon-size, 24px);color:var(--mat-icon-button-icon-color, var(--mat-sys-on-surface-variant));-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0}.mat-mdc-icon-button .mdc-button__label,.mat-mdc-icon-button .mat-icon{z-index:1;position:relative}.mat-mdc-icon-button .mat-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:inherit}.mat-mdc-icon-button:focus>.mat-focus-indicator::before{content:"";border-radius:inherit}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-icon-button-ripple-color, color-mix(in srgb, var(--mat-sys-on-surface-variant) calc(var(--mat-sys-pressed-state-layer-opacity) * 100%), transparent))}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button.mat-mdc-button-disabled .mat-mdc-button-persistent-ripple::before{background-color:var(--mat-icon-button-disabled-state-layer-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button:hover>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-hover-state-layer-opacity, var(--mat-sys-hover-state-layer-opacity))}.mat-mdc-icon-button.cdk-program-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.cdk-keyboard-focused>.mat-mdc-button-persistent-ripple::before,.mat-mdc-icon-button.mat-mdc-button-disabled-interactive:focus>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-focus-state-layer-opacity, var(--mat-sys-focus-state-layer-opacity))}.mat-mdc-icon-button:active>.mat-mdc-button-persistent-ripple::before{opacity:var(--mat-icon-button-pressed-state-layer-opacity, var(--mat-sys-pressed-state-layer-opacity))}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:var(--mat-icon-button-touch-target-size, 48px);display:var(--mat-icon-button-touch-target-display, block);left:50%;width:var(--mat-icon-button-touch-target-size, 48px);transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button[disabled],.mat-mdc-icon-button.mat-mdc-button-disabled{cursor:default;pointer-events:none;color:var(--mat-icon-button-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}.mat-mdc-icon-button.mat-mdc-button-disabled-interactive{pointer-events:auto}.mat-mdc-icon-button img,.mat-mdc-icon-button svg{width:var(--mat-icon-button-icon-size, 24px);height:var(--mat-icon-button-icon-size, 24px);vertical-align:baseline}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:var(--mat-icon-button-container-shape, var(--mat-sys-corner-full, 50%))}.mat-mdc-icon-button[hidden]{display:none}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}
`,`@media(forced-colors: active){.mat-mdc-button:not(.mdc-button--outlined),.mat-mdc-unelevated-button:not(.mdc-button--outlined),.mat-mdc-raised-button:not(.mdc-button--outlined),.mat-mdc-outlined-button:not(.mdc-button--outlined),.mat-mdc-button-base.mat-tonal-button,.mat-mdc-icon-button.mat-mdc-icon-button,.mat-mdc-outlined-button .mdc-button__ripple{outline:solid 1px}}
`],encapsulation:2,changeDetection:0})}return n})();var AY=["tooltip"],LV=20;var VV=new O("mat-tooltip-scroll-strategy",{providedIn:"root",factory:()=>{let n=_(ee);return()=>Qr(n,{scrollThrottle:LV})}});function xY(n){let e=_(ee);return()=>Qr(e,{scrollThrottle:LV})}var jV={provide:VV,deps:[],useFactory:xY};function RY(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}var MY=new O("mat-tooltip-default-options",{providedIn:"root",factory:RY});var PV="tooltip-panel",FV=Ho({passive:!0}),NY=8,kY=8,OY=24,PY=200,BV=(()=>{class n{_elementRef=_(Ee);_ngZone=_($);_platform=_(rt);_ariaDescriber=_(kL);_focusMonitor=_(Rd);_dir=_(Yr);_injector=_(ee);_viewContainerRef=_(In);_animationsDisabled=En();_defaultOptions=_(MY,{optional:!0});_overlayRef;_tooltipInstance;_overlayPanelClass;_portal;_position="below";_positionAtOrigin=!1;_disabled=!1;_tooltipClass;_viewInitialized=!1;_pointerExitEventsInitialized=!1;_tooltipComponent=FY;_viewportMargin=8;_currentPosition;_cssClassPrefix="mat-mdc";_ariaDescriptionPending;_dirSubscribed=!1;get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=Nd(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){let r=Nd(t);this._disabled!==r&&(this._disabled=r,r?this.hide(0):this._setupPointerEnterEventsIfNeeded(),this._syncAriaDescription(this.message))}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Ad(t)}_showDelay;get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Ad(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}_hideDelay;touchGestures="auto";get message(){return this._message}set message(t){let r=this._message;this._message=t!=null?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage()),this._syncAriaDescription(r)}_message="";get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}_passiveListeners=[];_touchstartTimeout=null;_destroyed=new G;_isDestroyed=!1;constructor(){let t=this._defaultOptions;t&&(this._showDelay=t.showDelay,this._hideDelay=t.hideDelay,t.position&&(this.position=t.position),t.positionAtOrigin&&(this.positionAtOrigin=t.positionAtOrigin),t.touchGestures&&(this.touchGestures=t.touchGestures),t.tooltipClass&&(this.tooltipClass=t.tooltipClass)),this._viewportMargin=NY}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Ye(this._destroyed)).subscribe(t=>{t?t==="keyboard"&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){let t=this._elementRef.nativeElement;this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([r,i])=>{t.removeEventListener(r,i,FV)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._isDestroyed=!0,this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,r){if(this.disabled||!this.message||this._isTooltipVisible()){this._tooltipInstance?._cancelPendingAnimations();return}let i=this._createOverlay(r);this._detach(),this._portal=this._portal||new Od(this._tooltipComponent,this._viewContainerRef);let o=this._tooltipInstance=i.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Ye(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){let r=this._tooltipInstance;r&&(r.isVisible()?r.hide(t):(r._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){let s=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&s._origin instanceof Ee)return this._overlayRef;this._detach()}let r=this._injector.get(Xc).getAncestorScrollContainers(this._elementRef),i=`${this._cssClassPrefix}-${PV}`,o=Vd(this._injector,this.positionAtOrigin?t||this._elementRef:this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(r);return o.positionChanges.pipe(Ye(this._destroyed)).subscribe(s=>{this._updateCurrentPositionClass(s.connectionPair),this._tooltipInstance&&s.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=jd(this._injector,{direction:this._dir,positionStrategy:o,panelClass:this._overlayPanelClass?[...this._overlayPanelClass,i]:i,scrollStrategy:this._injector.get(VV)(),disableAnimations:this._animationsDisabled}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Ye(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Ye(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Ye(this._destroyed)).subscribe(s=>{this._isTooltipVisible()&&s.keyCode===27&&!tr(s)&&(s.preventDefault(),s.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._dirSubscribed||(this._dirSubscribed=!0,this._dir.change.pipe(Ye(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){let r=t.getConfig().positionStrategy,i=this._getOrigin(),o=this._getOverlayPosition();r.withPositions([this._addOffset(k(k({},i.main),o.main)),this._addOffset(k(k({},i.fallback),o.fallback))])}_addOffset(t){let r=kY,i=!this._dir||this._dir.value=="ltr";return t.originY==="top"?t.offsetY=-r:t.originY==="bottom"?t.offsetY=r:t.originX==="start"?t.offsetX=i?-r:r:t.originX==="end"&&(t.offsetX=i?r:-r),t}_getOrigin(){let t=!this._dir||this._dir.value=="ltr",r=this.position,i;r=="above"||r=="below"?i={originX:"center",originY:r=="above"?"top":"bottom"}:r=="before"||r=="left"&&t||r=="right"&&!t?i={originX:"start",originY:"center"}:(r=="after"||r=="right"&&t||r=="left"&&!t)&&(i={originX:"end",originY:"center"});let{x:o,y:s}=this._invertPosition(i.originX,i.originY);return{main:i,fallback:{originX:o,originY:s}}}_getOverlayPosition(){let t=!this._dir||this._dir.value=="ltr",r=this.position,i;r=="above"?i={overlayX:"center",overlayY:"bottom"}:r=="below"?i={overlayX:"center",overlayY:"top"}:r=="before"||r=="left"&&t||r=="right"&&!t?i={overlayX:"end",overlayY:"center"}:(r=="after"||r=="right"&&t||r=="left"&&!t)&&(i={overlayX:"start",overlayY:"center"});let{x:o,y:s}=this._invertPosition(i.overlayX,i.overlayY);return{main:i,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),hr(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()},{injector:this._injector}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,r){return this.position==="above"||this.position==="below"?r==="top"?r="bottom":r==="bottom"&&(r="top"):t==="end"?t="start":t==="start"&&(t="end"),{x:t,y:r}}_updateCurrentPositionClass(t){let{overlayY:r,originX:i,originY:o}=t,s;if(r==="center"?this._dir&&this._dir.value==="rtl"?s=i==="end"?"left":"right":s=i==="start"?"left":"right":s=r==="bottom"&&o==="top"?"above":"below",s!==this._currentPosition){let a=this._overlayRef;if(a){let c=`${this._cssClassPrefix}-${PV}-`;a.removePanelClass(c+this._currentPosition),a.addPanelClass(c+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{this._setupPointerExitEventsIfNeeded();let r;t.x!==void 0&&t.y!==void 0&&(r=t),this.show(void 0,r)}]):this.touchGestures!=="off"&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{let r=t.targetTouches?.[0],i=r?{x:r.clientX,y:r.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),this._touchstartTimeout&&clearTimeout(this._touchstartTimeout);let o=500;this._touchstartTimeout=setTimeout(()=>{this._touchstartTimeout=null,this.show(void 0,i)},this._defaultOptions?.touchLongPressShowDelay??o)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;let t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",r=>{let i=r.relatedTarget;(!i||!this._overlayRef?.overlayElement.contains(i))&&this.hide()}],["wheel",r=>this._wheelListener(r)]);else if(this.touchGestures!=="off"){this._disableNativeGesturesIfNecessary();let r=()=>{this._touchstartTimeout&&clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions?.touchendHideDelay)};t.push(["touchend",r],["touchcancel",r])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([r,i])=>{this._elementRef.nativeElement.addEventListener(r,i,FV)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){let r=this._injector.get(ce).elementFromPoint(t.clientX,t.clientY),i=this._elementRef.nativeElement;r!==i&&!i.contains(r)&&this.hide()}}_disableNativeGesturesIfNecessary(){let t=this.touchGestures;if(t!=="off"){let r=this._elementRef.nativeElement,i=r.style;(t==="on"||r.nodeName!=="INPUT"&&r.nodeName!=="TEXTAREA")&&(i.userSelect=i.msUserSelect=i.webkitUserSelect=i.MozUserSelect="none"),(t==="on"||!r.draggable)&&(i.webkitUserDrag="none"),i.touchAction="none",i.webkitTapHighlightColor="transparent"}}_syncAriaDescription(t){this._ariaDescriptionPending||(this._ariaDescriptionPending=!0,this._ariaDescriber.removeDescription(this._elementRef.nativeElement,t,"tooltip"),this._isDestroyed||hr({write:()=>{this._ariaDescriptionPending=!1,this.message&&!this.disabled&&this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")}},{injector:this._injector}))}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Ne({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(r,i){r&2&&Ue("mat-mdc-tooltip-disabled",i.disabled)},inputs:{position:[0,"matTooltipPosition","position"],positionAtOrigin:[0,"matTooltipPositionAtOrigin","positionAtOrigin"],disabled:[0,"matTooltipDisabled","disabled"],showDelay:[0,"matTooltipShowDelay","showDelay"],hideDelay:[0,"matTooltipHideDelay","hideDelay"],touchGestures:[0,"matTooltipTouchGestures","touchGestures"],message:[0,"matTooltip","message"],tooltipClass:[0,"matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]})}return n})(),FY=(()=>{class n{_changeDetectorRef=_(gn);_elementRef=_(Ee);_isMultiline=!1;message;tooltipClass;_showTimeoutId;_hideTimeoutId;_triggerElement;_mouseLeaveHideDelay;_animationsDisabled=En();_tooltip;_closeOnInteraction=!1;_isVisible=!1;_onHide=new G;_showAnimation="mat-mdc-tooltip-show";_hideAnimation="mat-mdc-tooltip-hide";constructor(){}show(t){this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){let t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>OY&&t.width>=PY}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){this._showTimeoutId!=null&&clearTimeout(this._showTimeoutId),this._hideTimeoutId!=null&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){let r=this._tooltip.nativeElement,i=this._showAnimation,o=this._hideAnimation;if(r.classList.remove(t?o:i),r.classList.add(t?i:o),this._isVisible!==t&&(this._isVisible=t,this._changeDetectorRef.markForCheck()),t&&!this._animationsDisabled&&typeof getComputedStyle=="function"){let s=getComputedStyle(r);(s.getPropertyValue("animation-duration")==="0s"||s.getPropertyValue("animation-name")==="none")&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(r.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(r,i){if(r&1&&Dt(AY,7),r&2){let o;qe(o=Ge())&&(i._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostBindings:function(r,i){r&1&&Ae("mouseleave",function(s){return i._handleMouseLeave(s)})},decls:4,vars:4,consts:[["tooltip",""],[1,"mdc-tooltip","mat-mdc-tooltip",3,"animationend","ngClass"],[1,"mat-mdc-tooltip-surface","mdc-tooltip__surface"]],template:function(r,i){if(r&1){let o=on();z(0,"div",1,0),Ae("animationend",function(a){return Je(o),et(i._handleAnimationEnd(a))}),z(2,"div",2),Qe(3),K()()}r&2&&(Ue("mdc-tooltip--multiline",i._isMultiline),Be("ngClass",i.tooltipClass),Y(3),Tn(i.message))},dependencies:[hu],styles:[`.mat-mdc-tooltip{position:relative;transform:scale(0);display:inline-flex}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-surface{word-break:normal;overflow-wrap:anywhere;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center;will-change:transform,opacity;background-color:var(--mat-tooltip-container-color, var(--mat-sys-inverse-surface));color:var(--mat-tooltip-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-tooltip-container-shape, var(--mat-sys-corner-extra-small));font-family:var(--mat-tooltip-supporting-text-font, var(--mat-sys-body-small-font));font-size:var(--mat-tooltip-supporting-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-tooltip-supporting-text-weight, var(--mat-sys-body-small-weight));line-height:var(--mat-tooltip-supporting-text-line-height, var(--mat-sys-body-small-line-height));letter-spacing:var(--mat-tooltip-supporting-text-tracking, var(--mat-sys-body-small-tracking))}.mat-mdc-tooltip-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mat-mdc-tooltip-surface{text-align:right}.mat-mdc-tooltip-panel{line-height:normal}.mat-mdc-tooltip-panel.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}
`],encapsulation:2,changeDetection:0})}return n})();var UV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({providers:[jV],imports:[_T,Bd,ft,ft,fa]})}return n})();var pv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[ft,hv,ft]})}return n})();function LY(n,e){if(n&1&&(z(0,"mat-option",17),Qe(1),K()),n&2){let t=e.$implicit;Be("value",t),Y(),mr(" ",t," ")}}function VY(n,e){if(n&1){let t=on();z(0,"mat-form-field",14)(1,"mat-select",16,0),Ae("selectionChange",function(i){Je(t);let o=xe(2);return et(o._changePageSize(i.value))}),tc(3,LY,2,2,"mat-option",17,Yb),K(),z(5,"div",18),Ae("click",function(){Je(t);let i=pr(2);return et(i.open())}),K()()}if(n&2){let t=xe(2);Be("appearance",t._formFieldAppearance)("color",t.color),Y(),Be("value",t.pageSize)("disabled",t.disabled),op("aria-labelledby",t._pageSizeLabelId),Be("panelClass",t.selectConfig.panelClass||"")("disableOptionCentering",t.selectConfig.disableOptionCentering),Y(2),nc(t._displayedPageSizeOptions)}}function jY(n,e){if(n&1&&(z(0,"div",15),Qe(1),K()),n&2){let t=xe(2);Y(),Tn(t.pageSize)}}function BY(n,e){if(n&1&&(z(0,"div",3)(1,"div",13),Qe(2),K(),ze(3,VY,6,7,"mat-form-field",14),ze(4,jY,2,1,"div",15),K()),n&2){let t=xe();Y(),lt("id",t._pageSizeLabelId),Y(),mr(" ",t._intl.itemsPerPageLabel," "),Y(),He(t._displayedPageSizeOptions.length>1?3:-1),Y(),He(t._displayedPageSizeOptions.length<=1?4:-1)}}function UY(n,e){if(n&1){let t=on();z(0,"button",19),Ae("click",function(){Je(t);let i=xe();return et(i._buttonClicked(0,i._previousButtonsDisabled()))}),ci(),z(1,"svg",8),dt(2,"path",20),K()()}if(n&2){let t=xe();Be("matTooltip",t._intl.firstPageLabel)("matTooltipDisabled",t._previousButtonsDisabled())("disabled",t._previousButtonsDisabled())("tabindex",t._previousButtonsDisabled()?-1:null),lt("aria-label",t._intl.firstPageLabel)}}function $Y(n,e){if(n&1){let t=on();z(0,"button",21),Ae("click",function(){Je(t);let i=xe();return et(i._buttonClicked(i.getNumberOfPages()-1,i._nextButtonsDisabled()))}),ci(),z(1,"svg",8),dt(2,"path",22),K()()}if(n&2){let t=xe();Be("matTooltip",t._intl.lastPageLabel)("matTooltipDisabled",t._nextButtonsDisabled())("disabled",t._nextButtonsDisabled())("tabindex",t._nextButtonsDisabled()?-1:null),lt("aria-label",t._intl.lastPageLabel)}}var mv=(()=>{class n{changes=new G;itemsPerPageLabel="Items per page:";nextPageLabel="Next page";previousPageLabel="Previous page";firstPageLabel="First page";lastPageLabel="Last page";getRangeLabel=(t,r,i)=>{if(i==0||r==0)return`0 of ${i}`;i=Math.max(i,0);let o=t*r,s=o<i?Math.min(o+r,i):o+r;return`${o+1} \u2013 ${s} of ${i}`};static \u0275fac=function(r){return new(r||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zY(n){return n||new mv}var HY={provide:mv,deps:[[new yt,new Uf,mv]],useFactory:zY},qY=50;var GY=new O("MAT_PAGINATOR_DEFAULT_OPTIONS"),HT=(()=>{class n{_intl=_(mv);_changeDetectorRef=_(gn);_formFieldAppearance;_pageSizeLabelId=_(er).getId("mat-paginator-page-size-label-");_intlChanges;_isInitialized=!1;_initializedStream=new Hi(1);color;get pageIndex(){return this._pageIndex}set pageIndex(t){this._pageIndex=Math.max(t||0,0),this._changeDetectorRef.markForCheck()}_pageIndex=0;get length(){return this._length}set length(t){this._length=t||0,this._changeDetectorRef.markForCheck()}_length=0;get pageSize(){return this._pageSize}set pageSize(t){this._pageSize=Math.max(t||0,0),this._updateDisplayedPageSizeOptions()}_pageSize;get pageSizeOptions(){return this._pageSizeOptions}set pageSizeOptions(t){this._pageSizeOptions=(t||[]).map(r=>Or(r,0)),this._updateDisplayedPageSizeOptions()}_pageSizeOptions=[];hidePageSize=!1;showFirstLastButtons=!1;selectConfig={};disabled=!1;page=new ye;_displayedPageSizeOptions;initialized=this._initializedStream;constructor(){let t=this._intl,r=_(GY,{optional:!0});if(this._intlChanges=t.changes.subscribe(()=>this._changeDetectorRef.markForCheck()),r){let{pageSize:i,pageSizeOptions:o,hidePageSize:s,showFirstLastButtons:a}=r;i!=null&&(this._pageSize=i),o!=null&&(this._pageSizeOptions=o),s!=null&&(this.hidePageSize=s),a!=null&&(this.showFirstLastButtons=a)}this._formFieldAppearance=r?.formFieldAppearance||"outline"}ngOnInit(){this._isInitialized=!0,this._updateDisplayedPageSizeOptions(),this._initializedStream.next()}ngOnDestroy(){this._initializedStream.complete(),this._intlChanges.unsubscribe()}nextPage(){this.hasNextPage()&&this._navigate(this.pageIndex+1)}previousPage(){this.hasPreviousPage()&&this._navigate(this.pageIndex-1)}firstPage(){this.hasPreviousPage()&&this._navigate(0)}lastPage(){this.hasNextPage()&&this._navigate(this.getNumberOfPages()-1)}hasPreviousPage(){return this.pageIndex>=1&&this.pageSize!=0}hasNextPage(){let t=this.getNumberOfPages()-1;return this.pageIndex<t&&this.pageSize!=0}getNumberOfPages(){return this.pageSize?Math.ceil(this.length/this.pageSize):0}_changePageSize(t){let r=this.pageIndex*this.pageSize,i=this.pageIndex;this.pageIndex=Math.floor(r/t)||0,this.pageSize=t,this._emitPageEvent(i)}_nextButtonsDisabled(){return this.disabled||!this.hasNextPage()}_previousButtonsDisabled(){return this.disabled||!this.hasPreviousPage()}_updateDisplayedPageSizeOptions(){this._isInitialized&&(this.pageSize||(this._pageSize=this.pageSizeOptions.length!=0?this.pageSizeOptions[0]:qY),this._displayedPageSizeOptions=this.pageSizeOptions.slice(),this._displayedPageSizeOptions.indexOf(this.pageSize)===-1&&this._displayedPageSizeOptions.push(this.pageSize),this._displayedPageSizeOptions.sort((t,r)=>t-r),this._changeDetectorRef.markForCheck())}_emitPageEvent(t){this.page.emit({previousPageIndex:t,pageIndex:this.pageIndex,pageSize:this.pageSize,length:this.length})}_navigate(t){let r=this.pageIndex;t!==r&&(this.pageIndex=t,this._emitPageEvent(r))}_buttonClicked(t,r){r||this._navigate(t)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["mat-paginator"]],hostAttrs:["role","group",1,"mat-mdc-paginator"],inputs:{color:"color",pageIndex:[2,"pageIndex","pageIndex",Or],length:[2,"length","length",Or],pageSize:[2,"pageSize","pageSize",Or],pageSizeOptions:"pageSizeOptions",hidePageSize:[2,"hidePageSize","hidePageSize",Me],showFirstLastButtons:[2,"showFirstLastButtons","showFirstLastButtons",Me],selectConfig:"selectConfig",disabled:[2,"disabled","disabled",Me]},outputs:{page:"page"},exportAs:["matPaginator"],decls:14,vars:14,consts:[["selectRef",""],[1,"mat-mdc-paginator-outer-container"],[1,"mat-mdc-paginator-container"],[1,"mat-mdc-paginator-page-size"],[1,"mat-mdc-paginator-range-actions"],["aria-live","polite",1,"mat-mdc-paginator-range-label"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-previous",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["viewBox","0 0 24 24","focusable","false","aria-hidden","true",1,"mat-mdc-paginator-icon"],["d","M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-next",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"matTooltip","matTooltipDisabled","disabled","tabindex"],[1,"mat-mdc-paginator-page-size-label"],[1,"mat-mdc-paginator-page-size-select",3,"appearance","color"],[1,"mat-mdc-paginator-page-size-value"],["hideSingleSelectionIndicator","",3,"selectionChange","value","disabled","aria-labelledby","panelClass","disableOptionCentering"],[3,"value"],[1,"mat-mdc-paginator-touch-target",3,"click"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-first",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"],["matIconButton","","type","button","matTooltipPosition","above","disabledInteractive","",1,"mat-mdc-paginator-navigation-last",3,"click","matTooltip","matTooltipDisabled","disabled","tabindex"],["d","M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"]],template:function(r,i){r&1&&(z(0,"div",1)(1,"div",2),ze(2,BY,5,4,"div",3),z(3,"div",4)(4,"div",5),Qe(5),K(),ze(6,UY,3,5,"button",6),z(7,"button",7),Ae("click",function(){return i._buttonClicked(i.pageIndex-1,i._previousButtonsDisabled())}),ci(),z(8,"svg",8),dt(9,"path",9),K()(),hf(),z(10,"button",10),Ae("click",function(){return i._buttonClicked(i.pageIndex+1,i._nextButtonsDisabled())}),ci(),z(11,"svg",8),dt(12,"path",11),K()(),ze(13,$Y,3,5,"button",12),K()()()),r&2&&(Y(2),He(i.hidePageSize?-1:2),Y(3),mr(" ",i._intl.getRangeLabel(i.pageIndex,i.pageSize,i.length)," "),Y(),He(i.showFirstLastButtons?6:-1),Y(),Be("matTooltip",i._intl.previousPageLabel)("matTooltipDisabled",i._previousButtonsDisabled())("disabled",i._previousButtonsDisabled())("tabindex",i._previousButtonsDisabled()?-1:null),lt("aria-label",i._intl.previousPageLabel),Y(3),Be("matTooltip",i._intl.nextPageLabel)("matTooltipDisabled",i._nextButtonsDisabled())("disabled",i._nextButtonsDisabled())("tabindex",i._nextButtonsDisabled()?-1:null),lt("aria-label",i._intl.nextPageLabel),Y(3),He(i.showFirstLastButtons?13:-1))},dependencies:[Zg,xV,el,OV,BV],styles:[`.mat-mdc-paginator{display:block;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;color:var(--mat-paginator-container-text-color, var(--mat-sys-on-surface));background-color:var(--mat-paginator-container-background-color, var(--mat-sys-surface));font-family:var(--mat-paginator-container-text-font, var(--mat-sys-body-small-font));line-height:var(--mat-paginator-container-text-line-height, var(--mat-sys-body-small-line-height));font-size:var(--mat-paginator-container-text-size, var(--mat-sys-body-small-size));font-weight:var(--mat-paginator-container-text-weight, var(--mat-sys-body-small-weight));letter-spacing:var(--mat-paginator-container-text-tracking, var(--mat-sys-body-small-tracking));--mat-form-field-container-height: var(--mat-paginator-form-field-container-height, 40px);--mat-form-field-container-vertical-padding: var(--mat-paginator-form-field-container-vertical-padding, 8px)}.mat-mdc-paginator .mat-mdc-select-value{font-size:var(--mat-paginator-select-trigger-text-size, var(--mat-sys-body-small-size))}.mat-mdc-paginator .mat-mdc-form-field-subscript-wrapper{display:none}.mat-mdc-paginator .mat-mdc-select{line-height:1.5}.mat-mdc-paginator-outer-container{display:flex}.mat-mdc-paginator-container{display:flex;align-items:center;justify-content:flex-end;padding:0 8px;flex-wrap:wrap;width:100%;min-height:var(--mat-paginator-container-size, 56px)}.mat-mdc-paginator-page-size{display:flex;align-items:baseline;margin-right:8px}[dir=rtl] .mat-mdc-paginator-page-size{margin-right:0;margin-left:8px}.mat-mdc-paginator-page-size-label{margin:0 4px}.mat-mdc-paginator-page-size-select{margin:0 4px;width:var(--mat-paginator-page-size-select-width, 84px)}.mat-mdc-paginator-range-label{margin:0 32px 0 24px}.mat-mdc-paginator-range-actions{display:flex;align-items:center}.mat-mdc-paginator-icon{display:inline-block;width:28px;fill:var(--mat-paginator-enabled-icon-color, var(--mat-sys-on-surface-variant))}.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon{fill:var(--mat-paginator-disabled-icon-color, color-mix(in srgb, var(--mat-sys-on-surface) 38%, transparent))}[dir=rtl] .mat-mdc-paginator-icon{transform:rotate(180deg)}@media(forced-colors: active){.mat-mdc-icon-button[aria-disabled] .mat-mdc-paginator-icon,.mat-mdc-paginator-icon{fill:currentColor}.mat-mdc-paginator-range-actions .mat-mdc-icon-button{outline:solid 1px}.mat-mdc-paginator-range-actions .mat-mdc-icon-button[aria-disabled]{color:GrayText}}.mat-mdc-paginator-touch-target{display:var(--mat-paginator-touch-target-display, block);position:absolute;top:50%;left:50%;width:var(--mat-paginator-page-size-select-width, 84px);height:var(--mat-paginator-page-size-select-touch-target-height, 48px);background-color:rgba(0,0,0,0);transform:translate(-50%, -50%);cursor:pointer}
`],encapsulation:2,changeDetection:0})}return n})(),$V=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({providers:[HY],imports:[pv,RV,UV,HT]})}return n})();var gv;function KY(){if(gv===void 0&&(gv=null,typeof window<"u")){let n=window;n.trustedTypes!==void 0&&(gv=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return gv}function Hd(n){return KY()?.createHTML(n)||n}function zV(n){return Error(`Unable to find icon with the name "${n}"`)}function YY(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function HV(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qV(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var Fi=class{url;svgText;options;svgElement;constructor(e,t,r){this.url=e,this.svgText=t,this.options=r}},WV=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(t,r,i,o){this._httpClient=t,this._sanitizer=r,this._errorHandler=o,this._document=i}addSvgIcon(t,r,i){return this.addSvgIconInNamespace("",t,r,i)}addSvgIconLiteral(t,r,i){return this.addSvgIconLiteralInNamespace("",t,r,i)}addSvgIconInNamespace(t,r,i,o){return this._addSvgIconConfig(t,r,new Fi(i,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,r,i,o){let s=this._sanitizer.sanitize(mn.HTML,i);if(!s)throw qV(i);let a=Hd(s);return this._addSvgIconConfig(t,r,new Fi("",a,o))}addSvgIconSet(t,r){return this.addSvgIconSetInNamespace("",t,r)}addSvgIconSetLiteral(t,r){return this.addSvgIconSetLiteralInNamespace("",t,r)}addSvgIconSetInNamespace(t,r,i){return this._addSvgIconSetConfig(t,new Fi(r,null,i))}addSvgIconSetLiteralInNamespace(t,r,i){let o=this._sanitizer.sanitize(mn.HTML,r);if(!o)throw qV(r);let s=Hd(o);return this._addSvgIconSetConfig(t,new Fi("",s,i))}registerFontClassAlias(t,r=t){return this._fontCssClassesByAlias.set(t,r),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){let r=this._sanitizer.sanitize(mn.RESOURCE_URL,t);if(!r)throw HV(t);let i=this._cachedIconsByUrl.get(r);return i?W(vv(i)):this._loadSvgIconFromConfig(new Fi(t,null)).pipe(it(o=>this._cachedIconsByUrl.set(r,o)),q(o=>vv(o)))}getNamedSvgIcon(t,r=""){let i=GV(r,t),o=this._svgIconConfigs.get(i);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(r,t),o)return this._svgIconConfigs.set(i,o),this._getSvgFromConfig(o);let s=this._iconSetConfigs.get(r);return s?this._getSvgFromIconSetConfigs(t,s):Ki(zV(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?W(vv(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(q(r=>vv(r)))}_getSvgFromIconSetConfigs(t,r){let i=this._extractIconWithNameFromAnySet(t,r);if(i)return W(i);let o=r.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(Cr(a=>{let u=`Loading icon set URL: ${this._sanitizer.sanitize(mn.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(u)),W(null)})));return Tl(o).pipe(q(()=>{let s=this._extractIconWithNameFromAnySet(t,r);if(!s)throw zV(t);return s}))}_extractIconWithNameFromAnySet(t,r){for(let i=r.length-1;i>=0;i--){let o=r[i];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){let s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(it(r=>t.svgText=r),q(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?W(null):this._fetchIcon(t).pipe(it(r=>t.svgText=r))}_extractSvgIconFromSet(t,r,i){let o=t.querySelector(`[id="${r}"]`);if(!o)return null;let s=o.cloneNode(!0);if(s.removeAttribute("id"),s.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(s,i);if(s.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(s),i);let a=this._svgElementFromString(Hd("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,i)}_svgElementFromString(t){let r=this._document.createElement("DIV");r.innerHTML=t;let i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(t){let r=this._svgElementFromString(Hd("<svg></svg>")),i=t.attributes;for(let o=0;o<i.length;o++){let{name:s,value:a}=i[o];s!=="id"&&r.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&r.appendChild(t.childNodes[o].cloneNode(!0));return r}_setSvgAttributes(t,r){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),r&&r.viewBox&&t.setAttribute("viewBox",r.viewBox),t}_fetchIcon(t){let{url:r,options:i}=t,o=i?.withCredentials??!1;if(!this._httpClient)throw YY();if(r==null)throw Error(`Cannot fetch icon from URL "${r}".`);let s=this._sanitizer.sanitize(mn.RESOURCE_URL,r);if(!s)throw HV(r);let a=this._inProgressUrlFetches.get(s);if(a)return a;let c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(q(u=>Hd(u)),Xi(()=>this._inProgressUrlFetches.delete(s)),Rl());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(t,r,i){return this._svgIconConfigs.set(GV(t,r),i),this}_addSvgIconSetConfig(t,r){let i=this._iconSetConfigs.get(t);return i?i.push(r):this._iconSetConfigs.set(t,[r]),this}_svgElementFromConfig(t){if(!t.svgElement){let r=this._svgElementFromString(t.svgText);this._setSvgAttributes(r,t.options),t.svgElement=r}return t.svgElement}_getIconConfigFromResolvers(t,r){for(let i=0;i<this._resolvers.length;i++){let o=this._resolvers[i](r,t);if(o)return QY(o)?new Fi(o.url,null,o.options):new Fi(o,null)}}static \u0275fac=function(r){return new(r||n)(Z(RE,8),Z(ME),Z(ce,8),Z(Ht))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vv(n){return n.cloneNode(!0)}function GV(n,e){return n+":"+e}function QY(n){return!!(n.url&&n.options)}var ZY=["*"],XY=new O("MAT_ICON_DEFAULT_OPTIONS"),JY=new O("mat-icon-location",{providedIn:"root",factory:eQ});function eQ(){let n=_(ce),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}var KV=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tQ=KV.map(n=>`[${n}]`).join(", "),nQ=/^url\(['"]?#(.*?)['"]?\)$/,YV=(()=>{class n{_elementRef=_(Ee);_iconRegistry=_(WV);_location=_(JY);_errorHandler=_(Ht);_defaultColor;get color(){return this._color||this._defaultColor}set color(t){this._color=t}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(t){let r=this._cleanupFontValue(t);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(t){let r=this._cleanupFontValue(t);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Ie.EMPTY;constructor(){let t=_(new Ms("aria-hidden"),{optional:!0}),r=_(XY,{optional:!0});r&&(r.color&&(this.color=this._defaultColor=r.color),r.fontSet&&(this.fontSet=r.fontSet)),t||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];let r=t.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let t=this._elementsWithExternalReferences;if(t&&t.size){let r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();let r=this._location.getPathname();this._previousPath=r,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(r),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){let t=this._elementRef.nativeElement,r=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){let i=t.childNodes[r];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let t=this._elementRef.nativeElement,r=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>t.classList.remove(i)),r.forEach(i=>t.classList.add(i)),this._previousFontSetClass=r,this.fontIcon!==this._previousFontIconClass&&!r.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return typeof t=="string"?t.trim().split(" ")[0]:t}_prependPathToReferences(t){let r=this._elementsWithExternalReferences;r&&r.forEach((i,o)=>{i.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){let r=t.querySelectorAll(tQ),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<r.length;o++)KV.forEach(s=>{let a=r[o],c=a.getAttribute(s),u=c?c.match(nQ):null;if(u){let d=i.get(a);d||(d=[],i.set(a,d)),d.push({name:s,value:u[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){let[r,i]=this._splitIconName(t);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(dn(1)).subscribe(o=>this._setSvgElement(o),o=>{let s=`Error retrieving icon ${r}:${i}! ${o.message}`;this._errorHandler.handleError(new Error(s))})}}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=Te({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(r,i){r&2&&(lt("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),Rs(i.color?"mat-"+i.color:""),Ue("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Me],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:ZY,decls:1,vars:0,template:function(r,i){r&1&&(Dn(),ot(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})(),QV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=ge({type:n});static \u0275inj=fe({imports:[ft,ft]})}return n})();var _v=class n{constructor(e,t){this.auth=e;this.analytics=t;dO(this.auth).subscribe(r=>{this.userSubject.next(r),r?LF(this.analytics,r.uid):this.signInAnonymously()})}userSubject=new pt(null);user$=this.userSubject.asObservable();signInAnonymously(){return y(this,null,function*(){try{yield fO(this.auth)}catch(e){console.error("Error signing in anonymously:",e)}})}getCurrentUser(){return this.auth.currentUser}getUserId(){return this.auth.currentUser?.uid??""}static \u0275fac=function(t){return new(t||n)(Z(Ws),Z(Pi))};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var yv=class n{collectionName="shopping-items";firestore=_(aa);authService=_(_v);collectionRef=Q1(this.firestore,this.collectionName);docRef=e=>X1(this.collectionRef,e);getItems(){return this.authService.user$.pipe(mt(e=>{if(!e)return[];let t=tF(this.collectionRef,eF("lastModifiedAt","desc"));return K1(t,{idField:"id"})}),q(e=>e),q(e=>e.sort((t,r)=>t.bought!==r.bought?t.bought?1:-1:r.lastModifiedAt-t.lastModifiedAt)))}addItem(e){return y(this,null,function*(){let t=Date.now();yield Y1(this.collectionRef,{name:e,bought:!1,timestamp:t,lastModifiedBy:this.authService.getUserId(),lastModifiedAt:t})})}toggleItemStatus(e){return y(this,null,function*(){let t=this.docRef(e),r=yield f_(this.getItems().pipe(q(i=>i.find(o=>o.id===e))));r&&(yield nF(t,{bought:!r.bought,lastModifiedBy:this.authService.getUserId(),lastModifiedAt:Date.now()}))})}deleteItem(e){return y(this,null,function*(){let t=this.docRef(e);yield Z1(t)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=P({token:n,factory:n.\u0275fac,providedIn:"root"})};var ZV=(n,e)=>e.id;function oQ(n,e){if(n&1){let t=on();z(0,"li"),Qe(1),z(2,"div",10)(3,"button",11),Ae("click",function(){let i=Je(t).$implicit,o=xe();return et(o.deleteItem(i.id))}),z(4,"mat-icon"),Qe(5,"delete"),K()(),z(6,"button",12),Ae("click",function(){let i=Je(t).$implicit,o=xe();return et(o.toggleItem(i.id))}),z(7,"mat-icon",13),Qe(8,"done"),K()()()()}if(n&2){let t=e.$implicit;Y(),mr(" ",t.name," ")}}function sQ(n,e){if(n&1){let t=on();z(0,"li")(1,"span",14),Qe(2),K(),z(3,"div",10)(4,"button",11),Ae("click",function(){let i=Je(t).$implicit,o=xe();return et(o.deleteItem(i.id))}),z(5,"mat-icon"),Qe(6,"delete"),K()(),z(7,"button",12),Ae("click",function(){let i=Je(t).$implicit,o=xe();return et(o.toggleItem(i.id))}),z(8,"mat-icon",15),Qe(9,"refresh"),K()()()()}if(n&2){let t=e.$implicit;Y(2),Tn(t.name)}}var bv=class n{constructor(e,t){this.shoppingListService=e;this.analytics=t;this.shoppingListService.getItems().subscribe(r=>{this.items=r})}items=[];pageSize=10;pendingPageIndex=0;boughtPageIndex=0;get pendingItems(){let e=this.items.filter(r=>!r.bought),t=this.pendingPageIndex*this.pageSize;return e.slice(t,t+this.pageSize)}get boughtItems(){let e=this.items.filter(r=>r.bought),t=this.boughtPageIndex*this.pageSize;return e.slice(t,t+this.pageSize)}get pendingItemsCount(){return this.items.filter(e=>!e.bought).length}get boughtItemsCount(){return this.items.filter(e=>e.bought).length}onPendingPageChange(e){this.pendingPageIndex=e.pageIndex}onBoughtPageChange(e){this.boughtPageIndex=e.pageIndex}addItem(e){return y(this,null,function*(){e.trim()&&(yield this.shoppingListService.addItem(e.trim()),Dg(this.analytics,"add_item",{itemName:e.trim()}))})}toggleItem(e){return y(this,null,function*(){yield this.shoppingListService.toggleItemStatus(e),Dg(this.analytics,"toggle_item",{itemId:e})})}deleteItem(e){return y(this,null,function*(){yield this.shoppingListService.deleteItem(e),Dg(this.analytics,"delete_item",{itemId:e})})}static \u0275fac=function(t){return new(t||n)(Ft(yv),Ft(Pi))};static \u0275cmp=Te({type:n,selectors:[["app-shopping-list"]],decls:23,vars:6,consts:[["itemInput",""],[1,"shopping-list"],[1,"add-item"],["type","text","placeholder","Add new item",3,"keyup.enter"],[3,"click"],[1,"lists-container"],[1,"pending-items"],["aria-label","Select page of pending items",3,"page","length","pageSize","pageIndex"],[1,"bought-items"],["aria-label","Select page of bought items",3,"page","length","pageSize","pageIndex"],[1,"button-group"],[1,"icon-btn",3,"click"],[1,"icon-btn-toggle",3,"click"],[1,"done"],[1,"bought"],[1,"return"]],template:function(t,r){if(t&1){let i=on();z(0,"div",1)(1,"h2"),Qe(2,"Shopping List"),K(),z(3,"div",2)(4,"input",3,0),Ae("keyup.enter",function(){Je(i);let s=pr(5);return r.addItem(s.value),et(s.value="")}),K(),z(6,"button",4),Ae("click",function(){Je(i);let s=pr(5);return r.addItem(s.value),et(s.value="")}),Qe(7,"Add"),K()(),z(8,"div",5)(9,"div",6)(10,"h3"),Qe(11,"Items to Buy"),K(),z(12,"ul"),tc(13,oQ,9,1,"li",null,ZV),K(),z(15,"mat-paginator",7),Ae("page",function(s){return Je(i),et(r.onPendingPageChange(s))}),K()(),z(16,"div",8)(17,"h3"),Qe(18,"Already Bought"),K(),z(19,"ul"),tc(20,sQ,10,1,"li",null,ZV),K(),z(22,"mat-paginator",9),Ae("page",function(s){return Je(i),et(r.onBoughtPageChange(s))}),K()()()()}t&2&&(Y(13),nc(r.pendingItems),Y(2),Be("length",r.pendingItemsCount)("pageSize",r.pageSize)("pageIndex",r.pendingPageIndex),Y(5),nc(r.boughtItems),Y(2),Be("length",r.boughtItemsCount)("pageSize",r.pageSize)("pageIndex",r.boughtPageIndex))},dependencies:[up,dL,$V,HT,pv,QV,YV],styles:[".shopping-list[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:20px}.add-item[_ngcontent-%COMP%]{margin-bottom:20px;display:flex;gap:10px}.add-item[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex-grow:1;padding:8px;border:1px solid #ddd;border-radius:4px}.add-item[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer}.lists-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}ul[_ngcontent-%COMP%]{list-style:none;padding:0}li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px;border-bottom:1px solid #eee}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:4px 8px;background-color:#2196f3;color:#fff;border:none;border-radius:4px;cursor:pointer}.bought[_ngcontent-%COMP%]{text-decoration:line-through;color:#666}mat-paginator[_ngcontent-%COMP%]{background:transparent;margin-top:10px}li[_ngcontent-%COMP%]   button.icon-btn-toggle[_ngcontent-%COMP%]{min-width:0;width:28px;height:28px;display:flex;justify-content:center;align-items:center;background-color:#2196f3}.done[_ngcontent-%COMP%]{padding-right:22px}.return[_ngcontent-%COMP%]{padding-right:24px}li[_ngcontent-%COMP%]   button.icon-btn[_ngcontent-%COMP%]{padding:10px 4px 4px;min-width:0;width:28px;height:28px;display:flex;justify-content:center;align-items:center;background-color:#f44336;border-radius:50%}li[_ngcontent-%COMP%]   button.icon-btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;display:block}li[_ngcontent-%COMP%]   .button-group[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center}"]})};var Ev=class n{title=$e("shopping-list");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Te({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){t&1&&dt(0,"app-shopping-list")(1,"router-outlet")},dependencies:[Pu,bv],encapsulation:2})};IE(Ev,UF).catch(n=>console.error(n));
